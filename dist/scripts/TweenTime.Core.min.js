!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("lodash"),require(void 0),require("TweenMax")):"function"==typeof define&&define.amd?define(["lodash","signals","TweenMax"],e):"object"==typeof exports?exports.Core=e(require("lodash"),require("./signals"),require("TweenMax")):(t.TweenTime=t.TweenTime||{},t.TweenTime.Core=e(t._,t.signals,t.TweenMax))}(this,function(t,e,i){return function(t){function e(r){if(i[r])return i[r].exports;var n=i[r]={exports:{},id:r,loaded:!1};return t[r].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";i(12);var r=i(1),n=i(2)["default"],o=i(3)["default"],a=i(4)["default"],s=function(){var t=function(t,e){void 0===e&&(e={}),this.data=t,this.timer=new o(e),this.orchestrator=new a(this.timer,this.data)};return t.prototype.getItem=function(t){return t&&"object"==typeof t?t:r.find(this.data,function(e){return e.id==t})},t.prototype.getProperty=function(t,e){return e=this.getItem(e),e?r.find(e.properties,function(e){return e.name==t}):!1},t.prototype.getValues=function(t){return t=this.getItem(t),t?t.values:void 0},t.prototype.getValue=function(t,e){var i=this.getValues(e);return i&&void 0!==i[t]?i[t]:void 0},t.prototype.getKeyAt=function(t,e){return r.find(t.keys,function(t){return t.time==e})},t.prototype.setValue=function(t,e,i){void 0===i&&(i=!1),i===!1&&(i=this.timer.getCurrentTime()/1e3);var r=this.getKeyAt(t,i);r?r.val=e:0===t.keys.length?t.val=e:(r={val:e,time:i,_property:t},t.keys.push(r),t.keys=n.sortKeys(t.keys))},t.prototype.getTotalDuration=function(){return this.orchestrator.getTotalDuration()},t}();t.exports=s},function(e){e.exports=t},function(t,e){"use strict";var i=function(){var t=function(){};return t.formatMinutes=function(t){t/=1e3;var e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),r=t-60*i,n=r+"s";return i&&(n=i+"m "+n),e&&(n=e+"h "+n),n},t.getClosestTime=function(t,e,i,r,n,o){if(void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===n&&(n=!1),void 0===o&&(o=.1),n){var a=n.getCurrentTime()/1e3;if(Math.abs(a-e)<=o)return a}if(i||r)for(var s=0;s<t.length;s++){var u=t[s];if(u.id!=i||r){if(Math.abs(u.start-e)<=o)return u.start;if(Math.abs(u.end-e)<=o)return u.end}for(var p=0;p<u.properties.length;p++){var l=u.properties[p];if(l.keys&&(u.id!=i||l.name!=r))for(var h=0;h<l.keys.length;h++){var f=l.keys[h];if(Math.abs(f.time-e)<=o)return f.time}}}return!1},t.getPreviousKey=function(t,e){for(var i=!1,r=0;r<t.length;r++){var n=t[r];if(!(n.time<e))return i;i=n}return i},t.sortKeys=function(t){var e=function(t,e){return t.time<e.time?-1:t.time>e.time?1:0};return t.sort(e)},t.guid=function(){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t}();e["default"]=i},function(t,e,i){"use strict";var r=i(13),n=function(){var t=function(t){var e=this;void 0===t&&(t={}),this.totalDuration=t.totalDuration||24e4,this.time=[0],this.is_playing=!1,this.last_timeStamp=-1,this.last_time=-1,this.updated=new r.Signal,this.statusChanged=new r.Signal,this.durationChanged=new r.Signal,this.seeked=new r.Signal,window.requestAnimationFrame(function(t){return e.update(t)})};return t.prototype.getCurrentTime=function(){return this.time[0]},t.prototype.getDuration=function(){return this.totalDuration/1e3},t.prototype.setDuration=function(t){this.totalDuration=1e3*t,this.durationChanged.dispatch(t)},t.prototype.play=function(){this.is_playing=!0,this.statusChanged.dispatch(this.is_playing)},t.prototype.stop=function(){this.is_playing=!1,this.statusChanged.dispatch(this.is_playing)},t.prototype.toggle=function(){this.is_playing=!this.is_playing,this.statusChanged.dispatch(this.is_playing)},t.prototype.seek=function(t){this.time[0]=t[0],this.seeked.dispatch(this.time[0])},t.prototype.update=function(t){var e=this;-1==this.last_timeStamp&&(this.last_timeStamp=t);var i=t-this.last_timeStamp;this.is_playing&&(this.time[0]+=i),this.time[0]>=this.totalDuration&&(this.time[0]=this.totalDuration,this.stop()),this.updated.dispatch(this.time[0]),this.last_timeStamp=t,this.last_time=this.time[0],window.requestAnimationFrame(function(t){return e.update(t)})},t}();e["default"]=n},function(t,e,i){"use strict";var r=i(13),n=i(14),o=function(){var t=function(t,e){this.update=this.update.bind(this),this.timer=t,this.data=e,this.mainTimeline=new TimelineMax({paused:!0}),this.onUpdate=new r.Signal,this.timer.updated.add(this.update),this.update(0)};return t.prototype.getTotalDuration=function(){return this.mainTimeline.totalDuration()},t.prototype.getEasing=function(t){if(void 0===t&&(t=!1),t&&t.ease){var e=t.ease.split(".");if(2==e.length&&window[e[0]]&&window[e[0]][e[1]])return window[e[0]][e[1]]}return Quad.easeOut},t.prototype.initSpecialProperties=function(t){t._domHelper=document.createElement("div");for(var e=0;e<t.properties.length;e++){var i=t.properties[e];i.type&&"color"==i.type&&(i.css=!0),i.css&&(t._domHelper.style[i.name]=i.val)}},t.prototype.initItemValues=function(t){t.values={};for(var e=0;e<t.properties.length;e++){var i=t.properties[e];i.keys.length&&(i.val=i.keys[0].val),t.values[i.name]=i.val}},t.prototype.update=function(t){var e,i,r,o,a=t/1e3,s=!1;for(e=0;e<this.data.length;e++)if(i=this.data[e],i._domHelper||this.initSpecialProperties(i),i.values||this.initItemValues(i),i._timeline||(i._timeline=new TimelineMax,this.mainTimeline.add(i._timeline,0),i._isDirty=!0),i._isDirty&&(s=!0),i._timeline&&i._isDirty&&i.properties){for(i._isDirty=!1,o=0;o<i.properties.length;o++){r=i.properties[o],r._timeline?r._timeline.clear():(r._timeline=new TimelineMax,i._timeline.add(r._timeline,0));var u=r._timeline,p=r.name;if(r.keys.length){var l=i.values,h=r.keys[0],f=0;h&&(f=Math.min(-1,h.time-.1));var c=0,d={},m=this.getEasing();d.ease=m,r.css?(l=i._domHelper,d.css={},d.css[p]=h?h.val:r.val):d[p]=h?h.val:r.val;var y=n.to(l,c,d);u.add(y,f);for(var v=0;v<r.keys.length;v++){var g=r.keys[v];if(v<r.keys.length-1){var _=r.keys[v+1];c=_.time-g.time,d={},m=this.getEasing(_),d.ease=m,r.css?(d.css={},d.css[p]=_.val):d[p]=_.val,y=n.to(l,c,d),u.add(y,g.time)}}u.seek(a)}else i.values[r.name]=r.val}a>0?a-=1e-7:a+=1e-7}for(this.mainTimeline.seek(a),e=0;e<this.data.length;e++)for(i=this.data[e],o=0;o<i.properties.length;o++)r=i.properties[o],r.css&&r.keys.length&&(i.values[r.name]=i._domHelper.style[r.name]);s&&this.onUpdate.dispatch()},t}();e["default"]=o},,,,,,,,function(t,e){(function(t){!function(t){var e=t.to5Runtime={};e["extends"]=function(t,e){t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),t.__proto__=e},e.classProps=function(t,e,i){e&&Object.defineProperties(t,e),i&&Object.defineProperties(t.prototype,i)},e.applyConstructor=function(t,e){var i=Object.create(t.prototype),r=t.apply(i,e);return null==r||"object"!=typeof r&&"function"!=typeof r?i:r},e.taggedTemplateLiteral=function(t,e){return Object.defineProperties(t,{raw:{value:e}})},e.interopRequire=function(t){return t&&(t["default"]||t)},e.toArray=function(t){return Array.isArray(t)?t:Array.from(t)},e.objectSpread=function(t,e){var i={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r]);return i},e.hasOwn=Object.prototype.hasOwnProperty,e.slice=Array.prototype.slice}("undefined"==typeof t?self:t)}).call(e,function(){return this}())},function(t){t.exports=e},function(t){t.exports=i}])});
//# sourceMappingURL=TweenTime.Core.min.js.map