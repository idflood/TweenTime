!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("signals"),require("gsap"),require("lodash")):"function"==typeof define&&define.amd?define(["signals","TweenMax","lodash"],t):"object"==typeof exports?exports.Core=t(require("signals"),require("gsap"),require("lodash")):(e.TweenTime=e.TweenTime||{},e.TweenTime.Core=t(e.signals,e.TweenMax,e._))}(this,function(e,t,i){return function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(1),o=n(u),l=i(2),f=n(l),h=i(4),m=n(h),c=i(6),d=function(){function e(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];a(this,e),this.data=t,this.options=i,this.timer=new f["default"](i),this.orchestrator=new m["default"](this.timer,this.data)}return s(e,[{key:"getItem",value:function(e){return e&&"object"===("undefined"==typeof e?"undefined":r(e))?e:c.find(this.data,function(t){return t.id===e})}},{key:"getProperty",value:function(e,t){var i=this.getItem(t);return i?c.find(i.properties,function(t){return t.name===e}):!1}},{key:"getValues",value:function(e){var t=this.getItem(e);return t?t.values:void 0}},{key:"getValue",value:function(e,t){var i=this.getValues(t);return i&&void 0!==i[e]?i[e]:void 0}},{key:"getKeyAt",value:function(e,t){return c.find(e.keys,function(e){return e.time===t})}},{key:"setValue",value:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],n=i;n===!1&&(n=this.timer.getCurrentTime()/1e3);var a=this.getKeyAt(e,n);a?a.val=t:(a={val:t,time:n,_property:e},this.options.defaultEase&&(a.ease=this.options.defaultEase),e.keys.push(a),e.keys=o["default"].sortKeys(e.keys))}},{key:"getTotalDuration",value:function(){return this.orchestrator.getTotalDuration()}}]),e}();e.exports=d},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(){i(this,e)}return n(e,null,[{key:"formatMinutes",value:function(e){var t=e/1e3,i=Math.floor(t/3600),n=Math.floor((t-3600*i)/60);t-=60*n;var a=t+"s";return n&&(a=n+"m "+a),i&&(a=i+"h "+a),a}},{key:"getClosestTime",value:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],n=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],a=arguments.length<=4||void 0===arguments[4]?!1:arguments[4],r=arguments.length<=5||void 0===arguments[5]?.1:arguments[5];if(a){var s=a.getCurrentTime()/1e3;if(Math.abs(s-t)<=r)return s}if(i||n)for(var u=0;u<e.length;u++){var o=e[u];if(o.id!==i||n){if(Math.abs(o.start-t)<=r)return o.start;if(Math.abs(o.end-t)<=r)return o.end}for(var l=0;l<o.properties.length;l++){var f=o.properties[l];if(f.keys&&(o.id!==i||f.name!==n))for(var h=0;h<f.keys.length;h++){var m=f.keys[h];if(Math.abs(m.time-t)<=r)return m.time}}}return!1}},{key:"getPreviousKey",value:function(e,t){for(var i=!1,n=0;n<e.length;n++){var a=e[n];if(!(a.time<t))return i;i=a}return i}},{key:"sortKeys",value:function(e){var t=function(e,t){return e.time<t.time?-1:e.time>t.time?1:0};return e.sort(t)}},{key:"guid",value:function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}]),e}();t["default"]=a},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(3),s=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];n(this,e),this.totalDuration=t.totalDuration||24e4,this.time=[0],this.is_playing=!1,this.last_timeStamp=-1,this.last_time=-1,this.updated=new r.Signal,this.statusChanged=new r.Signal,this.durationChanged=new r.Signal,this.seeked=new r.Signal,this.update=this.update.bind(this),window.requestAnimationFrame(this.update)}return a(e,[{key:"getCurrentTime",value:function(){return this.time[0]}},{key:"getDuration",value:function(){return this.totalDuration/1e3}},{key:"setDuration",value:function(e){this.totalDuration=1e3*e,this.durationChanged.dispatch(e)}},{key:"play",value:function(){this.is_playing=!0,this.statusChanged.dispatch(this.is_playing)}},{key:"stop",value:function(){this.is_playing=!1,this.statusChanged.dispatch(this.is_playing)}},{key:"toggle",value:function(){this.is_playing=!this.is_playing,this.statusChanged.dispatch(this.is_playing)}},{key:"seek",value:function(e){this.time[0]=e[0],this.seeked.dispatch(this.time[0])}},{key:"update",value:function(e){-1===this.last_timeStamp&&(this.last_timeStamp=e);var t=e-this.last_timeStamp;this.is_playing&&(this.time[0]+=t),this.time[0]>=this.totalDuration&&(this.time[0]=this.totalDuration,this.stop()),this.updated.dispatch(this.time[0]),this.last_timeStamp=e,this.last_time=this.time[0],window.requestAnimationFrame(this.update)}}]),e}();t["default"]=s},function(t,i){t.exports=e},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(3),s=i(5),u=function(){function e(t,i){n(this,e),this.update=this.update.bind(this),this.timer=t,this.data=i,this.mainTimeline=new TimelineMax({paused:!0}),this.onUpdate=new r.Signal,this.timer.updated.add(this.update),this.update(0)}return a(e,[{key:"getTotalDuration",value:function(){return this.mainTimeline.totalDuration()}},{key:"getEasing",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];if(e&&e.ease){var t=e.ease.split(".");if(2===t.length&&window[t[0]]&&window[t[0]][t[1]])return window[t[0]][t[1]]}return Quad.easeOut}},{key:"initSpecialProperties",value:function(e){e._domHelper=document.createElement("div");for(var t=0;t<e.properties.length;t++){var i=e.properties[t];i.type&&"color"===i.type&&(i.css=!0),i.css&&(e._domHelper.style[i.name]=i.val)}}},{key:"initItemValues",value:function(e){e.values={};for(var t=0;t<e.properties.length;t++){var i=e.properties[t];i.keys.length&&(i.val=i.keys[0].val),e.values[i.name]=i.val}}},{key:"update",value:function(e){var t,i,n,a,r=e/1e3,u=!1;for(t=0;t<this.data.length;t++)if(i=this.data[t],i._domHelper||this.initSpecialProperties(i),i.values||this.initItemValues(i),i._timeline||(i._timeline=new TimelineMax,this.mainTimeline.add(i._timeline,0),i._isDirty=!0),i._isDirty&&(u=!0),i._timeline&&i._isDirty&&i.properties){for(i._isDirty=!1,a=0;a<i.properties.length;a++){n=i.properties[a],n._timeline?n._timeline.clear():(n._timeline=new TimelineMax,i._timeline.add(n._timeline,0));var o=n._timeline,l=n.name;if(n.keys.length){var f=i.values,h=n.keys[0],m=0;h&&(m=Math.min(-1,h.time-.1));var c=0,d={},p=this.getEasing();d.ease=p,n.css?(f=i._domHelper,d.css={},d.css[l]=h?h.val:n.val):d[l]=h?h.val:n.val;var v=s.to(f,c,d);o.add(v,m);for(var g=0;g<n.keys.length;g++){var y=n.keys[g];if(g<n.keys.length-1){var k=n.keys[g+1];c=k.time-y.time,d={},p=this.getEasing(k),d.ease=p,n.css?(d.css={},d.css[l]=k.val):d[l]=k.val,v=s.to(f,c,d),o.add(v,y.time)}}o.seek(r)}else i.values[n.name]=n.val}r>0?r-=1e-7:r+=1e-7}for(this.mainTimeline.seek(r),t=0;t<this.data.length;t++)for(i=this.data[t],a=0;a<i.properties.length;a++)n=i.properties[a],n.css&&n.keys.length&&(i.values[n.name]=i._domHelper.style[n.name]);u&&this.onUpdate.dispatch()}}]),e}();t["default"]=u},function(e,i){e.exports=t},function(e,t){e.exports=i}])});
//# sourceMappingURL=TweenTime.Core.min.js.map