(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("signals"), require("lodash"), require("d3"), require("jquery"), require("draggable-number.js"), require("spectrum-colorpicker"), require("file-saver"));
	else if(typeof define === 'function' && define.amd)
		define(["signals", "lodash", "d3", "jquery", "DraggableNumber", "spectrum", "file-saver"], factory);
	else if(typeof exports === 'object')
		exports["Editor"] = factory(require("signals"), require("lodash"), require("d3"), require("jquery"), require("draggable-number.js"), require("spectrum-colorpicker"), require("file-saver"));
	else
		root["TweenTime"] = root["TweenTime"] || {}, root["TweenTime"]["Editor"] = factory(root["signals"], root["_"], root["d3"], root["$"], root["DraggableNumber"], root["spectrum"], root["saveAs"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_25__, __WEBPACK_EXTERNAL_MODULE_29__, __WEBPACK_EXTERNAL_MODULE_35__, __WEBPACK_EXTERNAL_MODULE_45__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Timeline = __webpack_require__(13);\n\nvar _Timeline2 = _interopRequireDefault(_Timeline);\n\nvar _PropertiesEditor = __webpack_require__(24);\n\nvar _PropertiesEditor2 = _interopRequireDefault(_PropertiesEditor);\n\nvar _EditorMenu = __webpack_require__(44);\n\nvar _EditorMenu2 = _interopRequireDefault(_EditorMenu);\n\nvar _EditorControls = __webpack_require__(46);\n\nvar _EditorControls2 = _interopRequireDefault(_EditorControls);\n\nvar _SelectionManager = __webpack_require__(47);\n\nvar _SelectionManager2 = _interopRequireDefault(_SelectionManager);\n\nvar _Exporter = __webpack_require__(48);\n\nvar _Exporter2 = _interopRequireDefault(_Exporter);\n\nvar _UndoManager = __webpack_require__(49);\n\nvar _UndoManager2 = _interopRequireDefault(_UndoManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar tpl_timeline = __webpack_require__(50);\n\nvar Signals = __webpack_require__(6);\n\nvar Editor = function () {\n  function Editor(tweenTime) {\n    var _this = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Editor);\n\n    this.tweenTime = tweenTime;\n    this.options = options;\n    this.timer = this.tweenTime.timer;\n    this.lastTime = -1;\n    this.curveEditEnabled = false;\n\n    this.onKeyAdded = this.onKeyAdded.bind(this);\n    this.onKeyRemoved = this.onKeyRemoved.bind(this);\n\n    this.forceItemsRender = this.forceItemsRender.bind(this);\n\n    var el = options.el || $('body');\n    this.el = el;\n    this.$timeline = $(tpl_timeline());\n    el.append(this.$timeline);\n    el.addClass('has-editor');\n\n    this.selectionManager = new _SelectionManager2.default(this.tweenTime);\n    this.exporter = new _Exporter2.default(this);\n    this.timeline = new _Timeline2.default(this, options);\n\n    this.propertiesEditor = new _PropertiesEditor2.default(this, this.selectionManager);\n    this.propertiesEditor.keyAdded.add(this.onKeyAdded);\n    this.propertiesEditor.keyRemoved.add(this.onKeyRemoved);\n\n    this.menu = new _EditorMenu2.default(this.tweenTime, this.$timeline, this);\n    if (this.options.onMenuCreated !== undefined) {\n      this.options.onMenuCreated(this.$timeline.find('.timeline__menu'), this);\n    }\n\n    this.controls = new _EditorControls2.default(this.tweenTime, this.$timeline);\n    this.undoManager = new _UndoManager2.default(this);\n\n    // Public events.\n    this.onSelect = new Signals.Signal();\n    var self = this;\n    this.selectionManager.onSelect.add(function (selection, addToSelection) {\n      // Propagate the event.\n      self.onSelect.dispatch(selection, addToSelection);\n    });\n\n    // Will help resize the canvas to correct size (minus sidebar and timeline)\n    window.editorEnabled = true;\n    window.dispatchEvent(new Event('resize'));\n    window.requestAnimationFrame(function () {\n      return _this.update();\n    });\n  }\n\n  _createClass(Editor, [{\n    key: 'forceItemsRender',\n    value: function forceItemsRender() {\n      this.timeline._isDirty = true;\n    }\n  }, {\n    key: 'select',\n    value: function select(item) {\n      var addToSelection = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      this.selectionManager.select(item, addToSelection);\n    }\n  }, {\n    key: 'getSelection',\n    value: function getSelection() {\n      return this.selectionManager.getSelection();\n    }\n  }, {\n    key: 'onKeyAdded',\n    value: function onKeyAdded() {\n      this.undoManager.addState();\n      this.render(false, false, true);\n    }\n  }, {\n    key: 'onKeyRemoved',\n    value: function onKeyRemoved(item) {\n      this.selectionManager.removeItem(item._id);\n      this.undoManager.addState();\n      if (this.selectionManager.selection.length) {\n        this.selectionManager.triggerSelect();\n      }\n      this.render(false, false, true);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var time_changed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var force = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var time2 = time;\n      if (time2 === false) {\n        time2 = this.timer.time[0];\n      }\n      if (force) {\n        this.timeline._isDirty = true;\n      }\n      this.timeline.render(time2, time_changed);\n      this.controls.render(time2, time_changed);\n      this.propertiesEditor.render(time2, time_changed);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var _this2 = this;\n\n      var time = this.timer.time[0];\n      var time_changed = this.lastTime === time ? false : true;\n\n      this.render(time, time_changed);\n      this.lastTime = this.timer.time[0];\n      window.requestAnimationFrame(function () {\n        return _this2.update();\n      });\n    }\n  }]);\n\n  return Editor;\n}();\n\nmodule.exports = Editor;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9FZGl0b3IuanM/ZmY5NiJdLCJuYW1lcyI6WyJ0cGxfdGltZWxpbmUiLCJyZXF1aXJlIiwiU2lnbmFscyIsIkVkaXRvciIsInR3ZWVuVGltZSIsIm9wdGlvbnMiLCJ0aW1lciIsImxhc3RUaW1lIiwiY3VydmVFZGl0RW5hYmxlZCIsIm9uS2V5QWRkZWQiLCJiaW5kIiwib25LZXlSZW1vdmVkIiwiZm9yY2VJdGVtc1JlbmRlciIsImVsIiwiJCIsIiR0aW1lbGluZSIsImFwcGVuZCIsImFkZENsYXNzIiwic2VsZWN0aW9uTWFuYWdlciIsImV4cG9ydGVyIiwidGltZWxpbmUiLCJwcm9wZXJ0aWVzRWRpdG9yIiwia2V5QWRkZWQiLCJhZGQiLCJrZXlSZW1vdmVkIiwibWVudSIsIm9uTWVudUNyZWF0ZWQiLCJ1bmRlZmluZWQiLCJmaW5kIiwiY29udHJvbHMiLCJ1bmRvTWFuYWdlciIsIm9uU2VsZWN0IiwiU2lnbmFsIiwic2VsZiIsInNlbGVjdGlvbiIsImFkZFRvU2VsZWN0aW9uIiwiZGlzcGF0Y2giLCJ3aW5kb3ciLCJlZGl0b3JFbmFibGVkIiwiZGlzcGF0Y2hFdmVudCIsIkV2ZW50IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidXBkYXRlIiwiX2lzRGlydHkiLCJpdGVtIiwic2VsZWN0IiwiZ2V0U2VsZWN0aW9uIiwiYWRkU3RhdGUiLCJyZW5kZXIiLCJyZW1vdmVJdGVtIiwiX2lkIiwibGVuZ3RoIiwidHJpZ2dlclNlbGVjdCIsInRpbWUiLCJ0aW1lX2NoYW5nZWQiLCJmb3JjZSIsInRpbWUyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7OztBQVBBLElBQUlBLGVBQWUsbUJBQUFDLENBQVEsRUFBUixDQUFuQjs7QUFRQSxJQUFJQyxVQUFVLG1CQUFBRCxDQUFRLENBQVIsQ0FBZDs7SUFFTUUsTTtBQUNK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QUFoQixDQUFYO0FBQ0EsVUFBSUMsZUFBZSxLQUFLL0MsUUFBTCxLQUFrQjhDLElBQWxCLEdBQXlCLEtBQXpCLEdBQWlDLElBQXBEOztBQUVBLFdBQUtMLE1BQUwsQ0FBWUssSUFBWixFQUFrQkMsWUFBbEI7QUFDQSxXQUFLL0MsUUFBTCxHQUFnQixLQUFLRCxLQUFMLENBQVcrQyxJQUFYLENBQWdCLENBQWhCLENBQWhCO0FBQ0FoQixhQUFPSSxxQkFBUCxDQUE2QjtBQUFBLGVBQU0sT0FBS0MsTUFBTCxFQUFOO0FBQUEsT0FBN0I7QUFDRDs7Ozs7O0FBR0hlLE9BQU9DLE9BQVAsR0FBaUJ2RCxNQUFqQiIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHRwbF90aW1lbGluZSA9IHJlcXVpcmUoJy4vdGVtcGxhdGVzL3RpbWVsaW5lLnRwbC5odG1sJyk7XG5pbXBvcnQgVGltZWxpbmUgZnJvbSAnLi9ncmFwaC9UaW1lbGluZSc7XG5pbXBvcnQgUHJvcGVydGllc0VkaXRvciBmcm9tICcuL2VkaXRvci9Qcm9wZXJ0aWVzRWRpdG9yJztcbmltcG9ydCBFZGl0b3JNZW51IGZyb20gJy4vZWRpdG9yL0VkaXRvck1lbnUnO1xuaW1wb3J0IEVkaXRvckNvbnRyb2xzIGZyb20gJy4vZWRpdG9yL0VkaXRvckNvbnRyb2xzJztcbmltcG9ydCBTZWxlY3Rpb25NYW5hZ2VyIGZyb20gJy4vZWRpdG9yL1NlbGVjdGlvbk1hbmFnZXInO1xuaW1wb3J0IEV4cG9ydGVyIGZyb20gJy4vZWRpdG9yL0V4cG9ydGVyJztcbmltcG9ydCBVbmRvTWFuYWdlciBmcm9tICcuL2VkaXRvci9VbmRvTWFuYWdlcic7XG5sZXQgU2lnbmFscyA9IHJlcXVpcmUoJ2pzLXNpZ25hbHMnKTtcblxuY2xhc3MgRWRpdG9yIHtcbiAgY29uc3RydWN0b3IodHdlZW5UaW1lLCBvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLnR3ZWVuVGltZSA9IHR3ZWVuVGltZTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMudGltZXIgPSB0aGlzLnR3ZWVuVGltZS50aW1lcjtcbiAgICB0aGlzLmxhc3RUaW1lID0gLTE7XG4gICAgdGhpcy5jdXJ2ZUVkaXRFbmFibGVkID0gZmFsc2U7XG5cbiAgICB0aGlzLm9uS2V5QWRkZWQgPSB0aGlzLm9uS2V5QWRkZWQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uS2V5UmVtb3ZlZCA9IHRoaXMub25LZXlSZW1vdmVkLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmZvcmNlSXRlbXNSZW5kZXIgPSB0aGlzLmZvcmNlSXRlbXNSZW5kZXIuYmluZCh0aGlzKTtcblxuICAgIHZhciBlbCA9IG9wdGlvbnMuZWwgfHwgJCgnYm9keScpO1xuICAgIHRoaXMuZWwgPSBlbDtcbiAgICB0aGlzLiR0aW1lbGluZSA9ICQodHBsX3RpbWVsaW5lKCkpO1xuICAgIGVsLmFwcGVuZCh0aGlzLiR0aW1lbGluZSk7XG4gICAgZWwuYWRkQ2xhc3MoJ2hhcy1lZGl0b3InKTtcblxuICAgIHRoaXMuc2VsZWN0aW9uTWFuYWdlciA9IG5ldyBTZWxlY3Rpb25NYW5hZ2VyKHRoaXMudHdlZW5UaW1lKTtcbiAgICB0aGlzLmV4cG9ydGVyID0gbmV3IEV4cG9ydGVyKHRoaXMpO1xuICAgIHRoaXMudGltZWxpbmUgPSBuZXcgVGltZWxpbmUodGhpcywgb3B0aW9ucyk7XG5cbiAgICB0aGlzLnByb3BlcnRpZXNFZGl0b3IgPSBuZXcgUHJvcGVydGllc0VkaXRvcih0aGlzLCB0aGlzLnNlbGVjdGlvbk1hbmFnZXIpO1xuICAgIHRoaXMucHJvcGVydGllc0VkaXRvci5rZXlBZGRlZC5hZGQodGhpcy5vbktleUFkZGVkKTtcbiAgICB0aGlzLnByb3BlcnRpZXNFZGl0b3Iua2V5UmVtb3ZlZC5hZGQodGhpcy5vbktleVJlbW92ZWQpO1xuXG4gICAgdGhpcy5tZW51ID0gbmV3IEVkaXRvck1lbnUodGhpcy50d2VlblRpbWUsIHRoaXMuJHRpbWVsaW5lLCB0aGlzKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLm9uTWVudUNyZWF0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5vcHRpb25zLm9uTWVudUNyZWF0ZWQodGhpcy4kdGltZWxpbmUuZmluZCgnLnRpbWVsaW5lX19tZW51JyksIHRoaXMpO1xuICAgIH1cblxuICAgIHRoaXMuY29udHJvbHMgPSBuZXcgRWRpdG9yQ29udHJvbHModGhpcy50d2VlblRpbWUsIHRoaXMuJHRpbWVsaW5lKTtcbiAgICB0aGlzLnVuZG9NYW5hZ2VyID0gbmV3IFVuZG9NYW5hZ2VyKHRoaXMpO1xuXG4gICAgLy8gUHVibGljIGV2ZW50cy5cbiAgICB0aGlzLm9uU2VsZWN0ID0gbmV3IFNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuc2VsZWN0aW9uTWFuYWdlci5vblNlbGVjdC5hZGQoZnVuY3Rpb24oc2VsZWN0aW9uLCBhZGRUb1NlbGVjdGlvbikge1xuICAgICAgLy8gUHJvcGFnYXRlIHRoZSBldmVudC5cbiAgICAgIHNlbGYub25TZWxlY3QuZGlzcGF0Y2goc2VsZWN0aW9uLCBhZGRUb1NlbGVjdGlvbik7XG4gICAgfSk7XG5cbiAgICAvLyBXaWxsIGhlbHAgcmVzaXplIHRoZSBjYW52YXMgdG8gY29ycmVjdCBzaXplIChtaW51cyBzaWRlYmFyIGFuZCB0aW1lbGluZSlcbiAgICB3aW5kb3cuZWRpdG9yRW5hYmxlZCA9IHRydWU7XG4gICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdyZXNpemUnKSk7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLnVwZGF0ZSgpKTtcbiAgfVxuXG4gIGZvcmNlSXRlbXNSZW5kZXIoKSB7XG4gICAgdGhpcy50aW1lbGluZS5faXNEaXJ0eSA9IHRydWU7XG4gIH1cblxuICBzZWxlY3QoaXRlbSwgYWRkVG9TZWxlY3Rpb24gPSBmYWxzZSkge1xuICAgIHRoaXMuc2VsZWN0aW9uTWFuYWdlci5zZWxlY3QoaXRlbSwgYWRkVG9TZWxlY3Rpb24pO1xuICB9XG5cbiAgZ2V0U2VsZWN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbk1hbmFnZXIuZ2V0U2VsZWN0aW9uKCk7XG4gIH1cblxuICBvbktleUFkZGVkKCkge1xuICAgIHRoaXMudW5kb01hbmFnZXIuYWRkU3RhdGUoKTtcbiAgICB0aGlzLnJlbmRlcihmYWxzZSwgZmFsc2UsIHRydWUpO1xuICB9XG5cbiAgb25LZXlSZW1vdmVkKGl0ZW0pIHtcbiAgICB0aGlzLnNlbGVjdGlvbk1hbmFnZXIucmVtb3ZlSXRlbShpdGVtLl9pZCk7XG4gICAgdGhpcy51bmRvTWFuYWdlci5hZGRTdGF0ZSgpO1xuICAgIGlmICh0aGlzLnNlbGVjdGlvbk1hbmFnZXIuc2VsZWN0aW9uLmxlbmd0aCkge1xuICAgICAgdGhpcy5zZWxlY3Rpb25NYW5hZ2VyLnRyaWdnZXJTZWxlY3QoKTtcbiAgICB9XG4gICAgdGhpcy5yZW5kZXIoZmFsc2UsIGZhbHNlLCB0cnVlKTtcbiAgfVxuXG4gIHJlbmRlcih0aW1lID0gZmFsc2UsIHRpbWVfY2hhbmdlZCA9IGZhbHNlLCBmb3JjZSA9IGZhbHNlKSB7XG4gICAgbGV0IHRpbWUyID0gdGltZTtcbiAgICBpZiAodGltZTIgPT09IGZhbHNlKSB7XG4gICAgICB0aW1lMiA9IHRoaXMudGltZXIudGltZVswXTtcbiAgICB9XG4gICAgaWYgKGZvcmNlKSB7XG4gICAgICB0aGlzLnRpbWVsaW5lLl9pc0RpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy50aW1lbGluZS5yZW5kZXIodGltZTIsIHRpbWVfY2hhbmdlZCk7XG4gICAgdGhpcy5jb250cm9scy5yZW5kZXIodGltZTIsIHRpbWVfY2hhbmdlZCk7XG4gICAgdGhpcy5wcm9wZXJ0aWVzRWRpdG9yLnJlbmRlcih0aW1lMiwgdGltZV9jaGFuZ2VkKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICB2YXIgdGltZSA9IHRoaXMudGltZXIudGltZVswXTtcbiAgICB2YXIgdGltZV9jaGFuZ2VkID0gdGhpcy5sYXN0VGltZSA9PT0gdGltZSA/IGZhbHNlIDogdHJ1ZTtcblxuICAgIHRoaXMucmVuZGVyKHRpbWUsIHRpbWVfY2hhbmdlZCk7XG4gICAgdGhpcy5sYXN0VGltZSA9IHRoaXMudGltZXIudGltZVswXTtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMudXBkYXRlKCkpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRWRpdG9yO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vRWRpdG9yLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 1 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EASE_POINTS = {\n  'Linear.easeNone': [0.250, 0.250, 0.750, 0.750],\n  'Quad.easeIn': [0.550, 0.085, 0.680, 0.530],\n  'Quad.easeOut': [0.250, 0.460, 0.450, 0.940],\n  'Quad.easeInOut': [0.455, 0.030, 0.515, 0.955],\n  'Cubic.easeIn': [0.550, 0.055, 0.675, 0.190],\n  'Cubic.easeOut': [0.215, 0.610, 0.355, 1.000],\n  'Cubic.easeInOut': [0.645, 0.045, 0.355, 1.000],\n  'Quart.easeIn': [0.895, 0.030, 0.685, 0.220],\n  'Quart.easeOut': [0.165, 0.840, 0.440, 1.000],\n  'Quart.easeInOut': [0.770, 0.000, 0.175, 1.000],\n  'Quint.easeIn': [0.755, 0.050, 0.855, 0.060],\n  'Quint.easeOut': [0.230, 1.000, 0.320, 1.000],\n  'Quint.easeInOut': [0.860, 0.000, 0.070, 1.000]\n};\n\nvar Utils = function () {\n  function Utils() {\n    _classCallCheck(this, Utils);\n  }\n\n  _createClass(Utils, null, [{\n    key: 'formatMinutes',\n    value: function formatMinutes(d) {\n      // convert milliseconds to seconds\n      var seconds = d / 1000;\n      var hours = Math.floor(seconds / 3600);\n      var minutes = Math.floor((seconds - hours * 3600) / 60);\n      seconds = seconds - minutes * 60;\n      var output = seconds + 's';\n      if (minutes) {\n        output = minutes + 'm ' + output;\n      }\n      if (hours) {\n        output = hours + 'h ' + output;\n      }\n      return output;\n    }\n  }, {\n    key: 'getClosestTime',\n    value: function getClosestTime(data, time) {\n      var objectId = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var property_name = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var timer = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n      var tolerance = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0.1;\n\n      if (timer) {\n        var timer_time = timer.getCurrentTime() / 1000;\n        if (Math.abs(timer_time - time) <= tolerance) {\n          return timer_time;\n        }\n      }\n\n      if (objectId || property_name) {\n        for (var i = 0; i < data.length; i++) {\n          var item = data[i];\n          // Don't match item with itself, but allow property to match item start/end.\n          if (item.id !== objectId || property_name) {\n            // First check start & end.\n            if (Math.abs(item.start - time) <= tolerance) {\n              return item.start;\n            }\n\n            if (Math.abs(item.end - time) <= tolerance) {\n              return item.end;\n            }\n          }\n\n          // Test properties keys\n          for (var j = 0; j < item.properties.length; j++) {\n            var prop = item.properties[j];\n\n            // Don't match property with itself.\n            if (prop.keys && (item.id !== objectId || prop.name !== property_name)) {\n              for (var k = 0; k < prop.keys.length; k++) {\n                var key = prop.keys[k];\n                if (Math.abs(key.time - time) <= tolerance) {\n                  return key.time;\n                }\n              }\n            }\n          }\n        }\n      }\n      return false;\n    }\n  }, {\n    key: 'getPreviousKey',\n    value: function getPreviousKey(keys, time) {\n      var prevKey = false;\n      for (var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        if (key.time < time) {\n          prevKey = key;\n        } else {\n          return prevKey;\n        }\n      }\n      return prevKey;\n    }\n  }, {\n    key: 'sortKeys',\n    value: function sortKeys(keys) {\n      var compare = function compare(a, b) {\n        if (a.time < b.time) {\n          return -1;\n        }\n        if (a.time > b.time) {\n          return 1;\n        }\n        return 0;\n      };\n      return keys.sort(compare);\n    }\n  }, {\n    key: 'guid',\n    value: function guid() {\n      var s4 = function s4() {\n        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n      };\n      return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n    }\n  }, {\n    key: 'getEasingPoints',\n    value: function getEasingPoints(ease) {\n      // If already an array then return it directly.\n      if (Array.isArray(ease)) {\n        return ease;\n      }\n      // Return the points but clone the array first ; )\n      if (EASE_POINTS[ease]) {\n        return EASE_POINTS[ease].slice(0);\n      }\n      return EASE_POINTS['Quad.easeInOut'].slice(0);\n    }\n  }]);\n\n  return Utils;\n}();\n\nexports.default = Utils;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb3JlL1V0aWxzLmpzPzhkMmYiXSwibmFtZXMiOlsiRUFTRV9QT0lOVFMiLCJVdGlscyIsImQiLCJzZWNvbmRzIiwiaG91cnMiLCJNYXRoIiwiZmxvb3IiLCJtaW51dGVzIiwib3V0cHV0IiwiZGF0YSIsInRpbWUiLCJvYmplY3RJZCIsInByb3BlcnR5X25hbWUiLCJ0aW1lciIsInRvbGVyYW5jZSIsInRpbWVyX3RpbWUiLCJnZXRDdXJyZW50VGltZSIsImFicyIsImkiLCJsZW5ndGgiLCJpdGVtIiwiaWQiLCJzdGFydCIsImVuZCIsImoiLCJwcm9wZXJ0aWVzIiwicHJvcCIsImtleXMiLCJuYW1lIiwiayIsImtleSIsInByZXZLZXkiLCJjb21wYXJlIiwiYSIsImIiLCJzb3J0IiwiczQiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImVhc2UiLCJBcnJheSIsImlzQXJyYXkiLCJzbGljZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLElBQU1BLGNBQWM7QUFDbEIscUJBQW1CLENBQUMsS0FBRCxFQUFRLEtBQVIsRUFBZSxLQUFmLEVBQXNCLEtBQXRCLENBREQ7QUFFbEIsaUJBQWUsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsQ0FGRztBQUdsQixrQkFBZ0IsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsQ0FIRTtBQUlsQixvQkFBa0IsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsQ0FKQTtBQUtsQixrQkFBZ0IsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsQ0FMRTtBQU1sQixtQkFBaUIsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsQ0FOQztBQU9sQixxQkFBbUIsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsQ0FQRDtBQVFsQixr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QUZEO0FBR0EsYUFBT0gsT0FBT0EsSUFBUCxHQUFjLEdBQWQsR0FBb0JBLElBQXBCLEdBQTJCLEdBQTNCLEdBQWlDQSxJQUFqQyxHQUF3QyxHQUF4QyxHQUE4Q0EsSUFBOUMsR0FBcUQsR0FBckQsR0FBMkRBLElBQTNELEdBQWtFQSxJQUFsRSxHQUF5RUEsSUFBaEY7QUFDRDs7O29DQUVzQkksSSxFQUFNO0FBQzNCO0FBQ0EsVUFBSUMsTUFBTUMsT0FBTixDQUFjRixJQUFkLENBQUosRUFBeUI7QUFDdkIsZUFBT0EsSUFBUDtBQUNEO0FBQ0Q7QUFDQSxVQUFJeEMsWUFBWXdDLElBQVosQ0FBSixFQUF1QjtBQUNyQixlQUFPeEMsWUFBWXdDLElBQVosRUFBa0JHLEtBQWxCLENBQXdCLENBQXhCLENBQVA7QUFDRDtBQUNELGFBQU8zQyxZQUFZLGdCQUFaLEVBQThCMkMsS0FBOUIsQ0FBb0MsQ0FBcEMsQ0FBUDtBQUNEOzs7Ozs7a0JBdkdrQjFDLEsiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEVBU0VfUE9JTlRTID0ge1xuICAnTGluZWFyLmVhc2VOb25lJzogWzAuMjUwLCAwLjI1MCwgMC43NTAsIDAuNzUwXSxcbiAgJ1F1YWQuZWFzZUluJzogWzAuNTUwLCAwLjA4NSwgMC42ODAsIDAuNTMwXSxcbiAgJ1F1YWQuZWFzZU91dCc6IFswLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MF0sXG4gICdRdWFkLmVhc2VJbk91dCc6IFswLjQ1NSwgMC4wMzAsIDAuNTE1LCAwLjk1NV0sXG4gICdDdWJpYy5lYXNlSW4nOiBbMC41NTAsIDAuMDU1LCAwLjY3NSwgMC4xOTBdLFxuICAnQ3ViaWMuZWFzZU91dCc6IFswLjIxNSwgMC42MTAsIDAuMzU1LCAxLjAwMF0sXG4gICdDdWJpYy5lYXNlSW5PdXQnOiBbMC42NDUsIDAuMDQ1LCAwLjM1NSwgMS4wMDBdLFxuICAnUXVhcnQuZWFzZUluJzogWzAuODk1LCAwLjAzMCwgMC42ODUsIDAuMjIwXSxcbiAgJ1F1YXJ0LmVhc2VPdXQnOiBbMC4xNjUsIDAuODQwLCAwLjQ0MCwgMS4wMDBdLFxuICAnUXVhcnQuZWFzZUluT3V0JzogWzAuNzcwLCAwLjAwMCwgMC4xNzUsIDEuMDAwXSxcbiAgJ1F1aW50LmVhc2VJbic6IFswLjc1NSwgMC4wNTAsIDAuODU1LCAwLjA2MF0sXG4gICdRdWludC5lYXNlT3V0JzogWzAuMjMwLCAxLjAwMCwgMC4zMjAsIDEuMDAwXSxcbiAgJ1F1aW50LmVhc2VJbk91dCc6IFswLjg2MCwgMC4wMDAsIDAuMDcwLCAxLjAwMF1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFV0aWxzIHtcbiAgc3RhdGljIGZvcm1hdE1pbnV0ZXMoZCkge1xuICAgIC8vIGNvbnZlcnQgbWlsbGlzZWNvbmRzIHRvIHNlY29uZHNcbiAgICBsZXQgc2Vjb25kcyA9IGQgLyAxMDAwO1xuICAgIGxldCBob3VycyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDM2MDApO1xuICAgIGxldCBtaW51dGVzID0gTWF0aC5mbG9vcigoc2Vjb25kcyAtIGhvdXJzICogMzYwMCkgLyA2MCk7XG4gICAgc2Vjb25kcyA9IHNlY29uZHMgLSBtaW51dGVzICogNjA7XG4gICAgbGV0IG91dHB1dCA9IHNlY29uZHMgKyAncyc7XG4gICAgaWYgKG1pbnV0ZXMpIHtcbiAgICAgIG91dHB1dCA9IG1pbnV0ZXMgKyAnbSAnICsgb3V0cHV0O1xuICAgIH1cbiAgICBpZiAoaG91cnMpIHtcbiAgICAgIG91dHB1dCA9IGhvdXJzICsgJ2ggJyArIG91dHB1dDtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfVxuXG4gIHN0YXRpYyBnZXRDbG9zZXN0VGltZShkYXRhLCB0aW1lLCBvYmplY3RJZCA9IGZhbHNlLCBwcm9wZXJ0eV9uYW1lID0gZmFsc2UsIHRpbWVyID0gZmFsc2UsIHRvbGVyYW5jZSA9IDAuMSkge1xuICAgIGlmICh0aW1lcikge1xuICAgICAgdmFyIHRpbWVyX3RpbWUgPSB0aW1lci5nZXRDdXJyZW50VGltZSgpIC8gMTAwMDtcbiAgICAgIGlmIChNYXRoLmFicyh0aW1lcl90aW1lIC0gdGltZSkgPD0gdG9sZXJhbmNlKSB7XG4gICAgICAgIHJldHVybiB0aW1lcl90aW1lO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvYmplY3RJZCB8fCBwcm9wZXJ0eV9uYW1lKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBkYXRhW2ldO1xuICAgICAgICAvLyBEb24ndCBtYXRjaCBpdGVtIHdpdGggaXRzZWxmLCBidXQgYWxsb3cgcHJvcGVydHkgdG8gbWF0Y2ggaXRlbSBzdGFydC9lbmQuXG4gICAgICAgIGlmIChpdGVtLmlkICE9PSBvYmplY3RJZCB8fCBwcm9wZXJ0eV9uYW1lKSB7XG4gICAgICAgICAgLy8gRmlyc3QgY2hlY2sgc3RhcnQgJiBlbmQuXG4gICAgICAgICAgaWYgKE1hdGguYWJzKGl0ZW0uc3RhcnQgLSB0aW1lKSA8PSB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLnN0YXJ0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChNYXRoLmFicyhpdGVtLmVuZCAtIHRpbWUpIDw9IHRvbGVyYW5jZSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZW5kO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRlc3QgcHJvcGVydGllcyBrZXlzXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaXRlbS5wcm9wZXJ0aWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdmFyIHByb3AgPSBpdGVtLnByb3BlcnRpZXNbal07XG5cbiAgICAgICAgICAvLyBEb24ndCBtYXRjaCBwcm9wZXJ0eSB3aXRoIGl0c2VsZi5cbiAgICAgICAgICBpZiAocHJvcC5rZXlzICYmIChpdGVtLmlkICE9PSBvYmplY3RJZCB8fCBwcm9wLm5hbWUgIT09IHByb3BlcnR5X25hbWUpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHByb3Aua2V5cy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICB2YXIga2V5ID0gcHJvcC5rZXlzW2tdO1xuICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoa2V5LnRpbWUgLSB0aW1lKSA8PSB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5LnRpbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3RhdGljIGdldFByZXZpb3VzS2V5KGtleXMsIHRpbWUpIHtcbiAgICB2YXIgcHJldktleSA9IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICBpZiAoa2V5LnRpbWUgPCB0aW1lKSB7XG4gICAgICAgIHByZXZLZXkgPSBrZXk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHByZXZLZXk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcmV2S2V5O1xuICB9XG5cbiAgc3RhdGljIHNvcnRLZXlzKGtleXMpIHtcbiAgICB2YXIgY29tcGFyZSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIGlmIChhLnRpbWUgPCBiLnRpbWUpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgaWYgKGEudGltZSA+IGIudGltZSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgcmV0dXJuIGtleXMuc29ydChjb21wYXJlKTtcbiAgfVxuXG4gIHN0YXRpYyBndWlkKCkge1xuICAgIHZhciBzNCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKDEgKyBNYXRoLnJhbmRvbSgpKSAqIDB4MTAwMDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7XG4gICAgfTtcbiAgICByZXR1cm4gczQoKSArIHM0KCkgKyAnLScgKyBzNCgpICsgJy0nICsgczQoKSArICctJyArIHM0KCkgKyAnLScgKyBzNCgpICsgczQoKSArIHM0KCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0RWFzaW5nUG9pbnRzKGVhc2UpIHtcbiAgICAvLyBJZiBhbHJlYWR5IGFuIGFycmF5IHRoZW4gcmV0dXJuIGl0IGRpcmVjdGx5LlxuICAgIGlmIChBcnJheS5pc0FycmF5KGVhc2UpKSB7XG4gICAgICByZXR1cm4gZWFzZTtcbiAgICB9XG4gICAgLy8gUmV0dXJuIHRoZSBwb2ludHMgYnV0IGNsb25lIHRoZSBhcnJheSBmaXJzdCA7IClcbiAgICBpZiAoRUFTRV9QT0lOVFNbZWFzZV0pIHtcbiAgICAgIHJldHVybiBFQVNFX1BPSU5UU1tlYXNlXS5zbGljZSgwKTtcbiAgICB9XG4gICAgcmV0dXJuIEVBU0VfUE9JTlRTWydRdWFkLmVhc2VJbk91dCddLnNsaWNlKDApO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb3JlL1V0aWxzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 2 */,
/* 3 */,
/* 4 */,
/* 5 */,
/* 6 */
/***/ (function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_6__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwic2lnbmFsc1wiLFwiY29tbW9uanNcIjpcInNpZ25hbHNcIixcImNvbW1vbmpzMlwiOlwic2lnbmFsc1wiLFwiYW1kXCI6XCJzaWduYWxzXCJ9PzkwMzgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV82X187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wicm9vdFwiOlwic2lnbmFsc1wiLFwiY29tbW9uanNcIjpcInNpZ25hbHNcIixcImNvbW1vbmpzMlwiOlwic2lnbmFsc1wiLFwiYW1kXCI6XCJzaWduYWxzXCJ9XG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 7 */,
/* 8 */,
/* 9 */,
/* 10 */,
/* 11 */,
/* 12 */
/***/ (function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_12__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiX1wiLFwiY29tbW9uanNcIjpcImxvZGFzaFwiLFwiY29tbW9uanMyXCI6XCJsb2Rhc2hcIixcImFtZFwiOlwibG9kYXNoXCJ9PzU1ZDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMTJfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJyb290XCI6XCJfXCIsXCJjb21tb25qc1wiOlwibG9kYXNoXCIsXCJjb21tb25qczJcIjpcImxvZGFzaFwiLFwiYW1kXCI6XCJsb2Rhc2hcIn1cbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Utils = __webpack_require__(1);\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nvar _Header = __webpack_require__(14);\n\nvar _Header2 = _interopRequireDefault(_Header);\n\nvar _TimeIndicator = __webpack_require__(16);\n\nvar _TimeIndicator2 = _interopRequireDefault(_TimeIndicator);\n\nvar _Items = __webpack_require__(17);\n\nvar _Items2 = _interopRequireDefault(_Items);\n\nvar _KeysPreview = __webpack_require__(18);\n\nvar _KeysPreview2 = _interopRequireDefault(_KeysPreview);\n\nvar _Properties = __webpack_require__(19);\n\nvar _Properties2 = _interopRequireDefault(_Properties);\n\nvar _PropertyCurveEdit = __webpack_require__(20);\n\nvar _PropertyCurveEdit2 = _interopRequireDefault(_PropertyCurveEdit);\n\nvar _Keys = __webpack_require__(21);\n\nvar _Keys2 = _interopRequireDefault(_Keys);\n\nvar _Errors = __webpack_require__(22);\n\nvar _Errors2 = _interopRequireDefault(_Errors);\n\nvar _Selection = __webpack_require__(23);\n\nvar _Selection2 = _interopRequireDefault(_Selection);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar d3 = __webpack_require__(15);\n\nvar Timeline = function () {\n  function Timeline(editor, options) {\n    var _this = this;\n\n    _classCallCheck(this, Timeline);\n\n    this.editor = editor;\n    this.tweenTime = this.editor.tweenTime;\n    this.timer = this.tweenTime.timer;\n    this.selectionManager = this.editor.selectionManager;\n    this.selectionManager.onSelect.add(function () {\n      // Needed to apply selection of properties/item to curves.\n      _this._isDirty = true;\n      _this.render();\n    });\n\n    this._isDirty = true;\n    this.timer = this.tweenTime.timer;\n    this.currentTime = this.timer.time; // used in timeindicator.\n\n    this.onUpdate = this.onUpdate.bind(this);\n\n    // Make the domain cover 20% of the totalDuation by default.\n    this.initialDomain = [];\n    this.initialDomain[0] = options.domainStart || 0;\n    this.initialDomain[1] = options.domainEnd || this.timer.totalDuration * 0.2;\n\n    // Adapt time to be greater or equal to domainStart.\n    if (this.initialDomain[0] > this.timer.getCurrentTime()) {\n      this.timer.time[0] = this.initialDomain[0];\n    }\n\n    var margin = { top: 6, right: 20, bottom: 0, left: 265 };\n    this.margin = margin;\n\n    var width = window.innerWidth - margin.left - margin.right;\n    var height = 270 - margin.top - margin.bottom - 40;\n    this.lineHeight = 20;\n    this.label_position_x = -margin.left + 20;\n\n    this.x = d3.time.scale().domain(this.initialDomain).range([0, width]);\n\n    this.xAxis = d3.svg.axis().scale(this.x).orient('top').tickSize(-height, 0).tickFormat(_Utils2.default.formatMinutes);\n\n    this.svg = d3.select(editor.$timeline.get(0)).select('.timeline__main').append('svg').attr('width', width + margin.left + margin.right).attr('height', 600);\n\n    this.svgContainer = this.svg.append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n    this.svgContainerTime = this.svg.append('g').attr('transform', 'translate(' + margin.left + ',0)');\n\n    this.linesContainer = this.svg.append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n    this.header = new _Header2.default(editor, this.timer, this.initialDomain, this.tweenTime, width, margin);\n    this.timeIndicator = new _TimeIndicator2.default(this, this.svgContainerTime);\n\n    this.selection = new _Selection2.default(this, this.svg, margin);\n\n    this.items = new _Items2.default(this, this.linesContainer);\n    this.items.onUpdate.add(this.onUpdate);\n    this.keysPreview = new _KeysPreview2.default(this, this.linesContainer);\n\n    this.properties = new _Properties2.default(this);\n    this.properties.onKeyAdded.add(function (newKey) {\n      _this._isDirty = true;\n      // render the timeline directly so that we can directly select\n      // the new key with it's domElement.\n      _this.render(0, false);\n      _this.keys.selectNewKey(newKey);\n    });\n    this.errors = new _Errors2.default(this);\n    this.keys = new _Keys2.default(this);\n    this.keys.onKeyUpdated.add(function () {\n      _this.onUpdate();\n    });\n\n    this.curves = new _PropertyCurveEdit2.default(this, this.linesContainer);\n    this.curves.onCurveUpdated.add(function () {\n      _this._isDirty = true;\n      // render the timeline directly so that we can directly select\n      // the new key with it's domElement.\n      _this.render(0, false);\n    });\n\n    this.xAxisGrid = d3.svg.axis().scale(this.x).ticks(100).tickSize(-this.items.dy, 0).tickFormat('').orient('top');\n\n    this.xGrid = this.svgContainer.append('g').attr('class', 'x axis grid').attr('transform', 'translate(0,' + margin.top + ')').call(this.xAxisGrid);\n\n    this.xAxisElement = this.svgContainer.append('g').attr('class', 'x axis').attr('transform', 'translate(0,' + margin.top + ')').call(this.xAxis);\n\n    this.header.onBrush.add(function (extent) {\n      _this.x.domain(extent);\n      _this.xGrid.call(_this.xAxisGrid);\n      _this.xAxisElement.call(_this.xAxis);\n      _this._isDirty = true;\n    });\n\n    // First render\n    window.requestAnimationFrame(function () {\n      _this.render();\n    });\n\n    window.onresize = function () {\n      var INNER_WIDTH = window.innerWidth;\n      var width2 = INNER_WIDTH - margin.left - margin.right;\n      _this.svg.attr('width', width2 + margin.left + margin.right);\n      _this.svg.selectAll('.timeline__right-mask').attr('width', INNER_WIDTH);\n      _this.x.range([0, width2]);\n\n      _this._isDirty = true;\n      _this.header.resize(INNER_WIDTH);\n      _this.render();\n    };\n  }\n\n  _createClass(Timeline, [{\n    key: 'onUpdate',\n    value: function onUpdate() {\n      this.editor.render(false, false, true);\n    }\n  }, {\n    key: 'render',\n    value: function render(time, time_changed) {\n      if (time_changed) {\n        var domainLength;\n        // Update current domain when playing to keep time indicator in view.\n        var margin_ms = 16;\n        if (this.timer.getCurrentTime() > this.initialDomain[1]) {\n          domainLength = this.initialDomain[1] - this.initialDomain[0];\n          this.initialDomain[0] += domainLength - margin_ms;\n          this.initialDomain[1] += domainLength - margin_ms;\n          this.header.setDomain(this.initialDomain);\n        }\n        if (this.timer.getCurrentTime() < this.initialDomain[0]) {\n          domainLength = this.initialDomain[1] - this.initialDomain[0];\n          this.initialDomain[0] = this.timer.getCurrentTime();\n          this.initialDomain[1] = this.initialDomain[0] + domainLength;\n          this.header.setDomain(this.initialDomain);\n        }\n      }\n\n      if (this._isDirty || time_changed) {\n        // Render header and time indicator everytime the time changed.\n        this.header.render();\n        this.timeIndicator.render();\n      }\n\n      if (this._isDirty) {\n        // No need to call this on each frames, but only on brush, key drag, ...\n        var bar = this.items.render();\n        this.keysPreview.render(bar);\n        var properties = this.properties.render(bar);\n        this.errors.render(properties);\n        this.keys.render(properties);\n        this.curves.render(bar);\n        this._isDirty = false;\n\n        // Adapt the timeline height.\n        var height = Math.max(this.items.dy + 30, 230);\n        this.xAxis.tickSize(-height, 0);\n        this.xAxisGrid.tickSize(-height, 0);\n        this.xGrid.call(this.xAxisGrid);\n        this.xAxisElement.call(this.xAxis);\n        this.svg.attr('height', height);\n        this.timeIndicator.updateHeight(height);\n      }\n    }\n  }]);\n\n  return Timeline;\n}();\n\nexports.default = Timeline;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9UaW1lbGluZS5qcz8xZmNiIl0sIm5hbWVzIjpbImQzIiwicmVxdWlyZSIsIlRpbWVsaW5lIiwiZWRpdG9yIiwib3B0aW9ucyIsInR3ZWVuVGltZSIsInRpbWVyIiwic2VsZWN0aW9uTWFuYWdlciIsIm9uU2VsZWN0IiwiYWRkIiwiX2lzRGlydHkiLCJyZW5kZXIiLCJjdXJyZW50VGltZSIsInRpbWUiLCJvblVwZGF0ZSIsImJpbmQiLCJpbml0aWFsRG9tYWluIiwiZG9tYWluU3RhcnQiLCJkb21haW5FbmQiLCJ0b3RhbER1cmF0aW9uIiwiZ2V0Q3VycmVudFRpbWUiLCJtYXJnaW4iLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJ3aWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJsaW5lSGVpZ2h0IiwibGFiZWxfcG9zaXRpb25feCIsIngiLCJzY2FsZSIsImRvbWFpbiIsInJhbmdlIiwieEF4aXMiLCJzdmciLCJheGlzIiwib3JpZW50IiwidGlja1NpemUiLCJ0aWNrRm9ybWF0IiwiZm9ybWF0TWludXRlcyIsInNlbGVjdCIsIiR0aW1lbGluZSIsImdldCIsImFwcGVuZCIsImF0dHIiLCJzdmdDb250YWluZXIiLCJzdmdDb250YWluZXJUaW1lIiwibGluZXNDb250YWluZXIiLCJoZWFkZXIiLCJ0aW1lSW5kaWNhdG9yIiwic2VsZWN0aW9uIiwiaXRlbXMiLCJrZXlzUHJldmlldyIsInByb3BlcnRpZXMiLCJvbktleUFkZGVkIiwibmV3S2V5Iiwia2V5cyIsInNlbGVjdE5ld0tleSIsImVycm9ycyIsIm9uS2V5VXBkYXRlZCIsImN1cnZlcyIsIm9uQ3VydmVVcGRhdGVkIiwieEF4aXNHcmlkIiwidGlja3MiLCJkeSIsInhHcmlkIiwiY2FsbCIsInhBeGlzRWxlbWVudCIsIm9uQnJ1c2giLCJleHRlbnQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvbnJlc2l6ZSIsIklOTkVSX1dJRFRIIiwid2lkdGgyIiwic2VsZWN0QWxsIiwicmVzaXplIiwidGltZV9jaGFuZ2VkIiwiZG9tYWluTGVuZ3RoIiwibWFyZ2luX21zIiwic2V0RG9tYWluIiwiYmFyIiwiTWF0aCIsIm1heCIsInVwZGF0ZUhlaWdodCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7QUFYQSxJQUFJQSxLQUFLLG1CQUFBQyxDQUFRLEVBQVIsQ0FBVDs7SUFhcUJDLFE7QUFDbkIsb0JBQVlDLE1BQVosRUFBb0JDLE9BQXBCLEVBQTZCO0FBQUE7O0FBQUE7O0FBQzNCLFNBQUtELE1BQUwsR0FBY0EsTUFBZDtBQUNBLFNBQUtFLFNBQUwsR0FBaUIsS0FBS0YsTUFBTCxDQUFZRSxTQUE3QjtBQUNBLFNBQUtDLEtBQUwsR0FBYSxLQUFLRCxTQUFMLENBQWVDLEtBQTVCO0FBQ0EsU0FBS0MsZ0JBQUwsR0FBd0IsS0FBS0osTUFBTCxDQUFZSSxnQkFBcEM7QUFDQSxTQUFLQSxnQkFBTCxDQUFzQkMsUUFBdEIsQ0FBK0JDLEdBQS9CLENBQW1DLFlBQU07QUFDdkM7QUFDQSxZQUFLQyxRQUFMLEdBQWdCLElBQWhCO0FBQ0EsWUFBS0MsTUFBTDtBQUNELEtBSkQ7O0FBTUEsU0FBS0QsUUFBTCxHQUFnQixJQUFoQjtBQUNBLFNBQUtKLEtBQUwsR0FBYSxLQUFLRCxTQUFMLENBQWVDLEtBQTVCO0FBQ0EsU0FBS00sV0FBTCxHQUFtQixLQUFLTixLQUFMLENBQVdPLElBQTlCLENBYjJCLENBYVM7O0FBRXBDLFNBQUtDLFFBQUwsR0FBZ0IsS0FBS0EsUUFBTCxDQUFjQyxJQUFkLENBQW1CLElBQW5CLENBQWhCOztBQUVBO0FBQ0EsU0FBS0MsYUFBTCxHQUFxQixFQUFyQjtBQUNBLFNBQUtBLGFBQUwsQ0FBbUIsQ0FBbkIsSUFBd0JaLFFBQVFhLFdBQVIsSUFBdUIsQ0FBL0M7QUFDQSxTQUFLRCxhQUFMLENB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QUtqQyxLQUE1QjtBQUNBLGFBQUtDLEdBQUwsQ0FBU1UsSUFBVCxDQUFjLFFBQWQsRUFBd0JsQixNQUF4QjtBQUNBLGFBQUt1QixhQUFMLENBQW1Ca0MsWUFBbkIsQ0FBZ0N6RCxNQUFoQztBQUNEO0FBQ0Y7Ozs7OztrQkFuTGtCM0IsUSIsImZpbGUiOiIxMy5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBkMyA9IHJlcXVpcmUoJ2QzJyk7XG5cbmltcG9ydCBVdGlscyBmcm9tICcuLi9jb3JlL1V0aWxzJztcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9IZWFkZXInO1xuaW1wb3J0IFRpbWVJbmRpY2F0b3IgZnJvbSAnLi9UaW1lSW5kaWNhdG9yJztcbmltcG9ydCBJdGVtcyBmcm9tICcuL0l0ZW1zJztcbmltcG9ydCBLZXlzUHJldmlldyBmcm9tICcuL0tleXNQcmV2aWV3JztcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gJy4vUHJvcGVydGllcyc7XG5pbXBvcnQgUHJvcGVydHlDdXJ2ZUVkaXQgZnJvbSAnLi9Qcm9wZXJ0eUN1cnZlRWRpdCc7XG5pbXBvcnQgS2V5cyBmcm9tICcuL0tleXMnO1xuaW1wb3J0IEVycm9ycyBmcm9tICcuL0Vycm9ycyc7XG5pbXBvcnQgU2VsZWN0aW9uIGZyb20gJy4vU2VsZWN0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGltZWxpbmUge1xuICBjb25zdHJ1Y3RvcihlZGl0b3IsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgICB0aGlzLnR3ZWVuVGltZSA9IHRoaXMuZWRpdG9yLnR3ZWVuVGltZTtcbiAgICB0aGlzLnRpbWVyID0gdGhpcy50d2VlblRpbWUudGltZXI7XG4gICAgdGhpcy5zZWxlY3Rpb25NYW5hZ2VyID0gdGhpcy5lZGl0b3Iuc2VsZWN0aW9uTWFuYWdlcjtcbiAgICB0aGlzLnNlbGVjdGlvbk1hbmFnZXIub25TZWxlY3QuYWRkKCgpID0+IHtcbiAgICAgIC8vIE5lZWRlZCB0byBhcHBseSBzZWxlY3Rpb24gb2YgcHJvcGVydGllcy9pdGVtIHRvIGN1cnZlcy5cbiAgICAgIHRoaXMuX2lzRGlydHkgPSB0cnVlO1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2lzRGlydHkgPSB0cnVlO1xuICAgIHRoaXMudGltZXIgPSB0aGlzLnR3ZWVuVGltZS50aW1lcjtcbiAgICB0aGlzLmN1cnJlbnRUaW1lID0gdGhpcy50aW1lci50aW1lOyAvLyB1c2VkIGluIHRpbWVpbmRpY2F0b3IuXG5cbiAgICB0aGlzLm9uVXBkYXRlID0gdGhpcy5vblVwZGF0ZS5iaW5kKHRoaXMpO1xuXG4gICAgLy8gTWFrZSB0aGUgZG9tYWluIGNvdmVyIDIwJSBvZiB0aGUgdG90YWxEdWF0aW9uIGJ5IGRlZmF1bHQuXG4gICAgdGhpcy5pbml0aWFsRG9tYWluID0gW107XG4gICAgdGhpcy5pbml0aWFsRG9tYWluWzBdID0gb3B0aW9ucy5kb21haW5TdGFydCB8fCAwO1xuICAgIHRoaXMuaW5pdGlhbERvbWFpblsxXSA9IG9wdGlvbnMuZG9tYWluRW5kIHx8IHRoaXMudGltZXIudG90YWxEdXJhdGlvbiAqIDAuMjtcblxuICAgIC8vIEFkYXB0IHRpbWUgdG8gYmUgZ3JlYXRlciBvciBlcXVhbCB0byBkb21haW5TdGFydC5cbiAgICBpZiAodGhpcy5pbml0aWFsRG9tYWluWzBdID4gdGhpcy50aW1lci5nZXRDdXJyZW50VGltZSgpKSB7XG4gICAgICB0aGlzLnRpbWVyLnRpbWVbMF0gPSB0aGlzLmluaXRpYWxEb21haW5bMF07XG4gICAgfVxuXG4gICAgdmFyIG1hcmdpbiA9IHt0b3A6IDYsIHJpZ2h0OiAyMCwgYm90dG9tOiAwLCBsZWZ0OiAyNjV9O1xuICAgIHRoaXMubWFyZ2luID0gbWFyZ2luO1xuXG4gICAgdmFyIHdpZHRoID0gd2luZG93LmlubmVyV2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICB2YXIgaGVpZ2h0ID0gMjcwIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b20gLSA0MDtcbiAgICB0aGlzLmxpbmVIZWlnaHQgPSAyMDtcbiAgICB0aGlzLmxhYmVsX3Bvc2l0aW9uX3ggPSAtbWFyZ2luLmxlZnQgKyAyMDtcblxuICAgIHRoaXMueCA9IGQzLnRpbWUuc2NhbGUoKVxuICAgICAgLmRvbWFpbih0aGlzLmluaXRpYWxEb21haW4pXG4gICAgICAucmFuZ2UoWzAsIHdpZHRoXSk7XG5cbiAgICB0aGlzLnhBeGlzID0gZDMuc3ZnLmF4aXMoKVxuICAgICAgLnNjYWxlKHRoaXMueClcbiAgICAgIC5vcmllbnQoJ3RvcCcpXG4gICAgICAudGlja1NpemUoLWhlaWdodCwgMClcbiAgICAgIC50aWNrRm9ybWF0KFV0aWxzLmZvcm1hdE1pbnV0ZXMpO1xuXG4gICAgdGhpcy5zdmcgPSBkMy5zZWxlY3QoZWRpdG9yLiR0aW1lbGluZS5nZXQoMCkpLnNlbGVjdCgnLnRpbWVsaW5lX19tYWluJykuYXBwZW5kKCdzdmcnKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCA2MDApO1xuXG4gICAgdGhpcy5zdmdDb250YWluZXIgPSB0aGlzLnN2Zy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIG1hcmdpbi5sZWZ0ICsgJywnICsgbWFyZ2luLnRvcCArICcpJyk7XG5cbiAgICB0aGlzLnN2Z0NvbnRhaW5lclRpbWUgPSB0aGlzLnN2Zy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIG1hcmdpbi5sZWZ0ICsgJywwKScpO1xuXG4gICAgdGhpcy5saW5lc0NvbnRhaW5lciA9IHRoaXMuc3ZnLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgbWFyZ2luLmxlZnQgKyAnLCcgKyBtYXJnaW4udG9wICsgJyknKTtcblxuICAgIHRoaXMuaGVhZGVyID0gbmV3IEhlYWRlcihlZGl0b3IsIHRoaXMudGltZXIsIHRoaXMuaW5pdGlhbERvbWFpbiwgdGhpcy50d2VlblRpbWUsIHdpZHRoLCBtYXJnaW4pO1xuICAgIHRoaXMudGltZUluZGljYXRvciA9IG5ldyBUaW1lSW5kaWNhdG9yKHRoaXMsIHRoaXMuc3ZnQ29udGFpbmVyVGltZSk7XG5cbiAgICB0aGlzLnNlbGVjdGlvbiA9IG5ldyBTZWxlY3Rpb24odGhpcywgdGhpcy5zdmcsIG1hcmdpbik7XG5cbiAgICB0aGlzLml0ZW1zID0gbmV3IEl0ZW1zKHRoaXMsIHRoaXMubGluZXNDb250YWluZXIpO1xuICAgIHRoaXMuaXRlbXMub25VcGRhdGUuYWRkKHRoaXMub25VcGRhdGUpO1xuICAgIHRoaXMua2V5c1ByZXZpZXcgPSBuZXcgS2V5c1ByZXZpZXcodGhpcywgdGhpcy5saW5lc0NvbnRhaW5lcik7XG5cbiAgICB0aGlzLnByb3BlcnRpZXMgPSBuZXcgUHJvcGVydGllcyh0aGlzKTtcbiAgICB0aGlzLnByb3BlcnRpZXMub25LZXlBZGRlZC5hZGQoKG5ld0tleSkgPT4ge1xuICAgICAgdGhpcy5faXNEaXJ0eSA9IHRydWU7XG4gICAgICAvLyByZW5kZXIgdGhlIHRpbWVsaW5lIGRpcmVjdGx5IHNvIHRoYXQgd2UgY2FuIGRpcmVjdGx5IHNlbGVjdFxuICAgICAgLy8gdGhlIG5ldyBrZXkgd2l0aCBpdCdzIGRvbUVsZW1lbnQuXG4gICAgICB0aGlzLnJlbmRlcigwLCBmYWxzZSk7XG4gICAgICB0aGlzLmtleXMuc2VsZWN0TmV3S2V5KG5ld0tleSk7XG4gICAgfSk7XG4gICAgdGhpcy5lcnJvcnMgPSBuZXcgRXJyb3JzKHRoaXMpO1xuICAgIHRoaXMua2V5cyA9IG5ldyBLZXlzKHRoaXMpO1xuICAgIHRoaXMua2V5cy5vbktleVVwZGF0ZWQuYWRkKCgpID0+IHtcbiAgICAgIHRoaXMub25VcGRhdGUoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY3VydmVzID0gbmV3IFByb3BlcnR5Q3VydmVFZGl0KHRoaXMsIHRoaXMubGluZXNDb250YWluZXIpO1xuICAgIHRoaXMuY3VydmVzLm9uQ3VydmVVcGRhdGVkLmFkZCgoKSA9PiB7XG4gICAgICB0aGlzLl9pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgIC8vIHJlbmRlciB0aGUgdGltZWxpbmUgZGlyZWN0bHkgc28gdGhhdCB3ZSBjYW4gZGlyZWN0bHkgc2VsZWN0XG4gICAgICAvLyB0aGUgbmV3IGtleSB3aXRoIGl0J3MgZG9tRWxlbWVudC5cbiAgICAgIHRoaXMucmVuZGVyKDAsIGZhbHNlKTtcbiAgICB9KTtcblxuICAgIHRoaXMueEF4aXNHcmlkID0gZDMuc3ZnLmF4aXMoKVxuICAgICAgLnNjYWxlKHRoaXMueClcbiAgICAgIC50aWNrcygxMDApXG4gICAgICAudGlja1NpemUoLXRoaXMuaXRlbXMuZHksIDApXG4gICAgICAudGlja0Zvcm1hdCgnJylcbiAgICAgIC5vcmllbnQoJ3RvcCcpO1xuXG4gICAgdGhpcy54R3JpZCA9IHRoaXMuc3ZnQ29udGFpbmVyLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAneCBheGlzIGdyaWQnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgbWFyZ2luLnRvcCArICcpJylcbiAgICAgIC5jYWxsKHRoaXMueEF4aXNHcmlkKTtcblxuICAgIHRoaXMueEF4aXNFbGVtZW50ID0gdGhpcy5zdmdDb250YWluZXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICd4IGF4aXMnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgbWFyZ2luLnRvcCArICcpJylcbiAgICAgIC5jYWxsKHRoaXMueEF4aXMpO1xuXG4gICAgdGhpcy5oZWFkZXIub25CcnVzaC5hZGQoKGV4dGVudCkgPT4ge1xuICAgICAgdGhpcy54LmRvbWFpbihleHRlbnQpO1xuICAgICAgdGhpcy54R3JpZC5jYWxsKHRoaXMueEF4aXNHcmlkKTtcbiAgICAgIHRoaXMueEF4aXNFbGVtZW50LmNhbGwodGhpcy54QXhpcyk7XG4gICAgICB0aGlzLl9pc0RpcnR5ID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIC8vIEZpcnN0IHJlbmRlclxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge3RoaXMucmVuZGVyKCk7fSk7XG5cbiAgICB3aW5kb3cub25yZXNpemUgPSAoKSA9PiB7XG4gICAgICB2YXIgSU5ORVJfV0lEVEggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIHZhciB3aWR0aDIgPSBJTk5FUl9XSURUSCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgICAgdGhpcy5zdmcuYXR0cignd2lkdGgnLCB3aWR0aDIgKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodCk7XG4gICAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoJy50aW1lbGluZV9fcmlnaHQtbWFzaycpXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIElOTkVSX1dJRFRIKTtcbiAgICAgIHRoaXMueC5yYW5nZShbMCwgd2lkdGgyXSk7XG5cbiAgICAgIHRoaXMuX2lzRGlydHkgPSB0cnVlO1xuICAgICAgdGhpcy5oZWFkZXIucmVzaXplKElOTkVSX1dJRFRIKTtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfTtcbiAgfVxuXG4gIG9uVXBkYXRlKCkge1xuICAgIHRoaXMuZWRpdG9yLnJlbmRlcihmYWxzZSwgZmFsc2UsIHRydWUpO1xuICB9XG5cbiAgcmVuZGVyKHRpbWUsIHRpbWVfY2hhbmdlZCkge1xuICAgIGlmICh0aW1lX2NoYW5nZWQpIHtcbiAgICAgIHZhciBkb21haW5MZW5ndGg7XG4gICAgICAvLyBVcGRhdGUgY3VycmVudCBkb21haW4gd2hlbiBwbGF5aW5nIHRvIGtlZXAgdGltZSBpbmRpY2F0b3IgaW4gdmlldy5cbiAgICAgIHZhciBtYXJnaW5fbXMgPSAxNjtcbiAgICAgIGlmICh0aGlzLnRpbWVyLmdldEN1cnJlbnRUaW1lKCkgPiB0aGlzLmluaXRpYWxEb21haW5bMV0pIHtcbiAgICAgICAgZG9tYWluTGVuZ3RoID0gdGhpcy5pbml0aWFsRG9tYWluWzFdIC0gdGhpcy5pbml0aWFsRG9tYWluWzBdO1xuICAgICAgICB0aGlzLmluaXRpYWxEb21haW5bMF0gKz0gZG9tYWluTGVuZ3RoIC0gbWFyZ2luX21zO1xuICAgICAgICB0aGlzLmluaXRpYWxEb21haW5bMV0gKz0gZG9tYWluTGVuZ3RoIC0gbWFyZ2luX21zO1xuICAgICAgICB0aGlzLmhlYWRlci5zZXREb21haW4odGhpcy5pbml0aWFsRG9tYWluKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnRpbWVyLmdldEN1cnJlbnRUaW1lKCkgPCB0aGlzLmluaXRpYWxEb21haW5bMF0pIHtcbiAgICAgICAgZG9tYWluTGVuZ3RoID0gdGhpcy5pbml0aWFsRG9tYWluWzFdIC0gdGhpcy5pbml0aWFsRG9tYWluWzBdO1xuICAgICAgICB0aGlzLmluaXRpYWxEb21haW5bMF0gPSB0aGlzLnRpbWVyLmdldEN1cnJlbnRUaW1lKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbERvbWFpblsxXSA9IHRoaXMuaW5pdGlhbERvbWFpblswXSArIGRvbWFpbkxlbmd0aDtcbiAgICAgICAgdGhpcy5oZWFkZXIuc2V0RG9tYWluKHRoaXMuaW5pdGlhbERvbWFpbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2lzRGlydHkgfHwgdGltZV9jaGFuZ2VkKSB7XG4gICAgICAvLyBSZW5kZXIgaGVhZGVyIGFuZCB0aW1lIGluZGljYXRvciBldmVyeXRpbWUgdGhlIHRpbWUgY2hhbmdlZC5cbiAgICAgIHRoaXMuaGVhZGVyLnJlbmRlcigpO1xuICAgICAgdGhpcy50aW1lSW5kaWNhdG9yLnJlbmRlcigpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9pc0RpcnR5KSB7XG4gICAgICAvLyBObyBuZWVkIHRvIGNhbGwgdGhpcyBvbiBlYWNoIGZyYW1lcywgYnV0IG9ubHkgb24gYnJ1c2gsIGtleSBkcmFnLCAuLi5cbiAgICAgIHZhciBiYXIgPSB0aGlzLml0ZW1zLnJlbmRlcigpO1xuICAgICAgdGhpcy5rZXlzUHJldmlldy5yZW5kZXIoYmFyKTtcbiAgICAgIHZhciBwcm9wZXJ0aWVzID0gdGhpcy5wcm9wZXJ0aWVzLnJlbmRlcihiYXIpO1xuICAgICAgdGhpcy5lcnJvcnMucmVuZGVyKHByb3BlcnRpZXMpO1xuICAgICAgdGhpcy5rZXlzLnJlbmRlcihwcm9wZXJ0aWVzKTtcbiAgICAgIHRoaXMuY3VydmVzLnJlbmRlcihiYXIpO1xuICAgICAgdGhpcy5faXNEaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAvLyBBZGFwdCB0aGUgdGltZWxpbmUgaGVpZ2h0LlxuICAgICAgdmFyIGhlaWdodCA9IE1hdGgubWF4KHRoaXMuaXRlbXMuZHkgKyAzMCwgMjMwKTtcbiAgICAgIHRoaXMueEF4aXMudGlja1NpemUoLWhlaWdodCwgMCk7XG4gICAgICB0aGlzLnhBeGlzR3JpZC50aWNrU2l6ZSgtaGVpZ2h0LCAwKTtcbiAgICAgIHRoaXMueEdyaWQuY2FsbCh0aGlzLnhBeGlzR3JpZCk7XG4gICAgICB0aGlzLnhBeGlzRWxlbWVudC5jYWxsKHRoaXMueEF4aXMpO1xuICAgICAgdGhpcy5zdmcuYXR0cignaGVpZ2h0JywgaGVpZ2h0KTtcbiAgICAgIHRoaXMudGltZUluZGljYXRvci51cGRhdGVIZWlnaHQoaGVpZ2h0KTtcbiAgICB9XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2dyYXBoL1RpbWVsaW5lLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Utils = __webpack_require__(1);\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar d3 = __webpack_require__(15);\n\nvar Signals = __webpack_require__(6);\n\nvar Header = function () {\n  function Header(editor, timer, initialDomain, tweenTime, width, margin) {\n    _classCallCheck(this, Header);\n\n    this.timer = timer;\n    this.initialDomain = initialDomain;\n    this.tweenTime = tweenTime;\n\n    this.onBrush = new Signals.Signal();\n    this.margin = { top: 10, right: 20, bottom: 0, left: margin.left };\n    this.height = 50 - this.margin.top - this.margin.bottom + 20;\n\n    this.currentTime = this.timer.time;\n    this.x = d3.time.scale().range([0, width]);\n    this.x.domain([0, this.timer.totalDuration]);\n\n    // Same as this.x from timeline\n    this.xDisplayed = d3.time.scale().range([0, width]);\n    this.xDisplayed.domain(this.initialDomain);\n\n    this.xAxis = d3.svg.axis().scale(this.x).orient('top').tickSize(-5, 0).tickFormat(_Utils2.default.formatMinutes);\n\n    this.svg = d3.select(editor.$timeline.get(0)).select('.timeline__header').append('svg').attr('width', width + this.margin.left + this.margin.right).attr('height', 56);\n\n    this.svgContainer = this.svg.append('g').attr('transform', 'translate(' + this.margin.left + ',' + this.margin.top + ')');\n\n    this.createBrushHandle();\n    this.createTimeHandle();\n    this.timer.durationChanged.add(this.onDurationChanged.bind(this));\n  }\n\n  _createClass(Header, [{\n    key: 'adaptDomainToDuration',\n    value: function adaptDomainToDuration(domain, seconds) {\n      var ms = seconds * 1000;\n      var new_domain = [domain[0], domain[1]];\n      // Make the domain smaller or equal to ms.\n      new_domain[0] = Math.min(new_domain[0], ms);\n      new_domain[1] = Math.min(new_domain[1], ms);\n      // Should not go below 0.\n      new_domain[0] = Math.max(new_domain[0], 0);\n\n      return new_domain;\n    }\n  }, {\n    key: 'setDomain',\n    value: function setDomain() {\n      this.brush.x(this.x).extent(this.initialDomain);\n      this.svgContainer.select('.brush').call(this.brush);\n      // Same as onBrush\n      this.onBrush.dispatch(this.initialDomain);\n      this.render();\n      this.xDisplayed.domain(this.initialDomain);\n    }\n  }, {\n    key: 'onDurationChanged',\n    value: function onDurationChanged(seconds) {\n      this.x.domain([0, this.timer.totalDuration]);\n      this.xAxisElement.call(this.xAxis);\n      this.initialDomain = this.adaptDomainToDuration(this.initialDomain, seconds);\n      this.setDomain(this.initialDomain);\n    }\n  }, {\n    key: 'createBrushHandle',\n    value: function createBrushHandle() {\n      var _this = this;\n\n      this.xAxisElement = this.svgContainer.append('g').attr('class', 'x axis').attr('transform', 'translate(0,' + (this.margin.top + 7) + ')').call(this.xAxis);\n\n      var onBrush = function onBrush() {\n        var extent0 = _this.brush.extent();\n        // Get domain as milliseconds and not date.\n        var start = extent0[0].getTime();\n        var end = extent0[1].getTime();\n        // Set the initial domain.\n        _this.initialDomain[0] = start;\n        _this.initialDomain[1] = end;\n        _this.setDomain(_this.initialDomain);\n      };\n\n      this.brush = d3.svg.brush().x(this.x).extent(this.initialDomain).on('brush', onBrush);\n\n      this.gBrush = this.svgContainer.append('g').attr('class', 'brush').call(this.brush).selectAll('rect').attr('height', 20);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var timeSelection = this.svgContainer.selectAll('.time-indicator');\n      timeSelection.attr('transform', 'translate(' + this.xDisplayed(this.currentTime[0]) + ', 25)');\n    }\n  }, {\n    key: 'createTimeHandle',\n    value: function createTimeHandle() {\n      var self = this;\n\n      var dragTimeMove = function dragTimeMove() {\n        var event = d3.event.sourceEvent;\n        event.stopPropagation();\n        var tweenTime = self.tweenTime;\n        var event_x = event.x !== undefined ? event.x : event.clientX;\n        var dx = self.xDisplayed.invert(event_x - self.margin.left);\n        dx = dx.getTime();\n        dx = Math.max(0, dx);\n\n        var timeMatch = false;\n        if (event.shiftKey) {\n          var time = dx / 1000;\n          timeMatch = _Utils2.default.getClosestTime(tweenTime.data, time, '---non-existant', false, false, 0.3);\n          if (timeMatch !== false) {\n            timeMatch = timeMatch * 1000;\n          }\n        }\n        if (timeMatch === false) {\n          timeMatch = dx;\n        }\n        self.timer.seek([timeMatch]);\n      };\n\n      var dragTime = d3.behavior.drag().origin(function (d) {\n        return d;\n      }).on('drag', dragTimeMove);\n\n      var timeSelection = this.svgContainer.selectAll('.time-indicator').data(this.currentTime);\n\n      timeSelection.enter().append('rect').attr('x', 0).attr('y', 20).attr('width', self.xDisplayed(self.timer.totalDuration)).attr('height', 50).attr('fill-opacity', 0).on('click', function () {\n        var mouse = d3.mouse(this);\n        var dx = self.xDisplayed.invert(mouse[0]);\n        dx = dx.getTime();\n        dx = Math.max(0, dx);\n        self.timer.seek([dx]);\n      });\n\n      var timeGrp = timeSelection.enter().append('g').attr('class', 'time-indicator').attr('transform', 'translate(-0.5,' + 30 + ')').call(dragTime);\n\n      timeGrp.append('rect').attr('class', 'time-indicator__line').attr('x', -0.5).attr('y', 0).attr('width', 1).attr('height', 1000);\n\n      timeGrp.append('path').attr('class', 'time-indicator__handle').attr('d', 'M -5 -3 L -5 5 L 0 10 L 5 5 L 5 -3 L -5 -3');\n\n      // Mask time indicator\n      // todo: remove the mask.\n      this.svgContainer.append('rect').attr('class', 'graph-mask').attr('x', -self.margin.left).attr('y', -self.margin.top).attr('width', self.margin.left - 5).attr('height', self.height);\n    }\n  }, {\n    key: 'resize',\n    value: function resize(width) {\n      var width2 = width - this.margin.left - this.margin.right;\n      this.svg.attr('width', width2 + this.margin.left + this.margin.right);\n\n      this.x.range([0, width2]);\n      this.xDisplayed.range([0, width2]);\n      this.xAxisElement.call(this.xAxis);\n    }\n  }]);\n\n  return Header;\n}();\n\nexports.default = Header;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9IZWFkZXIuanM/YWU2OSJdLCJuYW1lcyI6WyJkMyIsInJlcXVpcmUiLCJTaWduYWxzIiwiSGVhZGVyIiwiZWRpdG9yIiwidGltZXIiLCJpbml0aWFsRG9tYWluIiwidHdlZW5UaW1lIiwid2lkdGgiLCJtYXJnaW4iLCJvbkJydXNoIiwiU2lnbmFsIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwiaGVpZ2h0IiwiY3VycmVudFRpbWUiLCJ0aW1lIiwieCIsInNjYWxlIiwicmFuZ2UiLCJkb21haW4iLCJ0b3RhbER1cmF0aW9uIiwieERpc3BsYXllZCIsInhBeGlzIiwic3ZnIiwiYXhpcyIsIm9yaWVudCIsInRpY2tTaXplIiwidGlja0Zvcm1hdCIsImZvcm1hdE1pbnV0ZXMiLCJzZWxlY3QiLCIkdGltZWxpbmUiLCJnZXQiLCJhcHBlbmQiLCJhdHRyIiwic3ZnQ29udGFpbmVyIiwiY3JlYXRlQnJ1c2hIYW5kbGUiLCJjcmVhdGVUaW1lSGFuZGxlIiwiZHVyYXRpb25DaGFuZ2VkIiwiYWRkIiwib25EdXJhdGlvbkNoYW5nZWQiLCJiaW5kIiwic2Vjb25kcyIsIm1zIiwibmV3X2RvbWFpbiIsIk1hdGgiLCJtaW4iLCJtYXgiLCJicnVzaCIsImV4dGVudCIsImNhbGwiLCJkaXNwYXRjaCIsInJlbmRlciIsInhBeGlzRWxlbWVudCIsImFkYXB0RG9tYWluVG9EdXJhdGlvbiIsInNldERvbWFpbiIsImV4dGVudDAiLCJzdGFydCIsImdldFRpbWUiLCJlbmQiLCJvbiIsImdCcnVzaCIsInNlbGVjdEFsbCIsInRpbWVTZWxlY3Rpb24iLCJzZWxmIiwiZHJhZ1RpbWVNb3ZlIiwiZXZlbnQiLCJzb3VyY2VFdmVudCIsInN0b3BQcm9wYWdhdGlvbiIsImV2ZW50X3giLCJ1bmRlZmluZWQiLCJjbGllbnRYIiwiZHgiLCJpbnZlcnQiLCJ0aW1lTWF0Y2giLCJzaGlmdEtleSIsImdldENsb3Nlc3RUaW1lIiwiZGF0YSIsInNlZWsiLCJkcmFnVGltZSIsImJlaGF2aW9yIiwiZHJhZyIsIm9yaWdpbiIsImQiLCJlbnRlciIsIm1vdXNlIiwidGltZUdycCIsIndpZHRoMiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFHQTs7Ozs7Ozs7QUFIQSxJQUFJQSxLQUFLLG1CQUFBQyxDQUFRLEVBQVIsQ0FBVDs7QUFFQSxJQUFJQyxVQUFVLG1CQUFBRCxDQUFRLENBQVIsQ0FBZDs7SUFHcUJFLE07QUFDbkIsa0JBQVlDLE1BQVosRUFBb0JDLEtBQXBCLEVBQTJCQyxhQUEzQixFQUEwQ0MsU0FBMUMsRUFBcURDLEtBQXJELEVBQTREQyxNQUE1RCxFQUFvRTtBQUFBOztBQUNsRSxTQUFLSixLQUFMLEdBQWFBLEtBQWI7QUFDQSxTQUFLQyxhQUFMLEdBQXFCQSxhQUFyQjtBQUNBLFNBQUtDLFNBQUwsR0FBaUJBLFNBQWpCOztBQUVBLFNBQUtHLE9BQUwsR0FBZSxJQUFJUixRQUFRUyxNQUFaLEVBQWY7QUFDQSxTQUFLRixNQUFMLEdBQWMsRUFBQ0csS0FBSyxFQUFOLEVBQVVDLE9BQU8sRUFBakIsRUFBcUJDLFFBQVEsQ0FBN0IsRUFBZ0NDLE1BQU1OLE9BQU9NLElBQTdDLEVBQWQ7QUFDQSxTQUFLQyxNQUFMLEdBQWMsS0FBSyxLQUFLUCxNQUFMLENBQVlHLEdBQWpCLEdBQXVCLEtBQUtILE1BQUwsQ0FBWUssTUFBbkMsR0FBNEMsRUFBMUQ7O0FBRUEsU0FBS0csV0FBTCxHQUFtQixLQUFLWixLQUFMLENBQVdhLElBQTlCO0FBQ0EsU0FBS0MsQ0FBTCxHQUFTbkIsR0FBR2tCLElBQUgsQ0FBUUUsS0FBUixHQUFnQkMsS0FBaEIsQ0FBc0IsQ0FBQyxDQUFELEVBQUliLEtBQUosQ0FBdEIsQ0FBVDtBQUNBLFNBQUtXLENBQUwsQ0FBT0csTUFBUCxDQUFjLENBQUMsQ0FBRCxFQUFJLEtBQUtqQixLQUFMLENBQVdrQixhQUFmLENBQWQ7O0FBRUE7QUFDQSxTQUFLQyxVQUFMLEdBQWtCeEIsR0FBR2tCLElBQUgsQ0FBUUUsS0FBUixHQUFnQkMsS0FBaEIs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Q0FBc0IsQ0FBQyxDQUFELEVBQUlvRSxNQUFKLENBQXRCO0FBQ0EsV0FBS2xDLFlBQUwsQ0FBa0JILElBQWxCLENBQXVCLEtBQUszQixLQUE1QjtBQUNEOzs7Ozs7a0JBbkxrQnRCLE0iLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgZDMgPSByZXF1aXJlKCdkMycpO1xuXG5sZXQgU2lnbmFscyA9IHJlcXVpcmUoJ2pzLXNpZ25hbHMnKTtcbmltcG9ydCBVdGlscyBmcm9tICcuLi9jb3JlL1V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVhZGVyIHtcbiAgY29uc3RydWN0b3IoZWRpdG9yLCB0aW1lciwgaW5pdGlhbERvbWFpbiwgdHdlZW5UaW1lLCB3aWR0aCwgbWFyZ2luKSB7XG4gICAgdGhpcy50aW1lciA9IHRpbWVyO1xuICAgIHRoaXMuaW5pdGlhbERvbWFpbiA9IGluaXRpYWxEb21haW47XG4gICAgdGhpcy50d2VlblRpbWUgPSB0d2VlblRpbWU7XG5cbiAgICB0aGlzLm9uQnJ1c2ggPSBuZXcgU2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLm1hcmdpbiA9IHt0b3A6IDEwLCByaWdodDogMjAsIGJvdHRvbTogMCwgbGVmdDogbWFyZ2luLmxlZnR9O1xuICAgIHRoaXMuaGVpZ2h0ID0gNTAgLSB0aGlzLm1hcmdpbi50b3AgLSB0aGlzLm1hcmdpbi5ib3R0b20gKyAyMDtcblxuICAgIHRoaXMuY3VycmVudFRpbWUgPSB0aGlzLnRpbWVyLnRpbWU7XG4gICAgdGhpcy54ID0gZDMudGltZS5zY2FsZSgpLnJhbmdlKFswLCB3aWR0aF0pO1xuICAgIHRoaXMueC5kb21haW4oWzAsIHRoaXMudGltZXIudG90YWxEdXJhdGlvbl0pO1xuXG4gICAgLy8gU2FtZSBhcyB0aGlzLnggZnJvbSB0aW1lbGluZVxuICAgIHRoaXMueERpc3BsYXllZCA9IGQzLnRpbWUuc2NhbGUoKS5yYW5nZShbMCwgd2lkdGhdKTtcbiAgICB0aGlzLnhEaXNwbGF5ZWQuZG9tYWluKHRoaXMuaW5pdGlhbERvbWFpbik7XG5cbiAgICB0aGlzLnhBeGlzID0gZDMuc3ZnLmF4aXMoKVxuICAgICAgLnNjYWxlKHRoaXMueClcbiAgICAgIC5vcmllbnQoJ3RvcCcpXG4gICAgICAudGlja1NpemUoLTUsIDApXG4gICAgICAudGlja0Zvcm1hdChVdGlscy5mb3JtYXRNaW51dGVzKTtcblxuICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KGVkaXRvci4kdGltZWxpbmUuZ2V0KDApKS5zZWxlY3QoJy50aW1lbGluZV9faGVhZGVyJykuYXBwZW5kKCdzdmcnKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgd2lkdGggKyB0aGlzLm1hcmdpbi5sZWZ0ICsgdGhpcy5tYXJnaW4ucmlnaHQpXG4gICAgICAuYXR0cignaGVpZ2h0JywgNTYpO1xuXG4gICAgdGhpcy5zdmdDb250YWluZXIgPSB0aGlzLnN2Zy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIHRoaXMubWFyZ2luLmxlZnQgKyAnLCcgKyB0aGlzLm1hcmdpbi50b3AgKyAnKScpO1xuXG4gICAgdGhpcy5jcmVhdGVCcnVzaEhhbmRsZSgpO1xuICAgIHRoaXMuY3JlYXRlVGltZUhhbmRsZSgpO1xuICAgIHRoaXMudGltZXIuZHVyYXRpb25DaGFuZ2VkLmFkZCh0aGlzLm9uRHVyYXRpb25DaGFuZ2VkLmJpbmQodGhpcykpO1xuICB9XG5cbiAgYWRhcHREb21haW5Ub0R1cmF0aW9uKGRvbWFpbiwgc2Vjb25kcykge1xuICAgIHZhciBtcyA9IHNlY29uZHMgKiAxMDAwO1xuICAgIHZhciBuZXdfZG9tYWluID0gW2RvbWFpblswXSwgZG9tYWluWzFdXTtcbiAgICAvLyBNYWtlIHRoZSBkb21haW4gc21hbGxlciBvciBlcXVhbCB0byBtcy5cbiAgICBuZXdfZG9tYWluWzBdID0gTWF0aC5taW4obmV3X2RvbWFpblswXSwgbXMpO1xuICAgIG5ld19kb21haW5bMV0gPSBNYXRoLm1pbihuZXdfZG9tYWluWzFdLCBtcyk7XG4gICAgLy8gU2hvdWxkIG5vdCBnbyBiZWxvdyAwLlxuICAgIG5ld19kb21haW5bMF0gPSBNYXRoLm1heChuZXdfZG9tYWluWzBdLCAwKTtcblxuICAgIHJldHVybiBuZXdfZG9tYWluO1xuICB9XG5cbiAgc2V0RG9tYWluKCkge1xuICAgIHRoaXMuYnJ1c2gueCh0aGlzLngpLmV4dGVudCh0aGlzLmluaXRpYWxEb21haW4pO1xuICAgIHRoaXMuc3ZnQ29udGFpbmVyLnNlbGVjdCgnLmJydXNoJykuY2FsbCh0aGlzLmJydXNoKTtcbiAgICAvLyBTYW1lIGFzIG9uQnJ1c2hcbiAgICB0aGlzLm9uQnJ1c2guZGlzcGF0Y2godGhpcy5pbml0aWFsRG9tYWluKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICAgIHRoaXMueERpc3BsYXllZC5kb21haW4odGhpcy5pbml0aWFsRG9tYWluKTtcbiAgfVxuXG4gIG9uRHVyYXRpb25DaGFuZ2VkKHNlY29uZHMpIHtcbiAgICB0aGlzLnguZG9tYWluKFswLCB0aGlzLnRpbWVyLnRvdGFsRHVyYXRpb25dKTtcbiAgICB0aGlzLnhBeGlzRWxlbWVudC5jYWxsKHRoaXMueEF4aXMpO1xuICAgIHRoaXMuaW5pdGlhbERvbWFpbiA9IHRoaXMuYWRhcHREb21haW5Ub0R1cmF0aW9uKHRoaXMuaW5pdGlhbERvbWFpbiwgc2Vjb25kcyk7XG4gICAgdGhpcy5zZXREb21haW4odGhpcy5pbml0aWFsRG9tYWluKTtcbiAgfVxuXG4gIGNyZWF0ZUJydXNoSGFuZGxlKCkge1xuICAgIHRoaXMueEF4aXNFbGVtZW50ID0gdGhpcy5zdmdDb250YWluZXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICd4IGF4aXMnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgKHRoaXMubWFyZ2luLnRvcCArIDcpICsgJyknKVxuICAgICAgLmNhbGwodGhpcy54QXhpcyk7XG5cbiAgICB2YXIgb25CcnVzaCA9ICgpID0+IHtcbiAgICAgIHZhciBleHRlbnQwID0gdGhpcy5icnVzaC5leHRlbnQoKTtcbiAgICAgIC8vIEdldCBkb21haW4gYXMgbWlsbGlzZWNvbmRzIGFuZCBub3QgZGF0ZS5cbiAgICAgIHZhciBzdGFydCA9IGV4dGVudDBbMF0uZ2V0VGltZSgpO1xuICAgICAgdmFyIGVuZCA9IGV4dGVudDBbMV0uZ2V0VGltZSgpO1xuICAgICAgLy8gU2V0IHRoZSBpbml0aWFsIGRvbWFpbi5cbiAgICAgIHRoaXMuaW5pdGlhbERvbWFpblswXSA9IHN0YXJ0O1xuICAgICAgdGhpcy5pbml0aWFsRG9tYWluWzFdID0gZW5kO1xuICAgICAgdGhpcy5zZXREb21haW4odGhpcy5pbml0aWFsRG9tYWluKTtcbiAgICB9O1xuXG4gICAgdGhpcy5icnVzaCA9IGQzLnN2Zy5icnVzaCgpXG4gICAgICAueCh0aGlzLngpXG4gICAgICAuZXh0ZW50KHRoaXMuaW5pdGlhbERvbWFpbilcbiAgICAgIC5vbignYnJ1c2gnLCBvbkJydXNoKTtcblxuICAgIHRoaXMuZ0JydXNoID0gdGhpcy5zdmdDb250YWluZXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdicnVzaCcpXG4gICAgICAuY2FsbCh0aGlzLmJydXNoKVxuICAgICAgLnNlbGVjdEFsbCgncmVjdCcpXG4gICAgICAuYXR0cignaGVpZ2h0JywgMjApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB0aW1lU2VsZWN0aW9uID0gdGhpcy5zdmdDb250YWluZXIuc2VsZWN0QWxsKCcudGltZS1pbmRpY2F0b3InKTtcbiAgICB0aW1lU2VsZWN0aW9uLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIHRoaXMueERpc3BsYXllZCh0aGlzLmN1cnJlbnRUaW1lWzBdKSArICcsIDI1KScpO1xuICB9XG5cbiAgY3JlYXRlVGltZUhhbmRsZSgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgZHJhZ1RpbWVNb3ZlID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZXZlbnQgPSBkMy5ldmVudC5zb3VyY2VFdmVudDtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdmFyIHR3ZWVuVGltZSA9IHNlbGYudHdlZW5UaW1lO1xuICAgICAgdmFyIGV2ZW50X3ggPSBldmVudC54ICE9PSB1bmRlZmluZWQgPyBldmVudC54IDogZXZlbnQuY2xpZW50WDtcbiAgICAgIHZhciBkeCA9IHNlbGYueERpc3BsYXllZC5pbnZlcnQoZXZlbnRfeCAtIHNlbGYubWFyZ2luLmxlZnQpO1xuICAgICAgZHggPSBkeC5nZXRUaW1lKCk7XG4gICAgICBkeCA9IE1hdGgubWF4KDAsIGR4KTtcblxuICAgICAgdmFyIHRpbWVNYXRjaCA9IGZhbHNlO1xuICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgIHZhciB0aW1lID0gZHggLyAxMDAwO1xuICAgICAgICB0aW1lTWF0Y2ggPSBVdGlscy5nZXRDbG9zZXN0VGltZSh0d2VlblRpbWUuZGF0YSwgdGltZSwgJy0tLW5vbi1leGlzdGFudCcsIGZhbHNlLCBmYWxzZSwgMC4zKTtcbiAgICAgICAgaWYgKHRpbWVNYXRjaCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICB0aW1lTWF0Y2ggPSB0aW1lTWF0Y2ggKiAxMDAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGltZU1hdGNoID09PSBmYWxzZSkge1xuICAgICAgICB0aW1lTWF0Y2ggPSBkeDtcbiAgICAgIH1cbiAgICAgIHNlbGYudGltZXIuc2VlayhbdGltZU1hdGNoXSk7XG4gICAgfTtcblxuICAgIHZhciBkcmFnVGltZSA9IGQzLmJlaGF2aW9yLmRyYWcoKVxuICAgICAgLm9yaWdpbihmdW5jdGlvbihkKSB7XG4gICAgICAgIHJldHVybiBkO1xuICAgICAgfSlcbiAgICAgIC5vbignZHJhZycsIGRyYWdUaW1lTW92ZSk7XG5cbiAgICB2YXIgdGltZVNlbGVjdGlvbiA9IHRoaXMuc3ZnQ29udGFpbmVyLnNlbGVjdEFsbCgnLnRpbWUtaW5kaWNhdG9yJykuZGF0YSh0aGlzLmN1cnJlbnRUaW1lKTtcblxuICAgIHRpbWVTZWxlY3Rpb24uZW50ZXIoKS5hcHBlbmQoJ3JlY3QnKVxuICAgICAgLmF0dHIoJ3gnLCAwKVxuICAgICAgLmF0dHIoJ3knLCAyMClcbiAgICAgIC5hdHRyKCd3aWR0aCcsIHNlbGYueERpc3BsYXllZChzZWxmLnRpbWVyLnRvdGFsRHVyYXRpb24pKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIDUwKVxuICAgICAgLmF0dHIoJ2ZpbGwtb3BhY2l0eScsIDApXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtb3VzZSA9IGQzLm1vdXNlKHRoaXMpO1xuICAgICAgICB2YXIgZHggPSBzZWxmLnhEaXNwbGF5ZWQuaW52ZXJ0KG1vdXNlWzBdKTtcbiAgICAgICAgZHggPSBkeC5nZXRUaW1lKCk7XG4gICAgICAgIGR4ID0gTWF0aC5tYXgoMCwgZHgpO1xuICAgICAgICBzZWxmLnRpbWVyLnNlZWsoW2R4XSk7XG4gICAgICB9KTtcblxuICAgIHZhciB0aW1lR3JwID0gdGltZVNlbGVjdGlvbi5lbnRlcigpLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAndGltZS1pbmRpY2F0b3InKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoLTAuNSwnICsgMzAgKyAnKScpXG4gICAgICAuY2FsbChkcmFnVGltZSk7XG5cbiAgICB0aW1lR3JwLmFwcGVuZCgncmVjdCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAndGltZS1pbmRpY2F0b3JfX2xpbmUnKVxuICAgICAgLmF0dHIoJ3gnLCAtMC41KVxuICAgICAgLmF0dHIoJ3knLCAwKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgMSlcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCAxMDAwKTtcblxuICAgIHRpbWVHcnAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICd0aW1lLWluZGljYXRvcl9faGFuZGxlJylcbiAgICAgIC5hdHRyKCdkJywgJ00gLTUgLTMgTCAtNSA1IEwgMCAxMCBMIDUgNSBMIDUgLTMgTCAtNSAtMycpO1xuXG4gICAgLy8gTWFzayB0aW1lIGluZGljYXRvclxuICAgIC8vIHRvZG86IHJlbW92ZSB0aGUgbWFzay5cbiAgICB0aGlzLnN2Z0NvbnRhaW5lci5hcHBlbmQoJ3JlY3QnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2dyYXBoLW1hc2snKVxuICAgICAgLmF0dHIoJ3gnLCAtc2VsZi5tYXJnaW4ubGVmdClcbiAgICAgIC5hdHRyKCd5JywgLXNlbGYubWFyZ2luLnRvcClcbiAgICAgIC5hdHRyKCd3aWR0aCcsIHNlbGYubWFyZ2luLmxlZnQgLSA1KVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIHNlbGYuaGVpZ2h0KTtcbiAgfVxuXG4gIHJlc2l6ZSh3aWR0aCkge1xuICAgIGxldCB3aWR0aDIgPSB3aWR0aCAtIHRoaXMubWFyZ2luLmxlZnQgLSB0aGlzLm1hcmdpbi5yaWdodDtcbiAgICB0aGlzLnN2Zy5hdHRyKCd3aWR0aCcsIHdpZHRoMiArIHRoaXMubWFyZ2luLmxlZnQgKyB0aGlzLm1hcmdpbi5yaWdodCk7XG5cbiAgICB0aGlzLngucmFuZ2UoWzAsIHdpZHRoMl0pO1xuICAgIHRoaXMueERpc3BsYXllZC5yYW5nZShbMCwgd2lkdGgyXSk7XG4gICAgdGhpcy54QXhpc0VsZW1lbnQuY2FsbCh0aGlzLnhBeGlzKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZ3JhcGgvSGVhZGVyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 15 */
/***/ (function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_15__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkM1wiP2MwYzQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMTVfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImQzXCJcbi8vIG1vZHVsZSBpZCA9IDE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 16 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TimeIndicator = function () {\n  function TimeIndicator(timeline, container) {\n    _classCallCheck(this, TimeIndicator);\n\n    this.timeline = timeline;\n    this.container = container;\n    this.timeSelection = this.container.selectAll('.time-indicator').data(this.timeline.currentTime);\n    this.timeGrp = this.timeSelection.enter().append('svg').attr('class', 'time-indicator timeline__right-mask').attr('width', window.innerWidth - this.timeline.label_position_x).attr('height', 442);\n\n    this.timeSelection = this.timeGrp.append('rect').attr('class', 'time-indicator__line').attr('x', 0).attr('y', -this.timeline.margin.top - 5).attr('width', 1).attr('height', 1000);\n\n    this.timeSelection = this.container.selectAll('.time-indicator rect');\n  }\n\n  _createClass(TimeIndicator, [{\n    key: 'updateHeight',\n    value: function updateHeight(height) {\n      this.timeGrp.attr('height', height);\n      this.timeSelection.attr('height', height + this.timeline.margin.top + 5);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      this.timeSelection.attr('transform', 'translate(' + (this.timeline.x(this.timeline.currentTime[0]) - 0.5) + ',0)');\n    }\n  }]);\n\n  return TimeIndicator;\n}();\n\nexports.default = TimeIndicator;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9UaW1lSW5kaWNhdG9yLmpzP2JjODYiXSwibmFtZXMiOlsiVGltZUluZGljYXRvciIsInRpbWVsaW5lIiwiY29udGFpbmVyIiwidGltZVNlbGVjdGlvbiIsInNlbGVjdEFsbCIsImRhdGEiLCJjdXJyZW50VGltZSIsInRpbWVHcnAiLCJlbnRlciIsImFwcGVuZCIsImF0dHIiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwibGFiZWxfcG9zaXRpb25feCIsIm1hcmdpbiIsInRvcCIsImhlaWdodCIsIngiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7SUFBcUJBLGE7QUFDbkIseUJBQVlDLFFBQVosRUFBc0JDLFNBQXRCLEVBQWlDO0FBQUE7O0FBQy9CLFNBQUtELFFBQUwsR0FBZ0JBLFFBQWhCO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQkEsU0FBakI7QUFDQSxTQUFLQyxhQUFMLEdBQXFCLEtBQUtELFNBQUwsQ0FBZUUsU0FBZixDQUF5QixpQkFBekIsRUFBNENDLElBQTVDLENBQWlELEtBQUtKLFFBQUwsQ0FBY0ssV0FBL0QsQ0FBckI7QUFDQSxTQUFLQyxPQUFMLEdBQWUsS0FBS0osYUFBTCxDQUFtQkssS0FBbkIsR0FBMkJDLE1BQTNCLENBQWtDLEtBQWxDLEVBQ1pDLElBRFksQ0FDUCxPQURPLEVBQ0UscUNBREYsRUFFWkEsSUFGWSxDQUVQLE9BRk8sRUFFRUMsT0FBT0MsVUFBUCxHQUFvQixLQUFLWCxRQUFMLENBQWNZLGdCQUZwQyxFQUdaSCxJQUhZLENBR1AsUUFITyxFQUdHLEdBSEgsQ0FBZjs7QUFLQSxTQUFLUCxhQUFMLEdBQXFCLEtBQUtJLE9BQUwsQ0FBYUUsTUFBYixDQUFvQixNQUFwQixFQUNsQkMsSUFEa0IsQ0FDYixPQURhLEVBQ0osc0JBREksRUFFbEJBLElBRmtCLENBRWIsR0FGYSxFQUVSLENBRlEsRUFHbEJBLElBSGtCLENBR2IsR0FIYSxFQUdSLENBQUMsS0FBS1QsUUFBTCxDQUFjYSxNQUFkLENBQXFCQyxHQUF0QixHQUE0QixDQUhwQixFQUlsQkwsSUFKa0IsQ0FJYixPQUphLEVBSUosQ0FKSSxFQUtsQkEsSUFMa0IsQ0FLYixRQUxhLEVBS0gsSUFMRyxDQUFyQjs7QUFPQSxTQUFLUCxhQUFMLEdBQXFCLEtBQUtELFNBQUwsQ0FBZUUsU0FBZixDQUF5QixzQkFBekIsQ0FBckI7QUFDRDs7OztpQ0FFWVksTSxFQUFRO0FBQ25CLFdBQUtULE9BQUwsQ0FBYUcsSUFBYixDQUFrQixRQUFsQixFQUE0Qk0sTUFBNUI7QUFDQSxXQUFLYixhQUFMLENBQW1CTyxJQUFuQixDQUF3QixRQUF4QixFQUFrQ00sU0FBUyxLQUFLZixRQUFMLENBQWNhLE1BQWQsQ0FBcUJDLEdBQTlCLEdBQW9DLENBQXRFO0FBQ0Q7Ozs2QkFFUTtBQUNQLFdBQUtaLGFBQUwsQ0FBbUJPLElBQW5CLENBQXdCLFdBQXhCLEVBQXFDLGdCQUFnQixLQUFLVCxRQUFMLENBQWNnQixDQUFkLENBQWdCLEtBQUtoQixRQUFMLENBQWNLLFdBQWQsQ0FBMEIsQ0FBMUIsQ0FBaEIsSUFBZ0QsR0FBaEUsSUFBdUUsS0FBNUc7QUFDRDs7Ozs7O2tCQTNCa0JOLGEiLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBUaW1lSW5kaWNhdG9yIHtcbiAgY29uc3RydWN0b3IodGltZWxpbmUsIGNvbnRhaW5lcikge1xuICAgIHRoaXMudGltZWxpbmUgPSB0aW1lbGluZTtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLnRpbWVTZWxlY3Rpb24gPSB0aGlzLmNvbnRhaW5lci5zZWxlY3RBbGwoJy50aW1lLWluZGljYXRvcicpLmRhdGEodGhpcy50aW1lbGluZS5jdXJyZW50VGltZSk7XG4gICAgdGhpcy50aW1lR3JwID0gdGhpcy50aW1lU2VsZWN0aW9uLmVudGVyKCkuYXBwZW5kKCdzdmcnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3RpbWUtaW5kaWNhdG9yIHRpbWVsaW5lX19yaWdodC1tYXNrJylcbiAgICAgIC5hdHRyKCd3aWR0aCcsIHdpbmRvdy5pbm5lcldpZHRoIC0gdGhpcy50aW1lbGluZS5sYWJlbF9wb3NpdGlvbl94KVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIDQ0Mik7XG5cbiAgICB0aGlzLnRpbWVTZWxlY3Rpb24gPSB0aGlzLnRpbWVHcnAuYXBwZW5kKCdyZWN0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICd0aW1lLWluZGljYXRvcl9fbGluZScpXG4gICAgICAuYXR0cigneCcsIDApXG4gICAgICAuYXR0cigneScsIC10aGlzLnRpbWVsaW5lLm1hcmdpbi50b3AgLSA1KVxuICAgICAgLmF0dHIoJ3dpZHRoJywgMSlcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCAxMDAwKTtcblxuICAgIHRoaXMudGltZVNlbGVjdGlvbiA9IHRoaXMuY29udGFpbmVyLnNlbGVjdEFsbCgnLnRpbWUtaW5kaWNhdG9yIHJlY3QnKTtcbiAgfVxuXG4gIHVwZGF0ZUhlaWdodChoZWlnaHQpIHtcbiAgICB0aGlzLnRpbWVHcnAuYXR0cignaGVpZ2h0JywgaGVpZ2h0KTtcbiAgICB0aGlzLnRpbWVTZWxlY3Rpb24uYXR0cignaGVpZ2h0JywgaGVpZ2h0ICsgdGhpcy50aW1lbGluZS5tYXJnaW4udG9wICsgNSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdGhpcy50aW1lU2VsZWN0aW9uLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArICh0aGlzLnRpbWVsaW5lLngodGhpcy50aW1lbGluZS5jdXJyZW50VGltZVswXSkgLSAwLjUpICsgJywwKScpO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ncmFwaC9UaW1lSW5kaWNhdG9yLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Utils = __webpack_require__(1);\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar d3 = __webpack_require__(15);\nvar Signals = __webpack_require__(6);\nvar _ = __webpack_require__(12);\n\nvar Items = function () {\n  function Items(timeline, container) {\n    _classCallCheck(this, Items);\n\n    this.timeline = timeline;\n    this.container = container;\n    this.dy = 10 + this.timeline.margin.top;\n    this.onUpdate = new Signals.Signal();\n  }\n\n  _createClass(Items, [{\n    key: 'render',\n    value: function render() {\n      var self = this;\n      var tweenTime = self.timeline.tweenTime;\n      var editor = self.timeline.editor;\n\n      var selectBar = function selectBar(data) {\n        self.timeline.selectionManager.select(data);\n      };\n\n      var dragmove = function dragmove(d) {\n        var dx = self.timeline.x.invert(d3.event.x).getTime() / 1000;\n        var diff = dx - d.start;\n        d.start += diff;\n        d.end += diff;\n        if (d.properties) {\n          for (var prop_key = 0; prop_key < d.properties.length; prop_key++) {\n            var prop = d.properties[prop_key];\n            for (var i = 0; i < prop.keys.length; i++) {\n              var key = prop.keys[i];\n              key.time += diff;\n            }\n          }\n        }\n        d._isDirty = true;\n        self.onUpdate.dispatch();\n      };\n\n      var dragmoveLeft = function dragmoveLeft(d) {\n        d3.event.sourceEvent.stopPropagation();\n        var sourceEvent = d3.event.sourceEvent;\n        var dx = self.timeline.x.invert(d3.event.x).getTime() / 1000;\n        var timeMatch = false;\n        if (sourceEvent.shiftKey) {\n          timeMatch = _Utils2.default.getClosestTime(tweenTime.data, dx, d.id, false, tweenTime.timer);\n        }\n        if (!timeMatch) {\n          var diff = dx - d.start;\n          timeMatch = d.start + diff;\n        }\n        d.start = timeMatch;\n        d._isDirty = true;\n        self.onUpdate.dispatch();\n      };\n\n      var dragmoveRight = function dragmoveRight(d) {\n        d3.event.sourceEvent.stopPropagation();\n        var sourceEvent = d3.event.sourceEvent;\n        var dx = self.timeline.x.invert(d3.event.x).getTime() / 1000;\n        var timeMatch = false;\n        if (sourceEvent.shiftKey) {\n          timeMatch = _Utils2.default.getClosestTime(tweenTime.data, dx, false, false, tweenTime.timer);\n        }\n        if (!timeMatch) {\n          var diff = dx - d.end;\n          timeMatch = d.end + diff;\n        }\n        d.end = timeMatch;\n        d._isDirty = true;\n        self.onUpdate.dispatch();\n      };\n\n      var dragLeft = d3.behavior.drag().origin(function () {\n        var t = d3.select(this);\n        return { x: t.attr('x'), y: t.attr('y') };\n      }).on('drag', dragmoveLeft);\n\n      var dragRight = d3.behavior.drag().origin(function () {\n        var t = d3.select(this);\n        return { x: t.attr('x'), y: t.attr('y') };\n      }).on('drag', dragmoveRight);\n\n      var drag = d3.behavior.drag().origin(function () {\n        var t = d3.select(this);\n        return { x: t.attr('x'), y: t.attr('y') };\n      }).on('drag', dragmove);\n\n      var bar_border = 1;\n      var bar = this.container.selectAll('.line-grp').data(this.timeline.tweenTime.data, function (d) {\n        return d.id;\n      });\n\n      var barEnter = bar.enter().append('g').attr('class', 'line-grp');\n\n      var barContainerRight = barEnter.append('svg').attr({\n        class: 'timeline__right-mask',\n        width: window.innerWidth - self.timeline.label_position_x\n      });\n\n      bar.select('.timeline__right-mask').attr({\n        display: function display() {\n          return self.timeline.editor.curveEditEnabled ? 'none' : 'block';\n        },\n        height: function height(d) {\n          return (d.properties.length + 1) * self.timeline.lineHeight;\n        }\n      });\n\n      barContainerRight.append('rect').attr('class', 'bar')\n      // Add a unique id for SelectionManager.removeDuplicates\n      .attr('id', function () {\n        return _Utils2.default.guid();\n      }).attr('y', 3).attr('height', 14);\n\n      barContainerRight.append('rect').attr('class', 'bar-anchor bar-anchor--left').attr('y', 2).attr('height', 16).attr('width', 6).call(dragLeft);\n\n      barContainerRight.append('rect').attr('class', 'bar-anchor bar-anchor--right').attr('y', 2).attr('height', 16).attr('width', 6).call(dragRight);\n\n      self.dy = 10 + this.timeline.margin.top;\n      bar.attr('transform', function (d) {\n        var y = self.dy;\n        self.dy += self.timeline.lineHeight;\n        if (!d.collapsed) {\n          var numProperties = 0;\n          if (d.properties) {\n            if (editor.options.showEmptyProperties) {\n              var visibleProperties = d.properties;\n            } else {\n              var visibleProperties = _.filter(d.properties, function (prop) {\n                return prop.keys.length;\n              });\n            }\n            numProperties = visibleProperties.length;\n          }\n          self.dy += numProperties * self.timeline.lineHeight;\n        }\n        return 'translate(0,' + y + ')';\n      });\n\n      var barWithStartAndEnd = function barWithStartAndEnd(d) {\n        if (d.start !== undefined && d.end !== undefined) {\n          return true;\n        }\n        return false;\n      };\n\n      bar.selectAll('.bar-anchor--left').filter(barWithStartAndEnd).attr('x', function (d) {\n        return self.timeline.x(d.start * 1000) - 1;\n      }).on('mousedown', function () {\n        // Don't trigger mousedown on linescontainer else\n        // it create the selection rectangle\n        d3.event.stopPropagation();\n      });\n\n      bar.selectAll('.bar-anchor--right').filter(barWithStartAndEnd).attr('x', function (d) {\n        return self.timeline.x(d.end * 1000) - 1;\n      }).on('mousedown', function () {\n        // Don't trigger mousedown on linescontainer else\n        // it create the selection rectangle\n        d3.event.stopPropagation();\n      });\n\n      bar.selectAll('.bar').filter(barWithStartAndEnd).attr('x', function (d) {\n        return self.timeline.x(d.start * 1000) + bar_border;\n      }).attr('width', function (d) {\n        return Math.max(0, (self.timeline.x(d.end) - self.timeline.x(d.start)) * 1000 - bar_border);\n      }).call(drag).on('click', selectBar).on('mousedown', function () {\n        // Don't trigger mousedown on linescontainer else\n        // it create the selection rectangle\n        d3.event.stopPropagation();\n      });\n\n      barEnter.append('text').attr('class', 'line-label').attr('x', self.timeline.label_position_x + 10).attr('y', 16).text(function (d) {\n        return d.label;\n      }).on('click', selectBar).on('mousedown', function () {\n        // Don't trigger mousedown on linescontainer else\n        // it create the selection rectangle\n        d3.event.stopPropagation();\n      });\n\n      barEnter.append('text').attr('class', 'line__toggle').attr('x', self.timeline.label_position_x - 10).attr('y', 16).on('click', function (d) {\n        d.collapsed = !d.collapsed;\n        self.onUpdate.dispatch();\n      });\n\n      bar.selectAll('.line__toggle').text(function (d) {\n        if (d.collapsed) {\n          return '';\n        }\n        return '';\n      });\n\n      barEnter.append('line').attr('class', 'line-separator').attr('x1', -self.timeline.margin.left).attr('y1', self.timeline.lineHeight).attr('y2', self.timeline.lineHeight);\n\n      // Hide property line separator if curve editor is enabled.\n      bar.selectAll('.line-separator').attr('x2', function () {\n        if (editor.curveEditEnabled) {\n          return 0;\n        }\n        return self.timeline.x(self.timeline.timer.totalDuration + 100);\n      });\n\n      bar.exit().remove();\n\n      return bar;\n    }\n  }]);\n\n  return Items;\n}();\n\nexports.default = Items;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9JdGVtcy5qcz84NGQ0Il0sIm5hbWVzIjpbImQzIiwicmVxdWlyZSIsIlNpZ25hbHMiLCJfIiwiSXRlbXMiLCJ0aW1lbGluZSIsImNvbnRhaW5lciIsImR5IiwibWFyZ2luIiwidG9wIiwib25VcGRhdGUiLCJTaWduYWwiLCJzZWxmIiwidHdlZW5UaW1lIiwiZWRpdG9yIiwic2VsZWN0QmFyIiwiZGF0YSIsInNlbGVjdGlvbk1hbmFnZXIiLCJzZWxlY3QiLCJkcmFnbW92ZSIsImQiLCJkeCIsIngiLCJpbnZlcnQiLCJldmVudCIsImdldFRpbWUiLCJkaWZmIiwic3RhcnQiLCJlbmQiLCJwcm9wZXJ0aWVzIiwicHJvcF9rZXkiLCJsZW5ndGgiLCJwcm9wIiwiaSIsImtleXMiLCJrZXkiLCJ0aW1lIiwiX2lzRGlydHkiLCJkaXNwYXRjaCIsImRyYWdtb3ZlTGVmdCIsInNvdXJjZUV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwidGltZU1hdGNoIiwic2hpZnRLZXkiLCJnZXRDbG9zZXN0VGltZSIsImlkIiwidGltZXIiLCJkcmFnbW92ZVJpZ2h0IiwiZHJhZ0xlZnQiLCJiZWhhdmlvciIsImRyYWciLCJvcmlnaW4iLCJ0IiwiYXR0ciIsInkiLCJvbiIsImRyYWdSaWdodCIsImJhcl9ib3JkZXIiLCJiYXIiLCJzZWxlY3RBbGwiLCJiYXJFbnRlciIsImVudGVyIiwiYXBwZW5kIiwiYmFyQ29udGFpbmVyUmlnaHQiLCJjbGFzcyIsIndpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImxhYmVsX3Bvc2l0aW9uX3giLCJkaXNwbGF5IiwiY3VydmVFZGl0RW5hYmxlZCIsImhlaWdodCIsImxpbmVIZWlnaHQiLCJndWlkIiwiY2FsbCIsImNvbGxhcHNlZCIsIm51bVByb3BlcnRpZXMiLCJvcHRpb25zIiwic2hvd0VtcHR5UHJvcGVydGllcyIsInZpc2libGVQcm9wZXJ0aWVzIiwiZmlsdGVyIiwiYmFyV2l0aFN0YXJ0QW5kRW5kIiwidW5kZWZpbmVkIiwiTWF0aCIsIm1heCIsInRleHQiLCJsYWJlbCIsImxlZnQiLCJ0b3RhbER1cmF0aW9uIiwiZXhpdCIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFHQTs7Ozs7Ozs7QUFIQSxJQUFJQSxLQUFLLG1CQUFBQyxDQUFRLEVBQVIsQ0FBVDtBQUNBLElBQUlDLFVBQVUsbUJBQUFELENBQVEsQ0FBUixDQUFkO0FBQ0EsSUFBSUUsSUFBSSxtQkFBQUYsQ0FBUSxFQUFSLENBQVI7O0lBR3FCRyxLO0FBQ25CLGlCQUFZQyxRQUFaLEVBQXNCQyxTQUF0QixFQUFpQztBQUFBOztBQUMvQixTQUFLRCxRQUFMLEdBQWdCQSxRQUFoQjtBQUNBLFNBQUtDLFNBQUwsR0FBaUJBLFNBQWpCO0FBQ0EsU0FBS0MsRUFBTCxHQUFVLEtBQUssS0FBS0YsUUFBTCxDQUFjRyxNQUFkLENBQXFCQyxHQUFwQztBQUNBLFNBQUtDLFFBQUwsR0FBZ0IsSUFBSVIsUUFBUVMsTUFBWixFQUFoQjtBQUNEOzs7OzZCQUVRO0FBQ1AsVUFBTUMsT0FBTyxJQUFiO0FBQ0EsVUFBTUMsWUFBWUQsS0FBS1AsUUFBTCxDQUFjUSxTQUFoQztBQUNBLFVBQU1DLFNBQVNGLEtBQUtQLFFBQUwsQ0FBY1MsTUFBN0I7O0FBRUEsVUFBTUMsWUFBWSxTQUFaQSxTQUFZLENBQVNDLElBQVQsRUFBZTtBQUMvQkosYUFBS1AsUUFBTCxDQUFjWSxnQkFBZCxDQUErQkMsTUFBL0IsQ0FBc0NGLElBQXRDO0FBQ0QsT0FGRDs7QUFJQSxVQUFNRyxXQUFXLFNBQVhBLFFBQVcsQ0FBU0MsQ0FBVCxFQUFZO0FBQzNCLFlBQU1DLEtBQUtULEtBQUtQLFFBQUwsQ0FBY2lCLENBQWQsQ0FBZ0JDLE1BQWhCLENBQXVCdkIsR0FBR3dCLEtBQUgsQ0FBU0YsQ0FBaEMsRUFBbUNHLE9BQW5DLEtBQStDLElBQTFEO0FBQ0EsWUFBTUMsT0FBT0wsS0FBS0QsRUFBRU8sS0FBcEI7QUFDQVAsVUFBRU8sS0FBRixJQUFXRCxJQUFYO0FBQ0FOLFVBQUVRLEdB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O0FBQzlDLFlBQUlBLEVBQUV1RCxTQUFOLEVBQWlCO0FBQ2YsaUJBQU8sR0FBUDtBQUNEO0FBQ0QsZUFBTyxHQUFQO0FBQ0QsT0FMRDs7QUFPQWYsZUFBU0UsTUFBVCxDQUFnQixNQUFoQixFQUNHVCxJQURILENBQ1EsT0FEUixFQUNpQixnQkFEakIsRUFFR0EsSUFGSCxDQUVRLElBRlIsRUFFYyxDQUFDekMsS0FBS1AsUUFBTCxDQUFjRyxNQUFkLENBQXFCK0UsSUFGcEMsRUFHR2xDLElBSEgsQ0FHUSxJQUhSLEVBR2N6QyxLQUFLUCxRQUFMLENBQWNtRSxVQUg1QixFQUlHbkIsSUFKSCxDQUlRLElBSlIsRUFJY3pDLEtBQUtQLFFBQUwsQ0FBY21FLFVBSjVCOztBQU1BO0FBQ0FkLFVBQUlDLFNBQUosQ0FBYyxpQkFBZCxFQUNHTixJQURILENBQ1EsSUFEUixFQUNjLFlBQVc7QUFDckIsWUFBSXZDLE9BQU93RCxnQkFBWCxFQUE2QjtBQUMzQixpQkFBTyxDQUFQO0FBQ0Q7QUFDRCxlQUFPMUQsS0FBS1AsUUFBTCxDQUFjaUIsQ0FBZCxDQUFnQlYsS0FBS1AsUUFBTCxDQUFjeUMsS0FBZCxDQUFvQjBDLGFBQXBCLEdBQW9DLEdBQXBELENBQVA7QUFDRCxPQU5IOztBQVFBOUIsVUFBSStCLElBQUosR0FBV0MsTUFBWDs7QUFFQSxhQUFPaEMsR0FBUDtBQUNEOzs7Ozs7a0JBNU9rQnRELEsiLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgZDMgPSByZXF1aXJlKCdkMycpO1xubGV0IFNpZ25hbHMgPSByZXF1aXJlKCdqcy1zaWduYWxzJyk7XG5sZXQgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuaW1wb3J0IFV0aWxzIGZyb20gJy4uL2NvcmUvVXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJdGVtcyB7XG4gIGNvbnN0cnVjdG9yKHRpbWVsaW5lLCBjb250YWluZXIpIHtcbiAgICB0aGlzLnRpbWVsaW5lID0gdGltZWxpbmU7XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgdGhpcy5keSA9IDEwICsgdGhpcy50aW1lbGluZS5tYXJnaW4udG9wO1xuICAgIHRoaXMub25VcGRhdGUgPSBuZXcgU2lnbmFscy5TaWduYWwoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCB0d2VlblRpbWUgPSBzZWxmLnRpbWVsaW5lLnR3ZWVuVGltZTtcbiAgICBjb25zdCBlZGl0b3IgPSBzZWxmLnRpbWVsaW5lLmVkaXRvcjtcblxuICAgIGNvbnN0IHNlbGVjdEJhciA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIHNlbGYudGltZWxpbmUuc2VsZWN0aW9uTWFuYWdlci5zZWxlY3QoZGF0YSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGRyYWdtb3ZlID0gZnVuY3Rpb24oZCkge1xuICAgICAgY29uc3QgZHggPSBzZWxmLnRpbWVsaW5lLnguaW52ZXJ0KGQzLmV2ZW50LngpLmdldFRpbWUoKSAvIDEwMDA7XG4gICAgICBjb25zdCBkaWZmID0gZHggLSBkLnN0YXJ0O1xuICAgICAgZC5zdGFydCArPSBkaWZmO1xuICAgICAgZC5lbmQgKz0gZGlmZjtcbiAgICAgIGlmIChkLnByb3BlcnRpZXMpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcF9rZXkgPSAwOyBwcm9wX2tleSA8IGQucHJvcGVydGllcy5sZW5ndGg7IHByb3Bfa2V5KyspIHtcbiAgICAgICAgICB2YXIgcHJvcCA9IGQucHJvcGVydGllc1twcm9wX2tleV07XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wLmtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBwcm9wLmtleXNbaV07XG4gICAgICAgICAgICBrZXkudGltZSArPSBkaWZmO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZC5faXNEaXJ0eSA9IHRydWU7XG4gICAgICBzZWxmLm9uVXBkYXRlLmRpc3BhdGNoKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGRyYWdtb3ZlTGVmdCA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgIGQzLmV2ZW50LnNvdXJjZUV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdmFyIHNvdXJjZUV2ZW50ID0gZDMuZXZlbnQuc291cmNlRXZlbnQ7XG4gICAgICB2YXIgZHggPSBzZWxmLnRpbWVsaW5lLnguaW52ZXJ0KGQzLmV2ZW50LngpLmdldFRpbWUoKSAvIDEwMDA7XG4gICAgICB2YXIgdGltZU1hdGNoID0gZmFsc2U7XG4gICAgICBpZiAoc291cmNlRXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgdGltZU1hdGNoID0gVXRpbHMuZ2V0Q2xvc2VzdFRpbWUodHdlZW5UaW1lLmRhdGEsIGR4LCBkLmlkLCBmYWxzZSwgdHdlZW5UaW1lLnRpbWVyKTtcbiAgICAgIH1cbiAgICAgIGlmICghdGltZU1hdGNoKSB7XG4gICAgICAgIHZhciBkaWZmID0gZHggLSBkLnN0YXJ0O1xuICAgICAgICB0aW1lTWF0Y2ggPSBkLnN0YXJ0ICsgZGlmZjtcbiAgICAgIH1cbiAgICAgIGQuc3RhcnQgPSB0aW1lTWF0Y2g7XG4gICAgICBkLl9pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgIHNlbGYub25VcGRhdGUuZGlzcGF0Y2goKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZHJhZ21vdmVSaWdodCA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgIGQzLmV2ZW50LnNvdXJjZUV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdmFyIHNvdXJjZUV2ZW50ID0gZDMuZXZlbnQuc291cmNlRXZlbnQ7XG4gICAgICB2YXIgZHggPSBzZWxmLnRpbWVsaW5lLnguaW52ZXJ0KGQzLmV2ZW50LngpLmdldFRpbWUoKSAvIDEwMDA7XG4gICAgICB2YXIgdGltZU1hdGNoID0gZmFsc2U7XG4gICAgICBpZiAoc291cmNlRXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgdGltZU1hdGNoID0gVXRpbHMuZ2V0Q2xvc2VzdFRpbWUodHdlZW5UaW1lLmRhdGEsIGR4LCBmYWxzZSwgZmFsc2UsIHR3ZWVuVGltZS50aW1lcik7XG4gICAgICB9XG4gICAgICBpZiAoIXRpbWVNYXRjaCkge1xuICAgICAgICB2YXIgZGlmZiA9IGR4IC0gZC5lbmQ7XG4gICAgICAgIHRpbWVNYXRjaCA9IGQuZW5kICsgZGlmZjtcbiAgICAgIH1cbiAgICAgIGQuZW5kID0gdGltZU1hdGNoO1xuICAgICAgZC5faXNEaXJ0eSA9IHRydWU7XG4gICAgICBzZWxmLm9uVXBkYXRlLmRpc3BhdGNoKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGRyYWdMZWZ0ID0gZDMuYmVoYXZpb3IuZHJhZygpXG4gICAgICAub3JpZ2luKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdCA9IGQzLnNlbGVjdCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHt4OiB0LmF0dHIoJ3gnKSwgeTogdC5hdHRyKCd5Jyl9O1xuICAgICAgfSlcbiAgICAgIC5vbignZHJhZycsIGRyYWdtb3ZlTGVmdCk7XG5cbiAgICBjb25zdCBkcmFnUmlnaHQgPSBkMy5iZWhhdmlvci5kcmFnKClcbiAgICAgIC5vcmlnaW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ID0gZDMuc2VsZWN0KHRoaXMpO1xuICAgICAgICByZXR1cm4ge3g6IHQuYXR0cigneCcpLCB5OiB0LmF0dHIoJ3knKX07XG4gICAgICB9KVxuICAgICAgLm9uKCdkcmFnJywgZHJhZ21vdmVSaWdodCk7XG5cbiAgICBjb25zdCBkcmFnID0gZDMuYmVoYXZpb3IuZHJhZygpXG4gICAgICAub3JpZ2luKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdCA9IGQzLnNlbGVjdCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHt4OiB0LmF0dHIoJ3gnKSwgeTogdC5hdHRyKCd5Jyl9O1xuICAgICAgfSlcbiAgICAgIC5vbignZHJhZycsIGRyYWdtb3ZlKTtcblxuICAgIGNvbnN0IGJhcl9ib3JkZXIgPSAxO1xuICAgIGNvbnN0IGJhciA9IHRoaXMuY29udGFpbmVyLnNlbGVjdEFsbCgnLmxpbmUtZ3JwJylcbiAgICAgIC5kYXRhKHRoaXMudGltZWxpbmUudHdlZW5UaW1lLmRhdGEsIChkKSA9PiB7cmV0dXJuIGQuaWQ7fSk7XG5cbiAgICBjb25zdCBiYXJFbnRlciA9IGJhci5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnbGluZS1ncnAnKTtcblxuICAgIGNvbnN0IGJhckNvbnRhaW5lclJpZ2h0ID0gYmFyRW50ZXIuYXBwZW5kKCdzdmcnKVxuICAgICAgLmF0dHIoe1xuICAgICAgICBjbGFzczogJ3RpbWVsaW5lX19yaWdodC1tYXNrJyxcbiAgICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoIC0gc2VsZi50aW1lbGluZS5sYWJlbF9wb3NpdGlvbl94XG4gICAgICB9KTtcblxuICAgIGJhci5zZWxlY3QoJy50aW1lbGluZV9fcmlnaHQtbWFzaycpXG4gICAgICAuYXR0cih7XG4gICAgICAgIGRpc3BsYXk6ICgpID0+IHNlbGYudGltZWxpbmUuZWRpdG9yLmN1cnZlRWRpdEVuYWJsZWQgPyAnbm9uZScgOiAnYmxvY2snLFxuICAgICAgICBoZWlnaHQ6IChkKSA9PiAoZC5wcm9wZXJ0aWVzLmxlbmd0aCArIDEpICogc2VsZi50aW1lbGluZS5saW5lSGVpZ2h0XG4gICAgICB9KTtcblxuICAgIGJhckNvbnRhaW5lclJpZ2h0LmFwcGVuZCgncmVjdCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYmFyJylcbiAgICAgIC8vIEFkZCBhIHVuaXF1ZSBpZCBmb3IgU2VsZWN0aW9uTWFuYWdlci5yZW1vdmVEdXBsaWNhdGVzXG4gICAgICAuYXR0cignaWQnLCAoKSA9PiB7cmV0dXJuIFV0aWxzLmd1aWQoKTt9KVxuICAgICAgLmF0dHIoJ3knLCAzKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIDE0KTtcblxuICAgIGJhckNvbnRhaW5lclJpZ2h0LmFwcGVuZCgncmVjdCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYmFyLWFuY2hvciBiYXItYW5jaG9yLS1sZWZ0JylcbiAgICAgIC5hdHRyKCd5JywgMilcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCAxNilcbiAgICAgIC5hdHRyKCd3aWR0aCcsIDYpXG4gICAgICAuY2FsbChkcmFnTGVmdCk7XG5cbiAgICBiYXJDb250YWluZXJSaWdodC5hcHBlbmQoJ3JlY3QnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Jhci1hbmNob3IgYmFyLWFuY2hvci0tcmlnaHQnKVxuICAgICAgLmF0dHIoJ3knLCAyKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIDE2KVxuICAgICAgLmF0dHIoJ3dpZHRoJywgNilcbiAgICAgIC5jYWxsKGRyYWdSaWdodCk7XG5cbiAgICBzZWxmLmR5ID0gMTAgKyB0aGlzLnRpbWVsaW5lLm1hcmdpbi50b3A7XG4gICAgYmFyLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uKGQpIHtcbiAgICAgIHZhciB5ID0gc2VsZi5keTtcbiAgICAgIHNlbGYuZHkgKz0gc2VsZi50aW1lbGluZS5saW5lSGVpZ2h0O1xuICAgICAgaWYgKCFkLmNvbGxhcHNlZCkge1xuICAgICAgICB2YXIgbnVtUHJvcGVydGllcyA9IDA7XG4gICAgICAgIGlmIChkLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICBpZiAoZWRpdG9yLm9wdGlvbnMuc2hvd0VtcHR5UHJvcGVydGllcykge1xuICAgICAgICAgICAgdmFyIHZpc2libGVQcm9wZXJ0aWVzID0gZC5wcm9wZXJ0aWVzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdmlzaWJsZVByb3BlcnRpZXMgPSBfLmZpbHRlcihkLnByb3BlcnRpZXMsIGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHByb3Aua2V5cy5sZW5ndGg7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbnVtUHJvcGVydGllcyA9IHZpc2libGVQcm9wZXJ0aWVzLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmR5ICs9IG51bVByb3BlcnRpZXMgKiBzZWxmLnRpbWVsaW5lLmxpbmVIZWlnaHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgwLCcgKyB5ICsgJyknO1xuICAgIH0pO1xuXG4gICAgY29uc3QgYmFyV2l0aFN0YXJ0QW5kRW5kID0gZnVuY3Rpb24oZCkge1xuICAgICAgaWYgKGQuc3RhcnQgIT09IHVuZGVmaW5lZCAmJiBkLmVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICBiYXIuc2VsZWN0QWxsKCcuYmFyLWFuY2hvci0tbGVmdCcpXG4gICAgICAuZmlsdGVyKGJhcldpdGhTdGFydEFuZEVuZClcbiAgICAgIC5hdHRyKCd4JywgKGQpID0+IHtyZXR1cm4gc2VsZi50aW1lbGluZS54KGQuc3RhcnQgKiAxMDAwKSAtIDE7fSlcbiAgICAgIC5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIERvbid0IHRyaWdnZXIgbW91c2Vkb3duIG9uIGxpbmVzY29udGFpbmVyIGVsc2VcbiAgICAgICAgLy8gaXQgY3JlYXRlIHRoZSBzZWxlY3Rpb24gcmVjdGFuZ2xlXG4gICAgICAgIGQzLmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSk7XG5cbiAgICBiYXIuc2VsZWN0QWxsKCcuYmFyLWFuY2hvci0tcmlnaHQnKVxuICAgICAgLmZpbHRlcihiYXJXaXRoU3RhcnRBbmRFbmQpXG4gICAgICAuYXR0cigneCcsIChkKSA9PiB7cmV0dXJuIHNlbGYudGltZWxpbmUueChkLmVuZCAqIDEwMDApIC0gMTt9KVxuICAgICAgLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gRG9uJ3QgdHJpZ2dlciBtb3VzZWRvd24gb24gbGluZXNjb250YWluZXIgZWxzZVxuICAgICAgICAvLyBpdCBjcmVhdGUgdGhlIHNlbGVjdGlvbiByZWN0YW5nbGVcbiAgICAgICAgZDMuZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9KTtcblxuICAgIGJhci5zZWxlY3RBbGwoJy5iYXInKVxuICAgICAgLmZpbHRlcihiYXJXaXRoU3RhcnRBbmRFbmQpXG4gICAgICAuYXR0cigneCcsIChkKSA9PiB7cmV0dXJuIHNlbGYudGltZWxpbmUueChkLnN0YXJ0ICogMTAwMCkgKyBiYXJfYm9yZGVyO30pXG4gICAgICAuYXR0cignd2lkdGgnLCBmdW5jdGlvbihkKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCAoc2VsZi50aW1lbGluZS54KGQuZW5kKSAtIHNlbGYudGltZWxpbmUueChkLnN0YXJ0KSkgKiAxMDAwIC0gYmFyX2JvcmRlcik7XG4gICAgICB9KVxuICAgICAgLmNhbGwoZHJhZylcbiAgICAgIC5vbignY2xpY2snLCBzZWxlY3RCYXIpXG4gICAgICAub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBEb24ndCB0cmlnZ2VyIG1vdXNlZG93biBvbiBsaW5lc2NvbnRhaW5lciBlbHNlXG4gICAgICAgIC8vIGl0IGNyZWF0ZSB0aGUgc2VsZWN0aW9uIHJlY3RhbmdsZVxuICAgICAgICBkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pO1xuXG4gICAgYmFyRW50ZXIuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdsaW5lLWxhYmVsJylcbiAgICAgIC5hdHRyKCd4Jywgc2VsZi50aW1lbGluZS5sYWJlbF9wb3NpdGlvbl94ICsgMTApXG4gICAgICAuYXR0cigneScsIDE2KVxuICAgICAgLnRleHQoKGQpID0+IHtyZXR1cm4gZC5sYWJlbDt9KVxuICAgICAgLm9uKCdjbGljaycsIHNlbGVjdEJhcilcbiAgICAgIC5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIERvbid0IHRyaWdnZXIgbW91c2Vkb3duIG9uIGxpbmVzY29udGFpbmVyIGVsc2VcbiAgICAgICAgLy8gaXQgY3JlYXRlIHRoZSBzZWxlY3Rpb24gcmVjdGFuZ2xlXG4gICAgICAgIGQzLmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSk7XG5cbiAgICBiYXJFbnRlci5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmVfX3RvZ2dsZScpXG4gICAgICAuYXR0cigneCcsIHNlbGYudGltZWxpbmUubGFiZWxfcG9zaXRpb25feCAtIDEwKVxuICAgICAgLmF0dHIoJ3knLCAxNilcbiAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbihkKSB7XG4gICAgICAgIGQuY29sbGFwc2VkID0gIWQuY29sbGFwc2VkO1xuICAgICAgICBzZWxmLm9uVXBkYXRlLmRpc3BhdGNoKCk7XG4gICAgICB9KTtcblxuICAgIGJhci5zZWxlY3RBbGwoJy5saW5lX190b2dnbGUnKS50ZXh0KGZ1bmN0aW9uKGQpIHtcbiAgICAgIGlmIChkLmNvbGxhcHNlZCkge1xuICAgICAgICByZXR1cm4gJ+KWuCc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ+KWvic7XG4gICAgfSk7XG5cbiAgICBiYXJFbnRlci5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmUtc2VwYXJhdG9yJylcbiAgICAgIC5hdHRyKCd4MScsIC1zZWxmLnRpbWVsaW5lLm1hcmdpbi5sZWZ0KVxuICAgICAgLmF0dHIoJ3kxJywgc2VsZi50aW1lbGluZS5saW5lSGVpZ2h0KVxuICAgICAgLmF0dHIoJ3kyJywgc2VsZi50aW1lbGluZS5saW5lSGVpZ2h0KTtcblxuICAgIC8vIEhpZGUgcHJvcGVydHkgbGluZSBzZXBhcmF0b3IgaWYgY3VydmUgZWRpdG9yIGlzIGVuYWJsZWQuXG4gICAgYmFyLnNlbGVjdEFsbCgnLmxpbmUtc2VwYXJhdG9yJylcbiAgICAgIC5hdHRyKCd4MicsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoZWRpdG9yLmN1cnZlRWRpdEVuYWJsZWQpIHtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZi50aW1lbGluZS54KHNlbGYudGltZWxpbmUudGltZXIudG90YWxEdXJhdGlvbiArIDEwMCk7XG4gICAgICB9KTtcblxuICAgIGJhci5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICByZXR1cm4gYmFyO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ncmFwaC9JdGVtcy5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar d3 = __webpack_require__(15);\n\nvar KeysPreview = function () {\n  function KeysPreview(timeline, container) {\n    _classCallCheck(this, KeysPreview);\n\n    this.timeline = timeline;\n    this.container = container;\n  }\n\n  _createClass(KeysPreview, [{\n    key: 'render',\n    value: function render(bar) {\n      var self = this;\n\n      var propVal = function propVal(d) {\n        if (d.properties) {\n          return d.properties;\n        }\n\n        return [];\n      };\n      var propKey = function propKey(d) {\n        return d.name;\n      };\n\n      var properties = bar.select('.timeline__right-mask').selectAll('.keys-preview').data(propVal, propKey);\n\n      properties.enter().append('g').attr('class', 'keys-preview');\n\n      var setItemStyle = function setItemStyle(d) {\n        if (!d._property || !d._property._line) {\n          return 'display: none;';\n        }\n        var lineData = d._property._line;\n        if (lineData.collapsed === true) {\n          return '';\n        }\n        // Show only when item is collapsed\n        return 'display: none;';\n      };\n\n      properties.selectAll('.key--preview').attr('style', setItemStyle);\n\n      var keyValue = function keyValue(d) {\n        return d.keys;\n      };\n      var keyKey = function keyKey(d) {\n        return d.time;\n      };\n      var keys = properties.selectAll('.key--preview').data(keyValue, keyKey);\n\n      keys.enter().append('path').attr('class', 'key--preview').attr('style', setItemStyle).attr('d', 'M 0 -4 L 4 0 L 0 4 L -4 0');\n\n      keys.attr('transform', function (d) {\n        var dx = self.timeline.x(d.time * 1000);\n        dx = parseInt(dx, 10);\n        var dy = 11;\n        return 'translate(' + dx + ',' + dy + ')';\n      });\n\n      keys.exit().remove();\n    }\n  }]);\n\n  return KeysPreview;\n}();\n\nexports.default = KeysPreview;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9LZXlzUHJldmlldy5qcz9mYWM3Il0sIm5hbWVzIjpbImQzIiwicmVxdWlyZSIsIktleXNQcmV2aWV3IiwidGltZWxpbmUiLCJjb250YWluZXIiLCJiYXIiLCJzZWxmIiwicHJvcFZhbCIsImQiLCJwcm9wZXJ0aWVzIiwicHJvcEtleSIsIm5hbWUiLCJzZWxlY3QiLCJzZWxlY3RBbGwiLCJkYXRhIiwiZW50ZXIiLCJhcHBlbmQiLCJhdHRyIiwic2V0SXRlbVN0eWxlIiwiX3Byb3BlcnR5IiwiX2xpbmUiLCJsaW5lRGF0YSIsImNvbGxhcHNlZCIsImtleVZhbHVlIiwia2V5cyIsImtleUtleSIsInRpbWUiLCJkeCIsIngiLCJwYXJzZUludCIsImR5IiwiZXhpdCIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLElBQUlBLEtBQUssbUJBQUFDLENBQVEsRUFBUixDQUFUOztJQUVxQkMsVztBQUNuQix1QkFBWUMsUUFBWixFQUFzQkMsU0FBdEIsRUFBaUM7QUFBQTs7QUFDL0IsU0FBS0QsUUFBTCxHQUFnQkEsUUFBaEI7QUFDQSxTQUFLQyxTQUFMLEdBQWlCQSxTQUFqQjtBQUNEOzs7OzJCQUVNQyxHLEVBQUs7QUFDVixVQUFJQyxPQUFPLElBQVg7O0FBRUEsVUFBSUMsVUFBVSxTQUFWQSxPQUFVLENBQVNDLENBQVQsRUFBWTtBQUN4QixZQUFJQSxFQUFFQyxVQUFOLEVBQWtCO0FBQ2hCLGlCQUFPRCxFQUFFQyxVQUFUO0FBQ0Q7O0FBRUQsZUFBTyxFQUFQO0FBQ0QsT0FORDtBQU9BLFVBQUlDLFVBQVUsU0FBVkEsT0FBVSxDQUFTRixDQUFULEVBQVk7QUFDeEIsZUFBT0EsRUFBRUcsSUFBVDtBQUNELE9BRkQ7O0FBSUEsVUFBSUYsYUFBYUosSUFBSU8sTUFBSixDQUFXLHVCQUFYLEVBQW9DQyxTQUFwQyxDQUE4QyxlQUE5QyxFQUErREMsSUFBL0QsQ0FBb0VQLE9BQXBFLEVBQTZFRyxPQUE3RSxDQUFqQjs7QUFFQUQsaUJBQVdNLEtBQVgsR0FDR0MsTUFESCxDQUNVLEdBRFYsRUFFR0MsSUFGSCxDQUVRLE9BRlIsRUFFaUIsY0FGakI7O0FBSUEsVUFBSUMsZUFBZSxTQUFmQSxZQUFlLENBQVNWLENBQVQsRUFBWTtBQUM3QixZQUFJLENBQUNBLEVBQUVXLFNBQUgsSUFBZ0IsQ0FBQ1gsRUFBRVcsU0FBRixDQUFZQyxLQUFqQyxFQUF3QztBQUN0QyxpQkFBTyxnQkFBUDtBQUNEO0FBQ0QsWUFBTUMsV0FBV2IsRUFBRVcsU0FBRixDQUFZQyxLQUE3QjtBQUNBLFlBQUlDLFNBQVNDLFNBQVQsS0FBdUIsSUFBM0IsRUFBaUM7QUFDL0IsaUJBQU8sRUFBUDtBQUNEO0FBQ0Q7QUFDQSxlQUFPLGdCQUFQO0FBQ0QsT0FWRDs7QUFZQWIsaUJBQVdJLFNBQVgsQ0FBcUIsZUFBckIsRUFDR0ksSUFESCxDQUNRLE9BRFIsRUFDaUJDLFlBRGpCOztBQUdBLFVBQUlLLFdBQVcsU0FBWEEsUUFBVyxDQUFTZixDQUFULEVBQVk7QUFDekIsZUFBT0EsRUFBRWdCLElBQVQ7QUFDRCxPQUZEO0FBR0EsVUFBSUMsU0FBUyxTQUFUQSxNQUFTLENBQVNqQixDQUFULEVBQVk7QUFDdkIsZUFBT0EsRUFBRWtCLElBQVQ7QUFDRCxPQUZEO0FBR0EsVUFBSUYsT0FBT2YsV0FBV0ksU0FBWCxDQUFxQixlQUFyQixFQUFzQ0MsSUFBdEMsQ0FBMkNTLFFBQTNDLEVBQXFERSxNQUFyRCxDQUFYOztBQUVBRCxXQUFLVCxLQUFMLEdBQ0dDLE1BREgsQ0FDVSxNQURWLEVBRUdDLElBRkgsQ0FFUSxPQUZSLEVBRWlCLGNBRmpCLEVBR0dBLElBSEgsQ0FHUSxPQUhSLEVBR2lCQyxZQUhqQixFQUlHRCxJQUpILENBSVEsR0FKUixFQUlhLDJCQUpiOztBQU1BTyxXQUFLUCxJQUFMLENBQVUsV0FBVixFQUF1QixVQUFTVCxDQUFULEVBQVk7QUFDakMsWUFBSW1CLEtBQUtyQixLQUFLSCxRQUFMLENBQWN5QixDQUFkLENBQWdCcEIsRUFBRWtCLElBQUYsR0FBUyxJQUF6QixDQUFUO0FBQ0FDLGFBQUtFLFNBQVNGLEVBQVQsRUFBYSxFQUFiLENBQUw7QUFDQSxZQUFJRyxLQUFLLEVBQVQ7QUFDQSxlQUFPLGVBQWVILEVBQWYsR0FBb0IsR0FBcEIsR0FBMEJHLEVBQTFCLEdBQStCLEdBQXRDO0FBQ0QsT0FMRDs7QUFPQU4sV0FBS08sSUFBTCxHQUFZQyxNQUFaO0FBQ0Q7Ozs7OztrQkEvRGtCOUIsVyIsImZpbGUiOiIxOC5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBkMyA9IHJlcXVpcmUoJ2QzJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtleXNQcmV2aWV3IHtcbiAgY29uc3RydWN0b3IodGltZWxpbmUsIGNvbnRhaW5lcikge1xuICAgIHRoaXMudGltZWxpbmUgPSB0aW1lbGluZTtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgfVxuXG4gIHJlbmRlcihiYXIpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgcHJvcFZhbCA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgIGlmIChkLnByb3BlcnRpZXMpIHtcbiAgICAgICAgcmV0dXJuIGQucHJvcGVydGllcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtdO1xuICAgIH07XG4gICAgdmFyIHByb3BLZXkgPSBmdW5jdGlvbihkKSB7XG4gICAgICByZXR1cm4gZC5uYW1lO1xuICAgIH07XG5cbiAgICB2YXIgcHJvcGVydGllcyA9IGJhci5zZWxlY3QoJy50aW1lbGluZV9fcmlnaHQtbWFzaycpLnNlbGVjdEFsbCgnLmtleXMtcHJldmlldycpLmRhdGEocHJvcFZhbCwgcHJvcEtleSk7XG5cbiAgICBwcm9wZXJ0aWVzLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2tleXMtcHJldmlldycpO1xuXG4gICAgdmFyIHNldEl0ZW1TdHlsZSA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgIGlmICghZC5fcHJvcGVydHkgfHwgIWQuX3Byb3BlcnR5Ll9saW5lKSB7XG4gICAgICAgIHJldHVybiAnZGlzcGxheTogbm9uZTsnO1xuICAgICAgfVxuICAgICAgY29uc3QgbGluZURhdGEgPSBkLl9wcm9wZXJ0eS5fbGluZTtcbiAgICAgIGlmIChsaW5lRGF0YS5jb2xsYXBzZWQgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgLy8gU2hvdyBvbmx5IHdoZW4gaXRlbSBpcyBjb2xsYXBzZWRcbiAgICAgIHJldHVybiAnZGlzcGxheTogbm9uZTsnO1xuICAgIH07XG5cbiAgICBwcm9wZXJ0aWVzLnNlbGVjdEFsbCgnLmtleS0tcHJldmlldycpXG4gICAgICAuYXR0cignc3R5bGUnLCBzZXRJdGVtU3R5bGUpO1xuXG4gICAgdmFyIGtleVZhbHVlID0gZnVuY3Rpb24oZCkge1xuICAgICAgcmV0dXJuIGQua2V5cztcbiAgICB9O1xuICAgIHZhciBrZXlLZXkgPSBmdW5jdGlvbihkKSB7XG4gICAgICByZXR1cm4gZC50aW1lO1xuICAgIH07XG4gICAgdmFyIGtleXMgPSBwcm9wZXJ0aWVzLnNlbGVjdEFsbCgnLmtleS0tcHJldmlldycpLmRhdGEoa2V5VmFsdWUsIGtleUtleSk7XG5cbiAgICBrZXlzLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2tleS0tcHJldmlldycpXG4gICAgICAuYXR0cignc3R5bGUnLCBzZXRJdGVtU3R5bGUpXG4gICAgICAuYXR0cignZCcsICdNIDAgLTQgTCA0IDAgTCAwIDQgTCAtNCAwJyk7XG5cbiAgICBrZXlzLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uKGQpIHtcbiAgICAgIGxldCBkeCA9IHNlbGYudGltZWxpbmUueChkLnRpbWUgKiAxMDAwKTtcbiAgICAgIGR4ID0gcGFyc2VJbnQoZHgsIDEwKTtcbiAgICAgIGxldCBkeSA9IDExO1xuICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIGR4ICsgJywnICsgZHkgKyAnKSc7XG4gICAgfSk7XG5cbiAgICBrZXlzLmV4aXQoKS5yZW1vdmUoKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZ3JhcGgvS2V5c1ByZXZpZXcuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Utils = __webpack_require__(1);\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar d3 = __webpack_require__(15);\nvar Signals = __webpack_require__(6);\n\nvar Properties = function () {\n  function Properties(timeline) {\n    _classCallCheck(this, Properties);\n\n    this.timeline = timeline;\n    this.onKeyAdded = new Signals.Signal();\n    this.subGrp = false;\n  }\n\n  _createClass(Properties, [{\n    key: 'propertyVal',\n    value: function propertyVal(d) {\n      if (d.properties) {\n        if (this.timeline.editor.options.showEmptyProperties) {\n          return d.properties;\n        } else {\n          return d.properties.filter(function (prop) {\n            return prop.keys.length;\n          });\n        }\n      }\n      return [];\n    }\n  }, {\n    key: 'propertyKey',\n    value: function propertyKey(d) {\n      return d.name;\n    }\n  }, {\n    key: 'setSublineHeight',\n    value: function setSublineHeight(d, i) {\n      var sub_height = (i + 1) * this.timeline.lineHeight;\n      return 'translate(0,' + sub_height + ')';\n    }\n  }, {\n    key: 'render',\n    value: function render(bar) {\n      var _this = this;\n\n      var self = this;\n      var editor = this.timeline.editor;\n      var core = editor.tweenTime;\n\n      var properties = bar.selectAll('.line-item').data(function (d) {\n        return _this.propertyVal(d);\n      }, this.propertyKey);\n      var subGrp = properties.enter().append('g').attr('class', 'line-item');\n\n      // Save subGrp in a variable for use in Errors.coffee\n      self.subGrp = subGrp;\n\n      properties.attr('transform', function (d, i) {\n        return _this.setSublineHeight(d, i);\n      });\n\n      subGrp.append('rect').attr('class', 'click-handler click-handler--property').attr('x', 0).attr('y', 0).attr('width', self.timeline.x(self.timeline.timer.totalDuration + 100)).attr('height', self.timeline.lineHeight).on('dblclick', function (d) {\n        var lineValue = d._line;\n        var def = d.default ? d.default : 0;\n        var mouse = d3.mouse(this);\n        var dx = self.timeline.x.invert(mouse[0]);\n        dx = dx.getTime() / 1000;\n        var prevKey = _Utils2.default.getPreviousKey(d.keys, dx);\n        // set the value to match the previous key if we found one\n        if (prevKey) {\n          def = prevKey.val;\n        }\n        //d._line = lineValue;\n        var newKey = {\n          time: dx,\n          val: def,\n          _property: d\n        };\n        if (core.options.defaultEase) {\n          newKey.ease = core.options.defaultEase;\n        }\n\n        d.keys.push(newKey);\n        // Sort the keys for tweens creation\n        d.keys = _Utils2.default.sortKeys(d.keys);\n        lineValue._isDirty = true;\n\n        lineValue._isDirty = true;\n        self.onKeyAdded.dispatch(newKey);\n      });\n\n      // Mask\n      subGrp.append('svg').attr('class', 'line-item__keys timeline__right-mask').attr('width', window.innerWidth - self.timeline.label_position_x).attr('height', self.timeline.lineHeight);\n\n      this.renderPropertiesLabel(bar, properties);\n\n      subGrp.append('line').attr('class', 'line-separator--secondary').attr('x1', -self.timeline.margin.left).attr('y1', self.timeline.lineHeight).attr('y2', self.timeline.lineHeight);\n\n      // Hide property line separator if curve editor is enabled.\n      bar.selectAll('.line-separator--secondary').attr('x2', function () {\n        if (editor.curveEditEnabled) {\n          return 0;\n        }\n        return self.timeline.x(self.timeline.timer.totalDuration + 100);\n      });\n\n      bar.selectAll('.line-item').attr('display', function (property) {\n        if (!property._line.collapsed) {\n          return 'block';\n        }\n        return 'none';\n      });\n\n      // Hide click handler if curve editor mode.\n      bar.selectAll('.click-handler').attr('display', function () {\n        if (!editor.curveEditEnabled) {\n          return 'block';\n        }\n        return 'none';\n      });\n\n      properties.exit().remove();\n\n      return properties;\n    }\n  }, {\n    key: 'renderPropertiesLabel',\n    value: function renderPropertiesLabel(bar, subGrp) {\n      var _this2 = this;\n\n      subGrp.append('text').attr({\n        class: 'line-label line-label--sub line-label--small',\n        x: this.timeline.label_position_x + 10,\n        y: 15\n      }).text(function (d) {\n        return d.name;\n      }).on('click', function (d) {\n        _this2.timeline.selectionManager.select(d);\n      });\n    }\n  }]);\n\n  return Properties;\n}();\n\nexports.default = Properties;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9Qcm9wZXJ0aWVzLmpzP2E3MjciXSwibmFtZXMiOlsiZDMiLCJyZXF1aXJlIiwiU2lnbmFscyIsIlByb3BlcnRpZXMiLCJ0aW1lbGluZSIsIm9uS2V5QWRkZWQiLCJTaWduYWwiLCJzdWJHcnAiLCJkIiwicHJvcGVydGllcyIsImVkaXRvciIsIm9wdGlvbnMiLCJzaG93RW1wdHlQcm9wZXJ0aWVzIiwiZmlsdGVyIiwicHJvcCIsImtleXMiLCJsZW5ndGgiLCJuYW1lIiwiaSIsInN1Yl9oZWlnaHQiLCJsaW5lSGVpZ2h0IiwiYmFyIiwic2VsZiIsImNvcmUiLCJ0d2VlblRpbWUiLCJzZWxlY3RBbGwiLCJkYXRhIiwicHJvcGVydHlWYWwiLCJwcm9wZXJ0eUtleSIsImVudGVyIiwiYXBwZW5kIiwiYXR0ciIsInNldFN1YmxpbmVIZWlnaHQiLCJ4IiwidGltZXIiLCJ0b3RhbER1cmF0aW9uIiwib24iLCJsaW5lVmFsdWUiLCJfbGluZSIsImRlZiIsImRlZmF1bHQiLCJtb3VzZSIsImR4IiwiaW52ZXJ0IiwiZ2V0VGltZSIsInByZXZLZXkiLCJnZXRQcmV2aW91c0tleSIsInZhbCIsIm5ld0tleSIsInRpbWUiLCJfcHJvcGVydHkiLCJkZWZhdWx0RWFzZSIsImVhc2UiLCJwdXNoIiwic29ydEtleXMiLCJfaXNEaXJ0eSIsImRpc3BhdGNoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImxhYmVsX3Bvc2l0aW9uX3giLCJyZW5kZXJQcm9wZXJ0aWVzTGFiZWwiLCJtYXJnaW4iLCJsZWZ0IiwiY3VydmVFZGl0RW5hYmxlZCIsInByb3BlcnR5IiwiY29sbGFwc2VkIiwiZXhpdCIsInJlbW92ZSIsImNsYXNzIiwieSIsInRleHQiLCJzZWxlY3Rpb25NYW5hZ2VyIiwic2VsZWN0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUVBOzs7Ozs7OztBQUZBLElBQUlBLEtBQUssbUJBQUFDLENBQVEsRUFBUixDQUFUO0FBQ0EsSUFBSUMsVUFBVSxt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LENBQUQsRUFBTztBQUNsQixlQUFLSixRQUFMLENBQWNtRSxnQkFBZCxDQUErQkMsTUFBL0IsQ0FBc0NoRSxDQUF0QztBQUNELE9BVEg7QUFVRDs7Ozs7O2tCQXRJa0JMLFUiLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgZDMgPSByZXF1aXJlKCdkMycpO1xubGV0IFNpZ25hbHMgPSByZXF1aXJlKCdqcy1zaWduYWxzJyk7XG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vY29yZS9VdGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3BlcnRpZXMge1xuICBjb25zdHJ1Y3Rvcih0aW1lbGluZSkge1xuICAgIHRoaXMudGltZWxpbmUgPSB0aW1lbGluZTtcbiAgICB0aGlzLm9uS2V5QWRkZWQgPSBuZXcgU2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLnN1YkdycCA9IGZhbHNlO1xuICB9XG5cbiAgcHJvcGVydHlWYWwoZCkge1xuICAgIGlmIChkLnByb3BlcnRpZXMpIHtcbiAgICAgIGlmICh0aGlzLnRpbWVsaW5lLmVkaXRvci5vcHRpb25zLnNob3dFbXB0eVByb3BlcnRpZXMpIHtcbiAgICAgICAgcmV0dXJuIGQucHJvcGVydGllcztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZC5wcm9wZXJ0aWVzLmZpbHRlcigocHJvcCkgPT4ge3JldHVybiBwcm9wLmtleXMubGVuZ3RoO30pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH1cblxuICBwcm9wZXJ0eUtleShkKSB7XG4gICAgcmV0dXJuIGQubmFtZTtcbiAgfVxuXG4gIHNldFN1YmxpbmVIZWlnaHQoZCwgaSkge1xuICAgIGNvbnN0IHN1Yl9oZWlnaHQgPSAoaSArIDEpICogdGhpcy50aW1lbGluZS5saW5lSGVpZ2h0O1xuICAgIHJldHVybiAndHJhbnNsYXRlKDAsJyArIHN1Yl9oZWlnaHQgKyAnKSc7XG4gIH1cblxuICByZW5kZXIoYmFyKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBlZGl0b3IgPSB0aGlzLnRpbWVsaW5lLmVkaXRvcjtcbiAgICB2YXIgY29yZSA9IGVkaXRvci50d2VlblRpbWU7XG5cbiAgICB2YXIgcHJvcGVydGllcyA9IGJhci5zZWxlY3RBbGwoJy5saW5lLWl0ZW0nKS5kYXRhKChkKSA9PiB0aGlzLnByb3BlcnR5VmFsKGQpLCB0aGlzLnByb3BlcnR5S2V5KTtcbiAgICB2YXIgc3ViR3JwID0gcHJvcGVydGllcy5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdsaW5lLWl0ZW0nKTtcblxuICAgIC8vIFNhdmUgc3ViR3JwIGluIGEgdmFyaWFibGUgZm9yIHVzZSBpbiBFcnJvcnMuY29mZmVlXG4gICAgc2VsZi5zdWJHcnAgPSBzdWJHcnA7XG5cblxuICAgIHByb3BlcnRpZXMuYXR0cigndHJhbnNmb3JtJywgKGQsIGkpID0+IHRoaXMuc2V0U3VibGluZUhlaWdodChkLCBpKSk7XG5cbiAgICBzdWJHcnAuYXBwZW5kKCdyZWN0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdjbGljay1oYW5kbGVyIGNsaWNrLWhhbmRsZXItLXByb3BlcnR5JylcbiAgICAgIC5hdHRyKCd4JywgMClcbiAgICAgIC5hdHRyKCd5JywgMClcbiAgICAgIC5hdHRyKCd3aWR0aCcsIHNlbGYudGltZWxpbmUueChzZWxmLnRpbWVsaW5lLnRpbWVyLnRvdGFsRHVyYXRpb24gKyAxMDApKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIHNlbGYudGltZWxpbmUubGluZUhlaWdodClcbiAgICAgIC5vbignZGJsY2xpY2snLCBmdW5jdGlvbihkKSB7XG4gICAgICAgIGNvbnN0IGxpbmVWYWx1ZSA9IGQuX2xpbmU7XG4gICAgICAgIGxldCBkZWYgPSBkLmRlZmF1bHQgPyBkLmRlZmF1bHQgOiAwO1xuICAgICAgICBjb25zdCBtb3VzZSA9IGQzLm1vdXNlKHRoaXMpO1xuICAgICAgICBsZXQgZHggPSBzZWxmLnRpbWVsaW5lLnguaW52ZXJ0KG1vdXNlWzBdKTtcbiAgICAgICAgZHggPSBkeC5nZXRUaW1lKCkgLyAxMDAwO1xuICAgICAgICBjb25zdCBwcmV2S2V5ID0gVXRpbHMuZ2V0UHJldmlvdXNLZXkoZC5rZXlzLCBkeCk7XG4gICAgICAgIC8vIHNldCB0aGUgdmFsdWUgdG8gbWF0Y2ggdGhlIHByZXZpb3VzIGtleSBpZiB3ZSBmb3VuZCBvbmVcbiAgICAgICAgaWYgKHByZXZLZXkpIHtcbiAgICAgICAgICBkZWYgPSBwcmV2S2V5LnZhbDtcbiAgICAgICAgfVxuICAgICAgICAvL2QuX2xpbmUgPSBsaW5lVmFsdWU7XG4gICAgICAgIGNvbnN0IG5ld0tleSA9IHtcbiAgICAgICAgICB0aW1lOiBkeCxcbiAgICAgICAgICB2YWw6IGRlZixcbiAgICAgICAgICBfcHJvcGVydHk6IGRcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGNvcmUub3B0aW9ucy5kZWZhdWx0RWFzZSkge1xuICAgICAgICAgIG5ld0tleS5lYXNlID0gY29yZS5vcHRpb25zLmRlZmF1bHRFYXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZC5rZXlzLnB1c2gobmV3S2V5KTtcbiAgICAgICAgLy8gU29ydCB0aGUga2V5cyBmb3IgdHdlZW5zIGNyZWF0aW9uXG4gICAgICAgIGQua2V5cyA9IFV0aWxzLnNvcnRLZXlzKGQua2V5cyk7XG4gICAgICAgIGxpbmVWYWx1ZS5faXNEaXJ0eSA9IHRydWU7XG5cbiAgICAgICAgbGluZVZhbHVlLl9pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgc2VsZi5vbktleUFkZGVkLmRpc3BhdGNoKG5ld0tleSk7XG4gICAgICB9KTtcblxuICAgIC8vIE1hc2tcbiAgICBzdWJHcnAuYXBwZW5kKCdzdmcnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmUtaXRlbV9fa2V5cyB0aW1lbGluZV9fcmlnaHQtbWFzaycpXG4gICAgICAuYXR0cignd2lkdGgnLCB3aW5kb3cuaW5uZXJXaWR0aCAtIHNlbGYudGltZWxpbmUubGFiZWxfcG9zaXRpb25feClcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBzZWxmLnRpbWVsaW5lLmxpbmVIZWlnaHQpO1xuXG4gICAgdGhpcy5yZW5kZXJQcm9wZXJ0aWVzTGFiZWwoYmFyLCBwcm9wZXJ0aWVzKTtcblxuICAgIHN1YkdycC5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmUtc2VwYXJhdG9yLS1zZWNvbmRhcnknKVxuICAgICAgLmF0dHIoJ3gxJywgLXNlbGYudGltZWxpbmUubWFyZ2luLmxlZnQpXG4gICAgICAuYXR0cigneTEnLCBzZWxmLnRpbWVsaW5lLmxpbmVIZWlnaHQpXG4gICAgICAuYXR0cigneTInLCBzZWxmLnRpbWVsaW5lLmxpbmVIZWlnaHQpO1xuXG4gICAgLy8gSGlkZSBwcm9wZXJ0eSBsaW5lIHNlcGFyYXRvciBpZiBjdXJ2ZSBlZGl0b3IgaXMgZW5hYmxlZC5cbiAgICBiYXIuc2VsZWN0QWxsKCcubGluZS1zZXBhcmF0b3ItLXNlY29uZGFyeScpXG4gICAgICAuYXR0cigneDInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGVkaXRvci5jdXJ2ZUVkaXRFbmFibGVkKSB7XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGYudGltZWxpbmUueChzZWxmLnRpbWVsaW5lLnRpbWVyLnRvdGFsRHVyYXRpb24gKyAxMDApO1xuICAgICAgfSk7XG5cbiAgICBiYXIuc2VsZWN0QWxsKCcubGluZS1pdGVtJykuYXR0cignZGlzcGxheScsIGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICBpZiAoIXByb3BlcnR5Ll9saW5lLmNvbGxhcHNlZCkge1xuICAgICAgICByZXR1cm4gJ2Jsb2NrJztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnbm9uZSc7XG4gICAgfSk7XG5cbiAgICAvLyBIaWRlIGNsaWNrIGhhbmRsZXIgaWYgY3VydmUgZWRpdG9yIG1vZGUuXG4gICAgYmFyLnNlbGVjdEFsbCgnLmNsaWNrLWhhbmRsZXInKS5hdHRyKCdkaXNwbGF5JywgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIWVkaXRvci5jdXJ2ZUVkaXRFbmFibGVkKSB7XG4gICAgICAgIHJldHVybiAnYmxvY2snO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdub25lJztcbiAgICB9KTtcblxuICAgIHByb3BlcnRpZXMuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gIH1cblxuICByZW5kZXJQcm9wZXJ0aWVzTGFiZWwoYmFyLCBzdWJHcnApIHtcbiAgICBzdWJHcnAuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKHtcbiAgICAgICAgY2xhc3M6ICdsaW5lLWxhYmVsIGxpbmUtbGFiZWwtLXN1YiBsaW5lLWxhYmVsLS1zbWFsbCcsXG4gICAgICAgIHg6IHRoaXMudGltZWxpbmUubGFiZWxfcG9zaXRpb25feCArIDEwLFxuICAgICAgICB5OiAxNVxuICAgICAgfSlcbiAgICAgIC50ZXh0KChkKSA9PiBkLm5hbWUpXG4gICAgICAub24oJ2NsaWNrJywgKGQpID0+IHtcbiAgICAgICAgdGhpcy50aW1lbGluZS5zZWxlY3Rpb25NYW5hZ2VyLnNlbGVjdChkKTtcbiAgICAgIH0pO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ncmFwaC9Qcm9wZXJ0aWVzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Utils = __webpack_require__(1);\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar d3 = __webpack_require__(15);\nvar Signals = __webpack_require__(6);\n\n\nvar MAX_HEIGHT = 190;\n\nvar PropertyCurveEdit = function () {\n  function PropertyCurveEdit(timeline, container) {\n    _classCallCheck(this, PropertyCurveEdit);\n\n    this.timeline = timeline;\n    this.container = container;\n    this.dy = 10 + this.timeline.margin.top;\n    this.onCurveUpdated = new Signals.Signal();\n  }\n\n  _createClass(PropertyCurveEdit, [{\n    key: 'normalizeVal',\n    value: function normalizeVal(val, min, max, min2, max2) {\n      if (min === min2 && max === max2) {\n        return val;\n      }\n      var diff = max - min;\n      var diff2 = max2 - min2;\n      var t = (val - min) / diff;\n      return min2 + t * diff2;\n    }\n\n    // Get bezier point from easing (0 to 1) and previous and next point.\n\n  }, {\n    key: 'bezierPoint',\n    value: function bezierPoint(pt, prev, next) {\n      var x = this.normalizeVal(pt.x, 0, 1, prev.x, next.x);\n      var y = this.normalizeVal(pt.y, 0, 1, prev.y, next.y);\n      return { x: x, y: y };\n    }\n\n    // Transform an array of points to a SVG bezier path.\n\n  }, {\n    key: 'getPath',\n    value: function getPath(points) {\n      // Path first start by Move command (absolute);\n      var p = 'M ' + points[0].x + ' ' + points[0].y;\n      // Then it's C a.x a.y, b.x b.y, c.x x.y\n      points.forEach(function (pt, i) {\n        // Drop first one since already in 'M' command above.\n        if (i > 0) {\n          p += ', ';\n          if ((i - 1) % 3 === 0) {\n            p += 'C ';\n          }\n          if (isNaN(pt.x) || isNaN(pt.y)) {\n            return false;\n          }\n          p += pt.x + ' ' + pt.y;\n        }\n      });\n      return p;\n    }\n  }, {\n    key: 'processCurveValues',\n    value: function processCurveValues(d) {\n      var _this = this;\n\n      var invalid = false;\n      if (d.keys.length <= 1) {\n        d._curvePoints = [];\n        d._curvePointsBezier = [];\n        d._controlPoints = [];\n        return [{ points: [], name: d.name }];\n      }\n      // preprocess min and max for keys.\n      d._min = d3.min(d.keys, function (k) {\n        return k.val;\n      });\n      d._max = d3.max(d.keys, function (k) {\n        return k.val;\n      });\n\n      d._curvePoints = [];\n      // set raw points, without bezier control yet.\n      d.keys.forEach(function (key) {\n        var x = _this.timeline.x(key.time * 1000);\n        var y = _this.normalizeVal(key.val, d._min, d._max, 0, MAX_HEIGHT);\n        d._curvePoints.push({ x: x, y: y, ease: key.ease, id: 'curve1-' + key._id, _key: key });\n      });\n\n      // Control points, grouped by point + handle.\n      d._controlPoints = [];\n      // Add all points, with controls bezier. (p1, bezier1, bezier2, p2, ).\n      d._curvePointsBezier = [];\n      d._curvePoints.forEach(function (pt, i) {\n        var next = d._curvePoints[i + 1];\n        // If non number points return an empty path.\n        if (isNaN(pt.x) || isNaN(pt.y)) {\n          invalid = true;\n        }\n        d._curvePointsBezier.push({ x: pt.x, y: pt.y, ease: pt.ease, _key: pt._key });\n        if (next) {\n          var easing = _Utils2.default.getEasingPoints(next.ease);\n          var p1 = _this.bezierPoint({ x: easing[0], y: easing[1] }, pt, next);\n          var p2 = _this.bezierPoint({ x: easing[2], y: easing[3] }, pt, next);\n\n          // Save prev point for time calculation on drag move.\n          p1._next = next;\n          p2._next = next;\n          p1._prev = pt;\n          p2._prev = pt;\n          // The index of the handles in the easing.\n          p1._Xindex = 0;\n          p1._Yindex = 1;\n          p2._Xindex = 2;\n          p2._Yindex = 3;\n          d._curvePointsBezier.push(p1);\n          d._curvePointsBezier.push(p2);\n          // If non number points return an empty path.\n          if (isNaN(next.x) || isNaN(next.y) || isNaN(p1.x) || isNaN(p1.y) || isNaN(p2.x) || isNaN(p2.y)) {\n            invalid = true;\n          }\n          d._controlPoints.push({ point: pt, handle: p1, id: pt._key._id + '-a' });\n          d._controlPoints.push({ point: next, handle: p2, id: pt._key._id + '-b' });\n        }\n      });\n      var path = this.getPath(d._curvePointsBezier);\n      // If invalid path (non number points) return an empty path.\n      if (!path || invalid) {\n        d._curvePoints = [];\n        d._curvePointsBezier = [];\n        d._controlPoints = [];\n        return [{ points: [], name: d.name }];\n      }\n      return [{ points: d._curvePoints, path: path, name: d.name }];\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var self = this;\n      var tweenTime = self.timeline.tweenTime;\n\n      var bar = this.container.selectAll('.curve-grp').data(this.timeline.tweenTime.data, function (d) {\n        return d.id;\n      });\n\n      bar.enter().append('svg').attr('class', 'curve-grp timeline__right-mask');\n\n      // Show curves only if curve editor mode.\n      bar.attr('display', function (d) {\n        var selection = self.timeline.selectionManager.getSelection();\n\n        if (_this2.timeline.editor.curveEditEnabled) {\n          // Check if this item is in selection.\n          for (var i = 0; i < selection.length; i++) {\n            if (selection[i].id === d.id) {\n              return 'block';\n            }\n            // If we selected a property inside the item.\n            if (selection[i]._line && selection[i]._line.id === d.id) {\n              return 'block';\n            }\n          }\n        }\n        return 'none';\n      });\n\n      bar.exit().remove();\n\n      var propVal1 = function propVal1(d) {\n        return d.properties || [];\n      };\n      var propKey1 = function propKey1(d) {\n        return d.name;\n      };\n\n      var properties = bar.selectAll('.curves-preview').data(propVal1, propKey1).attr('display', function (d) {\n        var selection = self.timeline.selectionManager.getSelection();\n        for (var i = 0; i < selection.length; i++) {\n          var selectedItem = selection[i];\n          if (selectedItem.name && selectedItem.name === d.name) {\n            // Also check that it is from the same item.\n            if (selectedItem._line.id === d._line.id) {\n              return 'block';\n            }\n          }\n          // If we have selected the whole item show the curve too.\n          if (selectedItem.id && selectedItem.id === d._line.id) {\n            return 'block';\n          }\n        }\n        return 'none';\n      });\n\n      properties.enter().append('g').attr({\n        class: 'curves-preview',\n        transform: 'translate(0,10)',\n        width: window.innerWidth - self.timeline.label_position_x,\n        height: 300\n      });\n\n      properties.exit().remove();\n\n      var curveKey = function curveKey(d) {\n        return d.name;\n      };\n      var curves = properties.selectAll('.curve').data(function (d) {\n        return _this2.processCurveValues(d);\n      }, curveKey);\n\n      curves.enter().append('path').attr({\n        class: 'curve',\n        fill: 'none',\n        stroke: '#aaa'\n      });\n\n      curves.attr('d', function (d) {\n        return d.path;\n      });\n\n      curves.exit().remove();\n\n      var pointVal = function pointVal(d) {\n        return d._curvePoints || [];\n      };\n      var pointKey = function pointKey(d) {\n        return d.id;\n      };\n      var handleVal = function handleVal(d) {\n        return d._controlPoints || [];\n      };\n      var handleKey = function handleKey(d) {\n        return d.id;\n      };\n\n      var handle = properties.selectAll('.curve__handle').data(handleVal, handleKey);\n\n      var handleLine = properties.selectAll('.curve__handle-line').data(handleVal, handleKey);\n\n      var points = properties.selectAll('.curve__point').data(pointVal, pointKey);\n\n      // Handle line.\n      var dragHandleStart = function dragHandleStart(d) {\n        var event = d3.event;\n        // with dragstart event the mousevent is is inside the event.sourcEvent\n        if (event.sourceEvent) {\n          event = event.sourceEvent;\n        }\n\n        // Also keep a reference to the key dom element.\n        d._dom = this;\n      };\n\n      var dragHandleMove = function dragHandleMove(d) {\n        var sourceEvent = d3.event.sourceEvent;\n\n        var point = d.handle._next;\n        var prev = d.handle._prev;\n        var handle = d.handle;\n        var key = point._key;\n        var propertyData = prev._key._property;\n        var itemData = propertyData._line;\n\n        // Get ease array.\n        var ease = _Utils2.default.getEasingPoints(point.ease);\n        var timeBetweenPrevNext = key.time - prev._key.time;\n\n        var mouse = d3.mouse(this);\n        var old_time = key.time;\n        var dx = self.timeline.x.invert(mouse[0]);\n        dx = dx.getTime() / 1000;\n        dx = (dx - prev._key.time) / timeBetweenPrevNext;\n\n        // Get point A value top in px.\n        var valueApx = self.normalizeVal(prev._key.val, propertyData._min, propertyData._max, 0, MAX_HEIGHT);\n        // Same for B key value\n        var valueBpx = self.normalizeVal(point._key.val, propertyData._min, propertyData._max, 0, MAX_HEIGHT);\n\n        var dy = (mouse[1] - valueApx) / (valueBpx - valueApx);\n\n        // dx is restricted to 0 - 1.\n        dx = Math.min(1, Math.max(0, dx));\n\n        ease[handle._Xindex] = dx;\n        ease[handle._Yindex] = dy;\n        point._key.ease = ease;\n\n        propertyData._isDirty = true;\n        itemData._isDirty = true;\n        self.onCurveUpdated.dispatch();\n      };\n\n      var dragHandleEnd = function dragHandleEnd(d) {};\n\n      var dragHandle = d3.behavior.drag().origin(function (d) {\n        return d;\n      }).on('drag', dragHandleMove).on('dragstart', dragHandleStart).on('dragend', dragHandleEnd);\n\n      handleLine.enter().append('line').attr({\n        class: 'curve__handle-line',\n        fill: 'none'\n      });\n\n      handleLine.attr({\n        x1: function x1(d) {\n          return d.point.x;\n        },\n        y1: function y1(d) {\n          return d.point.y;\n        },\n        x2: function x2(d) {\n          return d.handle.x;\n        },\n        y2: function y2(d) {\n          return d.handle.y;\n        }\n      });\n\n      handleLine.exit().remove();\n\n      // The key point.\n      points.enter().append('circle').attr({\n        class: 'curve__point',\n        fill: '#fff',\n        r: 4\n      });\n\n      points.attr({\n        cx: function cx(d) {\n          return d.x;\n        },\n        cy: function cy(d) {\n          return d.y;\n        }\n      });\n\n      points.exit().remove();\n\n      // Handle point.\n      handle.enter().append('circle').attr({\n        class: 'curve__handle',\n        fill: '#aaa',\n        r: 4\n      }).on('mousedown', function () {\n        // Don't trigger mousedown on handler else\n        // it create the selection rectangle\n        d3.event.stopPropagation();\n      }).call(dragHandle);\n\n      handle.attr({\n        cx: function cx(d) {\n          return d.handle.x;\n        },\n        cy: function cy(d) {\n          return d.handle.y;\n        }\n      });\n\n      handle.exit().remove();\n    }\n  }]);\n\n  return PropertyCurveEdit;\n}();\n\nexports.default = PropertyCurveEdit;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9Qcm9wZXJ0eUN1cnZlRWRpdC5qcz8xOGQwIl0sIm5hbWVzIjpbImQzIiwicmVxdWlyZSIsIlNpZ25hbHMiLCJNQVhfSEVJR0hUIiwiUHJvcGVydHlDdXJ2ZUVkaXQiLCJ0aW1lbGluZSIsImNvbnRhaW5lciIsImR5IiwibWFyZ2luIiwidG9wIiwib25DdXJ2ZVVwZGF0ZWQiLCJTaWduYWwiLCJ2YWwiLCJtaW4iLCJtYXgiLCJtaW4yIiwibWF4MiIsImRpZmYiLCJkaWZmMiIsInQiLCJwdCIsInByZXYiLCJuZXh0IiwieCIsIm5vcm1hbGl6ZVZhbCIsInkiLCJwb2ludHMiLCJwIiwiZm9yRWFjaCIsImkiLCJpc05hTiIsImQiLCJpbnZhbGlkIiwia2V5cyIsImxlbmd0aCIsIl9jdXJ2ZVBvaW50cyIsIl9jdXJ2ZVBvaW50c0JlemllciIsIl9jb250cm9sUG9pbnRzIiwibmFtZSIsIl9taW4iLCJrIiwiX21heCIsImtleSIsInRpbWUiLCJwdXNoIiwiZWFzZSIsImlkIiwiX2lkIiwiX2tleSIsImVhc2luZyIsImdldEVhc2luZ1BvaW50cyIsInAxIiwiYmV6aWVyUG9pbnQiLCJwMiIsIl9uZXh0IiwiX3ByZXYiLCJfWGluZGV4IiwiX1lpbmRleCIsInBvaW50IiwiaGFuZGxlIiwicGF0aCIsImdldFBhdGgiLCJzZWxmIiwidHdlZW5UaW1lIiwiYmFyIiwic2VsZWN0QWxsIiwiZGF0YSIsImVudGVyIiwiYXBwZW5kIiwiYXR0ciIsInNlbGVjdGlvbiIsInNlbGVjdGlvbk1hbmFnZXIiLCJnZXRTZWxlY3Rpb24iLCJlZGl0b3IiLCJjdXJ2ZUVkaXRFbmFibGVkIiwiX2xpbmUiLCJleGl0IiwicmVtb3ZlIiwicHJvcFZhbDEiLCJwcm9wZXJ0aWVzIiwicHJvcEtleTEiLCJzZWxlY3RlZEl0ZW0iLCJjbGFzcyIsInRyYW5zZm9ybSIsIndpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImxhYmVsX3Bvc2l0aW9uX3giLCJoZWlnaHQiLCJjdXJ2ZUtleSIsImN1cnZlcyIsInByb2Nlc3NDdXJ2ZVZhbHVlcyIsImZpbGwiLCJzdHJva2UiLCJwb2ludFZhbCIsInBvaW50S2V5IiwiaGFuZGxlVmFsIiwiaGFuZGxlS2V5IiwiaGFuZGxlTGluZSIsImRyYWdIYW5kbGVTdGFydCIsImV2ZW50Iiwic291cmNlRXZlbnQiLCJfZG9tIiwiZHJhZ0hhbmRsZU1vdmUiLCJwcm9wZXJ0eURhdGEiLCJfcHJvcGVydHkiLCJpdGVtRGF0YSIsInRpbWVCZXR3ZWVuUHJldk5leHQiLCJtb3VzZSIsIm9sZF90aW1lIiwiZHgiLCJpbnZlcnQiLCJnZXRUaW1lIiwidmFsdWVBcHgiLCJ2YWx1ZUJweCIsIk1hdGgiLCJfaXNEaXJ0eSIsImRpc3BhdGNoIiwiZHJhZ0hhbmRsZUVuZCIsImRyYWdIYW5kbGUiLCJiZWhhdmlvciIsImRyYWciLCJvcmlnaW4iLCJvbiIsIngxIiwieTEiLCJ4MiIsInkyIiwiciIsImN4IiwiY3kiLCJzdG9wUHJvcGFnYXRpb24iLCJjYWxsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUVBOzs7Ozs7OztBQUZBLElBQUlBLEtBQUssbUJBQUFDLENBQVEsRUFBUixDQUFUO0FBQ0EsSUFBSUMsVUFBVSxtQkFBQUQsQ0FBUSxDQUFSLENBQWQ7OztBQUdBLElBQU1FLGFBQWEsR0FBbkI7O0lBRXFCQyxpQjtBQUNuQiw2QkFBWUMsUUFBWixFQUFzQkMsU0FBdEIsRUFBaUM7QUFBQTs7QUFDL0IsU0FBS0QsUUFBTCxHQUFnQkEsUUFBaEI7QUFDQSxTQUFLQyxTQUFMLEdBQWlCQSxTQUFqQjtBQUNBLFNBQUtDLEVBQUwsR0FBVSxLQUFLLEtBQUtGLFFBQUwsQ0FBY0csTUFBZCxDQUFxQkMsR0FBcEM7QUFDQSxTQUFLQyxjQUFMLEdBQXNCLElBQUlSLFFBQVFTLE1BQVosRUFBdEI7QUFDRDs7OztpQ0FFWUMsRyxFQUFLQyxHLEVBQUtDLEcsRUFBS0MsSSxFQUFNQyxJLEVBQU07QUFDdEMsVUFBSUgsUUFBUUUsSUFBUixJQUFnQkQsUUFBUUUsSUFBNUIsRUFBa0M7QUFDaEMsZUFBT0osR0FBUDtBQUNEO0FBQ0QsVUFBTUssT0FBT0gsTUFBTUQsR0FBbkI7QUFDQSxVQUFNSyxRQUFRRixPQUFPRCxJQUFyQjtBQUNBLFVBQU1JLElBQUksQ0FBQ1AsTUFBTUMsR0FBUCxJQUFjSSxJQUF4QjtBQUNBLGFBQU9GLE9BQU9JLElBQUlELEtBQWxCO0FBQ0Q7O0FBRUQ7Ozs7Z0NBQ1lFLEUsRUFBSUMsSSxFQUFNQyxJLEVBQU07QUFDMUIsVUFBTUMsSUFBSSxLQUFLQyxZQUFMLENBQWtCSixHQUFHRyxDQUFyQixFQUF3QixDQUF4QixFQUEyQixDQUEzQixFQUE4QkYsS0FBS0UsQ0FBbkMsRUFBc0NELEtBQUtDLENBQTNDLENBQVY7QUFDQSxVQUFNRSxJQUFJLEtBQUtELFlBQUwsQ0FBa0JKLEdBQUdLLENBQXJCLEVBQXdCLENBQXhCLEVBQTJCLENBQTNCLEVBQThCSixLQUFLSSxDQUFuQyxFQUFzQ0gsS0FBS0csQ0FBM0MsQ0FBVjtBQUNBLGFBQU8sRUFBQ0YsSUFBRCxFQUFJRSxJQUFKLEVBQVA7QUFDRDs7QUFFRDs7Ozs0QkFDUUMsTSxFQUFRO0FBQ2Q7QUFDQSxVQUFJQyxXQUFTRCxPQUFPLENBQVAsRUFBVUgsQ0FBbkIsU0FBd0JHLE9BQU8sQ0FBUCxFQUFVRCxDQUF0QztBQUNBO0FBQ0FDLGFBQU9FLE9BQVAsQ0FBZSxVQUFDUixFQUFELEVBQUtTLENBQUwsRUFBVztBQUN4QjtBQUNBLFlBQUlBLElBQUksQ0FBUixFQUFXO0FBQ1RGLGVBQUssSUFBTDtBQUNBLGNBQUksQ0FBQ0UsSUFBSSxDQUFMLElBQVUsQ0FBVixLQUFnQixDQUFwQixFQUF1QjtBQUNyQkYsaUJBQUssSUFBTDtBQUNEO0FBQ0QsY0FBSUcsTUFBTVYsR0FBR0csQ0FBVCxLQUFlTyxNQUFNVixHQUFHSyxDQUFULENBQW5CLEVBQWdDO0FBQzlCLG1CQUFPLEtBQVA7QUFDRDtBQUNERSxlQUFRUCxHQUFHRyxDQUFYLFNBQWdCSCxHQUFHSyxDQUFuQjtBQUNEO0FBQ0YsT0FaRDtBQWFBLGFBQU9FLENBQVA7QUFDRDs7O3VDQUVrQkksQyxFQUFHO0FBQUE7O0FBQ3BCLFVBQUlDLFVBQVUsS0FBZDtBQUNBLFVBQUlELEVBQUVFLElBQUYsQ0FBT0MsTUFBUCxJQUFpQixDQUFyQixFQUF3QjtBQUN0QkgsVUFBRUksWUFBRixHQUFpQixFQUFqQjtBQUNBSixVQUFFSyxrQkFBRixHQUF1QixFQUF2QjtBQUNBTCxVQUFFTSxjQUFGLEdBQW1CLEVBQW5CO0FBQ0EsZUFBTyxDQUFDLEVBQUNYLFFBQVEsRUFBVCxFQUFhWSxNQUFNUCxFQUFFTyxJQUFyQixFQUFELENBQVA7QUFDRDtBQUNEO0FBQ0FQLFFBQUVRLElBQUYsR0FBU3ZDLEdBQUdhLEdBQUgsQ0FBT2tCLEVBQUVFLElBQVQsRUFBZSxVQUFDTyxDQUFEO0FBQUEsZUFBT0EsRUFBRTVCLEdBQVQ7QUFBQSxPQUFmLENBQVQ7QUFDQW1CLFFBQUVVLElBQUYsR0FBU3pDLEdBQUdjLEdBQUgsQ0FBT2lCLEVBQUVFLElBQVQsRUFBZSxVQUFDTyxDQUFEO0FBQUEsZUFBT0EsRUFBRTVCLEdBQVQ7QUFBQSxPQUFmLENBQVQ7O0FBRUFtQixRQUFFSSxZQUFGLEdBQWlCLEVBQWpCO0FBQ0E7QUFDQUosUUFBRUUsSUFBRixDQUFPTCxPQUFQLENBQWUsVUFBQ2MsR0FBRCxFQUFTO0FBQ3RCLFlBQU1uQixJQUFJLE1BQUtsQixRQUFMLENBQWNrQixDQUFkLENBQWdCbUIsSUFBSUMsSUFBSixHQUFXLElBQTNCLENBQVY7QUFDQSxZQUFNbEIsSUFBSSxNQUFLRCxZQUFMLENBQWtCa0IsSUFBSTlCLEdBQXRCLEVBQTJCbUIsRUFBRVEsSUFBN0IsRUFBbUNSLEVBQUVVLElBQXJDLEVBQTJDLENBQTNDLEVBQThDdEMsVUFBOUMsQ0FBVjtBQUNBNEIsVUFBRUksWUFBRixDQUFlUyxJQUFmLENBQW9CLEVBQUNyQixJQUFELEVBQUlFLElBQUosRUFBT29CLE1BQU1ILElBQUlHLElBQWpCLEVBQXVCQyxnQkFBY0osSUFBSUssR0FBekMsRUFBZ0RDLE1BQU1OLEdBQXRELEVBQXBCO0FBQ0QsT0FKRDs7QUFNQTtBQUNBWCxRQUFFTSxjQUFGLEdBQW1CLEVBQW5CO0FBQ0E7QUFDQU4sUUFBRUssa0JBQUYsR0FBdUIsRUFBdkI7QUFDQUwsUUFBRUksWUFBRixDQUFlUCxPQUFmLENBQXVCLFVBQUNSLEVBQUQsRUFBS1MsQ0FBTCxFQUFXO0FBQ2hDLFlBQU1QLE9BQU9TLEVBQUVJLFlBQUYsQ0FBZU4sSUFBSSxDQUFuQixDQUFiO0FBQ0E7QUFDQSxZQUFJQyxNQUFNVixHQUFHRyxDQUFULEtBQWVPLE1BQU1WLEdBQUdLLENBQVQsQ0FBbkIsRUFBZ0M7QUFDOUJPLG9CQUFVLElBQVY7QUFDRDtBQUNERCxVQUFFSyxrQkFBRixDQUFxQlEsSUFBckIsQ0FBMEIsRUFBQ3JCLEdBQUdILEdBQUdHLENBQVAsRUFBVUUsR0FBR0wsR0FBR0ssQ0FBaEIsRUFBbUJvQixNQUFNekIsR0FBR3lCLElBQTVCLEVBQWtDRyxNQUFNNUIsR0FBRzRCLElBQTNDLEVBQTFCO0FBQ0EsWUFBSTFCLElBQUosRUFBVTtBQUNSLGNBQU0yQixTQUFTLGdCQUFNQyxlQUFOLENBQXNCNUIsS0FBS3VCLElBQTNCLENBQWY7QUFDQSxjQUFNTSxLQUFLLE1BQUtDLFdBQUwsQ0FBaUIsRUFBQzdCLEdBQUcwQixPQUFPLENBQVAsQ0FBSixFQUFleEIsR0FBR3dCLE9BQU8sQ0FBUCxDQUFsQixFQUFqQixFQUErQzdCLEVBQS9DLEVBQW1ERSxJQUFuRCxDQUFYO0FBQ0EsY0FBTStCLEtBQUssTUFBS0QsV0FBTCxDQUFpQixFQUFDN0IsR0FBRzBCLE9BQU8sQ0FBUCxDQUFKLEVBQWV4QixHQUFHd0IsT0FBTyxDQUFQLENBQWxCLEVBQWpCLEVBQStDN0IsRUFBL0MsRUFBbURFLElBQW5ELENBQVg7O0FBRUE7QUFDQTZCLGFBQUdHLEtBQUgsR0FBV2hDLElBQVg7QUFDQStCLGFBQUdDLEtBQUgsR0FBV2hDLElBQVg7QUFDQTZCLGFBQUdJLEtBQUgsR0FBV25DLEVBQVg7QUFDQWlDLGFBQUdFLEtBQUgsR0FBV25DLEVBQVg7QUFDQTtBQUNBK0IsYUFBR0ssT0FBSCxHQUFhLENBQWI7QUFDQUwsYUFBR00sT0FBSCxHQUFhLENBQWI7QUFDQUosYUFBR0csT0FBSCxHQUFhLENBQWI7QUFDQUgsYUFBR0ksT0FBSCxHQUFhLENBQWI7QUFDQTFCLFlBQUVLLGtCQUFGLENBQXFCUSxJQUFyQixDQUEwQk8sRUFBMUI7QUFDQXBCLFlBQUVLLGtCQUFGLENBQXFCUSxJQUFyQixDQUEwQlMsRUFBMUI7QUFDQTtBQUNBLGNBQUl2QixNQUFNUixLQUFLQyxDQUFYLEtBQWlCTyxNQUFNUixLQUFLRyxDQUFYLENBQWpCLElBQ0FLLE1BQU1xQixHQUFHNUIsQ0FBVCxDQURBLElBQ2VPLE1BQU1xQixHQUFHMUIsQ0FBVCxDQURmLElBRUFLLE1BQU11QixHQUFHOUIsQ0FBVCxDQUZBLElBRWVPLE1BQU11QixHQUFHNUIsQ0FBVCxDQUZuQixFQUVnQztBQUM5Qk8sc0JBQVUsSUFBVjtBQUNEO0FBQ0RELFlBQUVNLGNBQUYsQ0FBaUJPLElBQWpCLENBQXNCLEVBQUNjLE9BQU90QyxFQUFSLEVBQVl1QyxRQUFRUixFQUFwQixFQUF3QkwsSUFBTzFCLEdBQUc0QixJQUFILENBQVFELEdBQWYsT0FBeEIsRUFBdEI7QUFDQWhCLFlBQUVNLGNBQUYsQ0FBaUJPLElBQWpCLENBQXNCLEVBQUNjLE9BQU9wQyxJQUFSLEVBQWNxQyxRQUFRTixFQUF0QixFQUEwQlAsSUFBTzFCLEdBQUc0QixJQUFILENBQVFELEdBQWYsT0FBMUIsRUFBdEI7QUFDRDtBQUNGLE9BakNEO0FBa0NBLFVBQU1hLE9BQU8sS0FBS0MsT0FBTCxDQUFhOUIsRUFBRUssa0JBQWYsQ0FBYjtBQUNBO0FBQ0EsVUFBSSxDQUFDd0IsSUFBRCxJQUFTNUIsT0FBYixFQUFzQjtBQUNwQkQsVUFBRUksWUFBRixHQUFpQixFQUFqQjtBQUNBSixVQUFFSyxrQkFBRixHQUF1QixFQUF2QjtBQUNBTCxVQUFFTSxjQUFGLEdBQW1CLEVBQW5CO0FBQ0EsZUFBTyxDQUFDLEVBQUNYLFFBQVEsRUFBVCxFQUFhWSxNQUFNUCxFQUFFTyxJQUFyQixFQUFELENBQVA7QUFDRDtBQUNELGFBQU8sQ0FBQyxFQUFDWixRQUFRSyxFQUFFSSxZQUFYLEVBQXlCeUIsVUFBekIsRUFBK0J0QixNQUFNUCxFQUFFTyxJQUF2QyxFQUFELENBQVA7QUFDRDs7OzZCQUVRO0FBQUE7O0FBQ1AsVUFBTXdCLE9BQU8sSUFBYjtBQUNBLFVBQU1DLFlBQVlELEtBQUt6RCxRQUFMLENBQWMwRCxTQUFoQzs7QUFFQSxVQUFNQyxNQUFNLEtBQUsxRCxTQUFMLENBQWUyRCxTQUFmLENBQXlCLFlBQXpCLEVBQ1RDLElBRFMsQ0FDSixLQUFLN0QsUUFBTCxDQUFjMEQsU0FBZCxDQUF3QkcsSUFEcEIsRUFDMEIsVUFBQ25DLENBQUQ7QUFBQSxlQUFPQSxFQUFFZSxFQUFUO0FBQUEsT0FEMUIsQ0FBWjs7QUFHQWtCLFVBQUlHLEtBQUosR0FDR0MsTUFESCxDQUNVLEtBRFYsRUFDaUJDLElBRGpCLENBQ3NCLE9BRHRCLEVBQytCLGdDQUQvQjs7QUFHQTtBQUNBTCxVQUFJSyxJQUFKLENBQVMsU0FBVCxFQUFvQixVQUFDdEMsQ0FBRCxFQUFPO0FBQ3pCLFlBQU11QyxZQUFZUixLQUFLekQsUUFBTCxDQUFja0UsZ0JBQWQsQ0FBK0JDLFlBQS9CLEVBQWxCOztBQUVBLFlBQUksT0FBS25FLFFBQUwsQ0FBY29FLE1BQWQsQ0FBcUJDLGdCQUF6QixFQUEyQztBQUN6QztBQUNBLGVBQUssSUFBSTdDLElBQUksQ0FBYixFQUFnQkEsSUFBSXlDLFVBQVVwQyxNQUE5QixFQUFzQ0wsR0FBdEMsRUFBMkM7QUFDekMsZ0JBQUl5QyxVQUFVekMsQ0FBVixFQUFhaUIsRUFBYixLQUFvQmYsRUFBRWUsRUFBMUIsRUFBOEI7QUFDNUIscUJBQU8sT0FBUDtBQUNEO0FBQ0Q7QUFDQSxnQkFBSXdCLFVBQVV6QyxDQUFWLEVBQWE4QyxLQUFiLElBQXNCTCxVQUFVekMsQ0FBVixFQUFhOEMsS0FBYixDQUFtQjdCLEVBQW5CLEtBQTBCZixFQUFFZSxFQUF0RCxFQUEwRDtBQUN4RCxxQkFBTyxPQUFQO0FBQ0Q7QUFDRjtBQUNGO0FBQ0QsZUFBTyxNQUFQO0FBQ0QsT0FoQkQ7O0FBa0JBa0IsVUFBSVksSUFBSixHQUFXQyxNQUFYOztBQUVBLFVBQU1DLFdBQVcsU0FBWEEsUUFBVyxDQUFDL0MsQ0FBRDtBQUFBLGVBQU9BLEVBQUVnRCxVQUFGLElBQWdCLEVBQXZCO0FBQUEsT0FBakI7QUFDQSxVQUFNQyxXQUFXLFNBQVhBLFFBQVcsQ0FBQ2pELENBQUQ7QUFBQSxlQUFPQSxFQUFFTyxJQUFUO0FBQUEsT0FBakI7O0FBRUEsVUFBTXlDLGFBQWFmLElBQUlDLFNBQUosQ0FBYyxpQkFBZCxFQUNoQkMsSUFEZ0IsQ0FDWFksUUFEVyxFQUNERSxRQURDLEVBRWhCWCxJQUZnQixDQUVYLFNBRlcsRUFFQSxVQUFDdEMsQ0FBRCxFQUFPO0FBQ3RCLFlBQU11QyxZQUFZUixLQUFLekQsUUFBTCxDQUFja0UsZ0JBQWQsQ0FBK0JDLFlBQS9CLEVBQWxCO0FBQ0EsYUFBSyxJQUFJM0MsSUFBSSxDQUFiLEVBQWdCQSxJQUFJeUMsVUFBVXBDLE1BQTlCLEVBQXNDTCxHQUF0QyxFQUEyQztBQUN6QyxjQUFNb0QsZUFBZVgsVUFBVXpDLENBQVYsQ0FBckI7QUFDQSxjQUFJb0QsYUFBYTNDLElBQWIsSUFBcUIyQyxhQUFhM0MsSUFBYixLQUFzQlAsRUFBRU8sSUFBakQsRUFBdUQ7QUFDckQ7QUFDQSxnQkFBSTJDLGFBQWFOLEtBQWIsQ0FBbUI3QixFQUFuQixLQUEwQmYsRUFBRTRDLEtBQUYsQ0FBUTdCLEVBQXRDLEVBQTBDO0FBQ3hDLHFCQUFPLE9BQVA7QUFDRDtBQUNGO0FBQ0Q7QUFDQSxjQUFJbUMsYUFBYW5DLEVBQWIsSUFBbUJtQyxhQUFhbkMsRUFBYixLQUFvQmYsRUFBRTRDLEtBQUYsQ0FBUTdCLEVBQW5ELEVBQXVEO0FBQ3JELG1CQUFPLE9BQVA7QUFDRDtBQUNGO0FBQ0QsZUFBTyxNQUFQO0FBQ0QsT0FsQmdCLENBQW5COztBQW9CQWlDLGlCQUFXWixLQUFYLEdBQ0dDLE1BREgsQ0FDVSxHQURWLEVBRUdDLElBRkgsQ0FFUTtBQUNKYSxlQUFPLGdCQURIO0FBRUpDLG1CQUFXLGlCQUZQO0FBR0pDLGVBQU9DLE9BQU9DLFVBQVAsR0FBb0J4QixLQUFLekQsUUFBTCxDQUFja0YsZ0JBSHJDO0FBSUpDLGdCQUFRO0FBSkosT0FGUjs7QUFTQVQsaUJBQVdILElBQVgsR0FBa0JDLE1BQWxCOztBQUVBLFVBQU1ZLFdBQVcsU0FBWEEsUUFBVyxDQUFDMUQsQ0FBRDtBQUFBLGVBQU9BLEVBQUVPLElBQVQ7QUFBQSxPQUFqQjtBQUNBLFVBQUlvRCxTQUFTWCxXQUFXZCxTQUFYLENBQXFCLFFBQXJCLEVBQ1ZDLElBRFUsQ0FDTCxVQUFDbkMsQ0FBRDtBQUFBLGVBQU8sT0FBSzRELGtCQUFMLENBQXdCNUQsQ0FBeEIsQ0FBUDtBQUFBLE9BREssRUFDOEIwRCxRQUQ5QixDQUFiOztBQUdBQyxhQUFPdkIsS0FBUCxHQUNHQyxNQURILENBQ1UsTUFEVixFQUVHQyxJQUZILENBRVE7QUFDSmEsZUFBTyxPQURIO0FBRUpVLGNBQU0sTUFGRjtBQUdKQyxnQkFBUTtBQUhKLE9BRlI7O0FBUUFILGFBQU9yQixJQUFQLENBQVksR0FBWixFQUFpQixVQUFDdEMsQ0FBRDtBQUFBLGVBQU9BLEVBQUU2QixJQUFUO0FBQUEsT0FBakI7O0FBRUE4QixhQUFPZCxJQUFQLEdBQWNDLE1BQWQ7O0FBRUEsVUFBTWlCLFdBQVcsU0FBWEEsUUFBVyxDQUFDL0QsQ0FBRDtBQUFBLGVBQU9BLEVBQUVJLFlBQUYsSUFBa0IsRUFBekI7QUFBQSxPQUFqQjtBQUNBLFVBQU00RCxXQUFXLFNBQVhBLFFBQVcsQ0FBQ2hFLENBQUQ7QUFBQSxlQUFPQSxFQUFFZSxFQUFUO0FBQUEsT0FBakI7QUFDQSxVQUFNa0QsWUFBWSxTQUFaQSxTQUFZLENBQUNqRSxDQUFEO0FBQUEsZUFBT0EsRUFBRU0sY0FBRixJQUFvQixFQUEzQjtBQUFBLE9BQWxCO0FBQ0EsVUFBTTRELFlBQVksU0FBWkEsU0FBWSxDQUFDbEUsQ0FBRDtBQUFBLGVBQU9BLEVBQUVlLEVBQVQ7QUFBQSxPQUFsQjs7QUFFQSxVQUFNYSxTQUFTb0IsV0FBV2QsU0FBWCxDQUFxQixnQkFBckIsRUFDWkMsSUFEWSxDQUNQOEIsU0FETyxFQUNJQyxTQURKLENBQWY7O0FBR0EsVUFBTUMsYUFBYW5CLFdBQVdkLFNBQVgsQ0FBcUIscUJBQXJCLEVBQ2hCQyxJQURnQixDQUNYOEIsU0FEVyxFQUNBQyxTQURBLENBQW5COztBQUdBLFVBQU12RSxTQUFTcUQsV0FBV2QsU0FBWCxDQUFxQixlQUFyQixFQUNaQyxJQURZLENBQ1A0QixRQURPLEVBQ0dDLFFBREgsQ0FBZjs7QUFHQTtBQUNBLFVBQU1JLGtCQUFrQixTQUFsQkEsZUFBa0IsQ0FBU3BFLENBQVQsRUFBWTtBQUNsQyxZQUFJcUUsUUFBUXBHLEdBQUdvRyxLQUFmO0FBQ0E7QUFDQSxZQUFJQSxNQUFNQyxXQUFWLEVBQXVCO0FBQ3JCRCxrQkFBUUEsTUFBTUMsV0FBZDtBQUNEOztBQUVEO0FBQ0F0RSxVQUFFdUUsSUFBRixHQUFTLElBQVQ7QUFDRCxPQVREOztBQVdBLFVBQU1DLGlCQUFpQixTQUFqQkEsY0FBaUIsQ0FBU3hFLENBQVQsRUFBWTtBQUNqQyxZQUFJc0UsY0FBY3JHLEdBQUdvRyxLQUFILENBQVNDLFdBQTNCOztBQUVBLFlBQU0zQyxRQUFRM0IsRUFBRTRCLE1BQUYsQ0FBU0wsS0FBdkI7QUFDQSxZQUFNakMsT0FBT1UsRUFBRTRCLE1BQUYsQ0FBU0osS0FBdEI7QUFDQSxZQUFNSSxTQUFTNUIsRUFBRTRCLE1BQWpCO0FBQ0EsWUFBTWpCLE1BQU1nQixNQUFNVixJQUFsQjtBQUNBLFlBQU13RCxlQUFlbkYsS0FBSzJCLElBQUwsQ0FBVXlELFNBQS9CO0FBQ0EsWUFBTUMsV0FBV0YsYUFBYTdCLEtBQTlCOztBQUVBO0FBQ0EsWUFBTTlCLE9BQU8sZ0JBQU1LLGVBQU4sQ0FBc0JRLE1BQU1iLElBQTVCLENBQWI7QUFDQSxZQUFNOEQsc0JBQXNCakUsSUFBSUMsSUFBSixHQUFXdEIsS0FBSzJCLElBQUwsQ0FBVUwsSUFBakQ7O0FBRUEsWUFBTWlFLFFBQVE1RyxHQUFHNEcsS0FBSCxDQUFTLElBQVQsQ0FBZDtBQUNBLFlBQU1DLFdBQVduRSxJQUFJQyxJQUFyQjtBQUNBLFlBQUltRSxLQUFLaEQsS0FBS3pELFFBQUwsQ0FBY2tCLENBQWQsQ0FBZ0J3RixNQUFoQixDQUF1QkgsTUFBTSxDQUFOLENBQXZCLENBQVQ7QUFDQUUsYUFBS0EsR0FBR0UsT0FBSCxLQUFlLElBQXBCO0FBQ0FGLGFBQUssQ0FBQ0EsS0FBS3pGLEtBQUsyQixJQUFMLENBQVVMLElBQWhCLElBQXdCZ0UsbUJBQTdCOztBQUdBO0FBQ0EsWUFBTU0sV0FBV25ELEtBQUt0QyxZQUFMLENBQWtCSCxLQUFLMkIsSUFBTCxDQUFVcEMsR0FBNUIsRUFBaUM0RixhQUFhakUsSUFBOUMsRUFBb0RpRSxhQUFhL0QsSUFBakUsRUFBdUUsQ0FBdkUsRUFBMEV0QyxVQUExRSxDQUFqQjtBQUNBO0FBQ0EsWUFBTStHLFdBQVdwRCxLQUFLdEMsWUFBTCxDQUFrQmtDLE1BQU1WLElBQU4sQ0FBV3BDLEdBQTdCLEVBQWtDNEYsYUFBYWpFLElBQS9DLEVBQXFEaUUsYUFBYS9ELElBQWxFLEVBQXdFLENBQXhFLEVBQTJFdEMsVUFBM0UsQ0FBakI7O0FBRUEsWUFBSUksS0FBSyxDQUFDcUcsTUFBTSxDQUFOLElBQVdLLFFBQVosS0FBeUJDLFdBQVdELFFBQXBDLENBQVQ7O0FBRUE7QUFDQUgsYUFBS0ssS0FBS3RHLEdBQUwsQ0FBUyxDQUFULEVBQVlzRyxLQUFLckcsR0FBTCxDQUFTLENBQVQsRUFBWWdHLEVBQVosQ0FBWixDQUFMOztBQUVBakUsYUFBS2MsT0FBT0gsT0FBWixJQUF1QnNELEVBQXZCO0FBQ0FqRSxhQUFLYyxPQUFPRixPQUFaLElBQXVCbEQsRUFBdkI7QUFDQW1ELGNBQU1WLElBQU4sQ0FBV0gsSUFBWCxHQUFrQkEsSUFBbEI7O0FBRUEyRCxxQkFBYVksUUFBYixHQUF3QixJQUF4QjtBQUNBVixpQkFBU1UsUUFBVCxHQUFvQixJQUFwQjtBQUNBdEQsYUFBS3BELGNBQUwsQ0FBb0IyRyxRQUFwQjtBQUNELE9BdENEOztBQXdDQSxVQUFNQyxnQkFBZ0IsU0FBaEJBLGFBQWdCLENBQUN2RixDQUFELEVBQU8sQ0FFNUIsQ0FGRDs7QUFJQSxVQUFNd0YsYUFBYXZILEdBQUd3SCxRQUFILENBQVlDLElBQVosR0FDaEJDLE1BRGdCLENBQ1QsVUFBQzNGLENBQUQsRUFBTztBQUFDLGVBQU9BLENBQVA7QUFBVSxPQURULEVBRWhCNEYsRUFGZ0IsQ0FFYixNQUZhLEVBRUxwQixjQUZLLEVBR2hCb0IsRUFIZ0IsQ0FHYixXQUhhLEVBR0F4QixlQUhBLEVBSWhCd0IsRUFKZ0IsQ0FJYixTQUphLEVBSUZMLGFBSkUsQ0FBbkI7O0FBTUFwQixpQkFBVy9CLEtBQVgsR0FDR0MsTUFESCxDQUNVLE1BRFYsRUFFR0MsSUFGSCxDQUVRO0FBQ0phLGVBQU8sb0JBREg7QUFFSlUsY0FBTTtBQUZGLE9BRlI7O0FBT0FNLGlCQUFXN0IsSUFBWCxDQUFnQjtBQUNkdUQsWUFBSSxZQUFDN0YsQ0FBRDtBQUFBLGlCQUFPQSxFQUFFMkIsS0FBRixDQUFRbkMsQ0FBZjtBQUFBLFNBRFU7QUFFZHNHLFlBQUksWUFBQzlGLENBQUQ7QUFBQSxpQkFBT0EsRUFBRTJCLEtBQUYsQ0FBUWpDLENBQWY7QUFBQSxTQUZVO0FBR2RxRyxZQUFJLFlBQUMvRixDQUFEO0FBQUEsaUJBQU9BLEVBQUU0QixNQUFGLENBQVNwQyxDQUFoQjtBQUFBLFNBSFU7QUFJZHdHLFlBQUksWUFBQ2hHLENBQUQ7QUFBQSxpQkFBT0EsRUFBRTRCLE1BQUYsQ0FBU2xDLENBQWhCO0FBQUE7QUFKVSxPQUFoQjs7QUFPQXlFLGlCQUFXdEIsSUFBWCxHQUFrQkMsTUFBbEI7O0FBRUE7QUFDQW5ELGFBQU95QyxLQUFQLEdBQ0dDLE1BREgsQ0FDVSxRQURWLEVBRUdDLElBRkgsQ0FFUTtBQUNKYSxlQUFPLGNBREg7QUFFSlUsY0FBTSxNQUZGO0FBR0pvQyxXQUFHO0FBSEMsT0FGUjs7QUFRQXRHLGFBQU8yQyxJQUFQLENBQVk7QUFDVjRELFlBQUksWUFBQ2xHLENBQUQ7QUFBQSxpQkFBT0EsRUFBRVIsQ0FBVDtBQUFBLFNBRE07QUFFVjJHLFlBQUksWUFBQ25HLENBQUQ7QUFBQSxpQkFBT0EsRUFBRU4sQ0FBVDtBQUFBO0FBRk0sT0FBWjs7QUFLQUMsYUFBT2tELElBQVAsR0FBY0MsTUFBZDs7QUFFQTtBQUNBbEIsYUFBT1EsS0FBUCxHQUNHQyxNQURILENBQ1UsUUFEVixFQUVHQyxJQUZILENBRVE7QUFDSmEsZUFBTyxlQURIO0FBRUpVLGNBQU0sTUFGRjtBQUdKb0MsV0FBRztBQUhDLE9BRlIsRUFPR0wsRUFQSCxDQU9NLFdBUE4sRUFPbUIsWUFBVztBQUMxQjtBQUNBO0FBQ0EzSCxXQUFHb0csS0FBSCxDQUFTK0IsZUFBVDtBQUNELE9BWEgsRUFZR0MsSUFaSCxDQVlRYixVQVpSOztBQWNBNUQsYUFBT1UsSUFBUCxDQUFZO0FBQ1Y0RCxZQUFJLFlBQUNsRyxDQUFEO0FBQUEsaUJBQU9BLEVBQUU0QixNQUFGLENBQVNwQyxDQUFoQjtBQUFBLFNBRE07QUFFVjJHLFlBQUksWUFBQ25HLENBQUQ7QUFBQSxpQkFBT0EsRUFBRTRCLE1BQUYsQ0FBU2xDLENBQWhCO0FBQUE7QUFGTSxPQUFaOztBQUtBa0MsYUFBT2lCLElBQVAsR0FBY0MsTUFBZDtBQUNEOzs7Ozs7a0JBclVrQnpFLGlCIiwiZmlsZSI6IjIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IGQzID0gcmVxdWlyZSgnZDMnKTtcbmxldCBTaWduYWxzID0gcmVxdWlyZSgnanMtc2lnbmFscycpO1xuaW1wb3J0IFV0aWxzIGZyb20gJy4uL2NvcmUvVXRpbHMnO1xuXG5jb25zdCBNQVhfSEVJR0hUID0gMTkwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9wZXJ0eUN1cnZlRWRpdCB7XG4gIGNvbnN0cnVjdG9yKHRpbWVsaW5lLCBjb250YWluZXIpIHtcbiAgICB0aGlzLnRpbWVsaW5lID0gdGltZWxpbmU7XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgdGhpcy5keSA9IDEwICsgdGhpcy50aW1lbGluZS5tYXJnaW4udG9wO1xuICAgIHRoaXMub25DdXJ2ZVVwZGF0ZWQgPSBuZXcgU2lnbmFscy5TaWduYWwoKTtcbiAgfVxuXG4gIG5vcm1hbGl6ZVZhbCh2YWwsIG1pbiwgbWF4LCBtaW4yLCBtYXgyKSB7XG4gICAgaWYgKG1pbiA9PT0gbWluMiAmJiBtYXggPT09IG1heDIpIHtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIGNvbnN0IGRpZmYgPSBtYXggLSBtaW47XG4gICAgY29uc3QgZGlmZjIgPSBtYXgyIC0gbWluMjtcbiAgICBjb25zdCB0ID0gKHZhbCAtIG1pbikgLyBkaWZmO1xuICAgIHJldHVybiBtaW4yICsgdCAqIGRpZmYyO1xuICB9XG5cbiAgLy8gR2V0IGJlemllciBwb2ludCBmcm9tIGVhc2luZyAoMCB0byAxKSBhbmQgcHJldmlvdXMgYW5kIG5leHQgcG9pbnQuXG4gIGJlemllclBvaW50KHB0LCBwcmV2LCBuZXh0KSB7XG4gICAgY29uc3QgeCA9IHRoaXMubm9ybWFsaXplVmFsKHB0LngsIDAsIDEsIHByZXYueCwgbmV4dC54KTtcbiAgICBjb25zdCB5ID0gdGhpcy5ub3JtYWxpemVWYWwocHQueSwgMCwgMSwgcHJldi55LCBuZXh0LnkpO1xuICAgIHJldHVybiB7eCwgeX07XG4gIH1cblxuICAvLyBUcmFuc2Zvcm0gYW4gYXJyYXkgb2YgcG9pbnRzIHRvIGEgU1ZHIGJlemllciBwYXRoLlxuICBnZXRQYXRoKHBvaW50cykge1xuICAgIC8vIFBhdGggZmlyc3Qgc3RhcnQgYnkgTW92ZSBjb21tYW5kIChhYnNvbHV0ZSk7XG4gICAgbGV0IHAgPSBgTSAke3BvaW50c1swXS54fSAke3BvaW50c1swXS55fWA7XG4gICAgLy8gVGhlbiBpdCdzIEMgYS54IGEueSwgYi54IGIueSwgYy54IHgueVxuICAgIHBvaW50cy5mb3JFYWNoKChwdCwgaSkgPT4ge1xuICAgICAgLy8gRHJvcCBmaXJzdCBvbmUgc2luY2UgYWxyZWFkeSBpbiAnTScgY29tbWFuZCBhYm92ZS5cbiAgICAgIGlmIChpID4gMCkge1xuICAgICAgICBwICs9ICcsICc7XG4gICAgICAgIGlmICgoaSAtIDEpICUgMyA9PT0gMCkge1xuICAgICAgICAgIHAgKz0gJ0MgJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOYU4ocHQueCkgfHwgaXNOYU4ocHQueSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcCArPSBgJHtwdC54fSAke3B0Lnl9YDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcDtcbiAgfVxuXG4gIHByb2Nlc3NDdXJ2ZVZhbHVlcyhkKSB7XG4gICAgbGV0IGludmFsaWQgPSBmYWxzZTtcbiAgICBpZiAoZC5rZXlzLmxlbmd0aCA8PSAxKSB7XG4gICAgICBkLl9jdXJ2ZVBvaW50cyA9IFtdO1xuICAgICAgZC5fY3VydmVQb2ludHNCZXppZXIgPSBbXTtcbiAgICAgIGQuX2NvbnRyb2xQb2ludHMgPSBbXTtcbiAgICAgIHJldHVybiBbe3BvaW50czogW10sIG5hbWU6IGQubmFtZX1dO1xuICAgIH1cbiAgICAvLyBwcmVwcm9jZXNzIG1pbiBhbmQgbWF4IGZvciBrZXlzLlxuICAgIGQuX21pbiA9IGQzLm1pbihkLmtleXMsIChrKSA9PiBrLnZhbCk7XG4gICAgZC5fbWF4ID0gZDMubWF4KGQua2V5cywgKGspID0+IGsudmFsKTtcblxuICAgIGQuX2N1cnZlUG9pbnRzID0gW107XG4gICAgLy8gc2V0IHJhdyBwb2ludHMsIHdpdGhvdXQgYmV6aWVyIGNvbnRyb2wgeWV0LlxuICAgIGQua2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGNvbnN0IHggPSB0aGlzLnRpbWVsaW5lLngoa2V5LnRpbWUgKiAxMDAwKTtcbiAgICAgIGNvbnN0IHkgPSB0aGlzLm5vcm1hbGl6ZVZhbChrZXkudmFsLCBkLl9taW4sIGQuX21heCwgMCwgTUFYX0hFSUdIVCk7XG4gICAgICBkLl9jdXJ2ZVBvaW50cy5wdXNoKHt4LCB5LCBlYXNlOiBrZXkuZWFzZSwgaWQ6IGBjdXJ2ZTEtJHtrZXkuX2lkfWAsIF9rZXk6IGtleX0pO1xuICAgIH0pO1xuXG4gICAgLy8gQ29udHJvbCBwb2ludHMsIGdyb3VwZWQgYnkgcG9pbnQgKyBoYW5kbGUuXG4gICAgZC5fY29udHJvbFBvaW50cyA9IFtdO1xuICAgIC8vIEFkZCBhbGwgcG9pbnRzLCB3aXRoIGNvbnRyb2xzIGJlemllci4gKHAxLCBiZXppZXIxLCBiZXppZXIyLCBwMiwg4oCmKS5cbiAgICBkLl9jdXJ2ZVBvaW50c0JlemllciA9IFtdO1xuICAgIGQuX2N1cnZlUG9pbnRzLmZvckVhY2goKHB0LCBpKSA9PiB7XG4gICAgICBjb25zdCBuZXh0ID0gZC5fY3VydmVQb2ludHNbaSArIDFdO1xuICAgICAgLy8gSWYgbm9uIG51bWJlciBwb2ludHMgcmV0dXJuIGFuIGVtcHR5IHBhdGguXG4gICAgICBpZiAoaXNOYU4ocHQueCkgfHwgaXNOYU4ocHQueSkpIHtcbiAgICAgICAgaW52YWxpZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBkLl9jdXJ2ZVBvaW50c0Jlemllci5wdXNoKHt4OiBwdC54LCB5OiBwdC55LCBlYXNlOiBwdC5lYXNlLCBfa2V5OiBwdC5fa2V5fSk7XG4gICAgICBpZiAobmV4dCkge1xuICAgICAgICBjb25zdCBlYXNpbmcgPSBVdGlscy5nZXRFYXNpbmdQb2ludHMobmV4dC5lYXNlKTtcbiAgICAgICAgY29uc3QgcDEgPSB0aGlzLmJlemllclBvaW50KHt4OiBlYXNpbmdbMF0sIHk6IGVhc2luZ1sxXX0sIHB0LCBuZXh0KTtcbiAgICAgICAgY29uc3QgcDIgPSB0aGlzLmJlemllclBvaW50KHt4OiBlYXNpbmdbMl0sIHk6IGVhc2luZ1szXX0sIHB0LCBuZXh0KTtcblxuICAgICAgICAvLyBTYXZlIHByZXYgcG9pbnQgZm9yIHRpbWUgY2FsY3VsYXRpb24gb24gZHJhZyBtb3ZlLlxuICAgICAgICBwMS5fbmV4dCA9IG5leHQ7XG4gICAgICAgIHAyLl9uZXh0ID0gbmV4dDtcbiAgICAgICAgcDEuX3ByZXYgPSBwdDtcbiAgICAgICAgcDIuX3ByZXYgPSBwdDtcbiAgICAgICAgLy8gVGhlIGluZGV4IG9mIHRoZSBoYW5kbGVzIGluIHRoZSBlYXNpbmcuXG4gICAgICAgIHAxLl9YaW5kZXggPSAwO1xuICAgICAgICBwMS5fWWluZGV4ID0gMTtcbiAgICAgICAgcDIuX1hpbmRleCA9IDI7XG4gICAgICAgIHAyLl9ZaW5kZXggPSAzO1xuICAgICAgICBkLl9jdXJ2ZVBvaW50c0Jlemllci5wdXNoKHAxKTtcbiAgICAgICAgZC5fY3VydmVQb2ludHNCZXppZXIucHVzaChwMik7XG4gICAgICAgIC8vIElmIG5vbiBudW1iZXIgcG9pbnRzIHJldHVybiBhbiBlbXB0eSBwYXRoLlxuICAgICAgICBpZiAoaXNOYU4obmV4dC54KSB8fCBpc05hTihuZXh0LnkpIHx8XG4gICAgICAgICAgICBpc05hTihwMS54KSB8fCBpc05hTihwMS55KSB8fFxuICAgICAgICAgICAgaXNOYU4ocDIueCkgfHwgaXNOYU4ocDIueSkpIHtcbiAgICAgICAgICBpbnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBkLl9jb250cm9sUG9pbnRzLnB1c2goe3BvaW50OiBwdCwgaGFuZGxlOiBwMSwgaWQ6IGAke3B0Ll9rZXkuX2lkfS1hYH0pO1xuICAgICAgICBkLl9jb250cm9sUG9pbnRzLnB1c2goe3BvaW50OiBuZXh0LCBoYW5kbGU6IHAyLCBpZDogYCR7cHQuX2tleS5faWR9LWJgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgcGF0aCA9IHRoaXMuZ2V0UGF0aChkLl9jdXJ2ZVBvaW50c0Jlemllcik7XG4gICAgLy8gSWYgaW52YWxpZCBwYXRoIChub24gbnVtYmVyIHBvaW50cykgcmV0dXJuIGFuIGVtcHR5IHBhdGguXG4gICAgaWYgKCFwYXRoIHx8IGludmFsaWQpIHtcbiAgICAgIGQuX2N1cnZlUG9pbnRzID0gW107XG4gICAgICBkLl9jdXJ2ZVBvaW50c0JlemllciA9IFtdO1xuICAgICAgZC5fY29udHJvbFBvaW50cyA9IFtdO1xuICAgICAgcmV0dXJuIFt7cG9pbnRzOiBbXSwgbmFtZTogZC5uYW1lfV07XG4gICAgfVxuICAgIHJldHVybiBbe3BvaW50czogZC5fY3VydmVQb2ludHMsIHBhdGgsIG5hbWU6IGQubmFtZX1dO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IHR3ZWVuVGltZSA9IHNlbGYudGltZWxpbmUudHdlZW5UaW1lO1xuXG4gICAgY29uc3QgYmFyID0gdGhpcy5jb250YWluZXIuc2VsZWN0QWxsKCcuY3VydmUtZ3JwJylcbiAgICAgIC5kYXRhKHRoaXMudGltZWxpbmUudHdlZW5UaW1lLmRhdGEsIChkKSA9PiBkLmlkKTtcblxuICAgIGJhci5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdzdmcnKS5hdHRyKCdjbGFzcycsICdjdXJ2ZS1ncnAgdGltZWxpbmVfX3JpZ2h0LW1hc2snKTtcblxuICAgIC8vIFNob3cgY3VydmVzIG9ubHkgaWYgY3VydmUgZWRpdG9yIG1vZGUuXG4gICAgYmFyLmF0dHIoJ2Rpc3BsYXknLCAoZCkgPT4ge1xuICAgICAgY29uc3Qgc2VsZWN0aW9uID0gc2VsZi50aW1lbGluZS5zZWxlY3Rpb25NYW5hZ2VyLmdldFNlbGVjdGlvbigpO1xuXG4gICAgICBpZiAodGhpcy50aW1lbGluZS5lZGl0b3IuY3VydmVFZGl0RW5hYmxlZCkge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGl0ZW0gaXMgaW4gc2VsZWN0aW9uLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChzZWxlY3Rpb25baV0uaWQgPT09IGQuaWQpIHtcbiAgICAgICAgICAgIHJldHVybiAnYmxvY2snO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBJZiB3ZSBzZWxlY3RlZCBhIHByb3BlcnR5IGluc2lkZSB0aGUgaXRlbS5cbiAgICAgICAgICBpZiAoc2VsZWN0aW9uW2ldLl9saW5lICYmIHNlbGVjdGlvbltpXS5fbGluZS5pZCA9PT0gZC5pZCkge1xuICAgICAgICAgICAgcmV0dXJuICdibG9jayc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gJ25vbmUnO1xuICAgIH0pO1xuXG4gICAgYmFyLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgIGNvbnN0IHByb3BWYWwxID0gKGQpID0+IGQucHJvcGVydGllcyB8fCBbXTtcbiAgICBjb25zdCBwcm9wS2V5MSA9IChkKSA9PiBkLm5hbWU7XG5cbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gYmFyLnNlbGVjdEFsbCgnLmN1cnZlcy1wcmV2aWV3JylcbiAgICAgIC5kYXRhKHByb3BWYWwxLCBwcm9wS2V5MSlcbiAgICAgIC5hdHRyKCdkaXNwbGF5JywgKGQpID0+IHtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gc2VsZi50aW1lbGluZS5zZWxlY3Rpb25NYW5hZ2VyLmdldFNlbGVjdGlvbigpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbSA9IHNlbGVjdGlvbltpXTtcbiAgICAgICAgICBpZiAoc2VsZWN0ZWRJdGVtLm5hbWUgJiYgc2VsZWN0ZWRJdGVtLm5hbWUgPT09IGQubmFtZSkge1xuICAgICAgICAgICAgLy8gQWxzbyBjaGVjayB0aGF0IGl0IGlzIGZyb20gdGhlIHNhbWUgaXRlbS5cbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEl0ZW0uX2xpbmUuaWQgPT09IGQuX2xpbmUuaWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICdibG9jayc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElmIHdlIGhhdmUgc2VsZWN0ZWQgdGhlIHdob2xlIGl0ZW0gc2hvdyB0aGUgY3VydmUgdG9vLlxuICAgICAgICAgIGlmIChzZWxlY3RlZEl0ZW0uaWQgJiYgc2VsZWN0ZWRJdGVtLmlkID09PSBkLl9saW5lLmlkKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2Jsb2NrJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdub25lJztcbiAgICAgIH0pO1xuXG4gICAgcHJvcGVydGllcy5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKHtcbiAgICAgICAgY2xhc3M6ICdjdXJ2ZXMtcHJldmlldycsXG4gICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwLDEwKScsXG4gICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCAtIHNlbGYudGltZWxpbmUubGFiZWxfcG9zaXRpb25feCxcbiAgICAgICAgaGVpZ2h0OiAzMDBcbiAgICAgIH0pO1xuXG4gICAgcHJvcGVydGllcy5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICBjb25zdCBjdXJ2ZUtleSA9IChkKSA9PiBkLm5hbWU7XG4gICAgdmFyIGN1cnZlcyA9IHByb3BlcnRpZXMuc2VsZWN0QWxsKCcuY3VydmUnKVxuICAgICAgLmRhdGEoKGQpID0+IHRoaXMucHJvY2Vzc0N1cnZlVmFsdWVzKGQpLCBjdXJ2ZUtleSk7XG5cbiAgICBjdXJ2ZXMuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cih7XG4gICAgICAgIGNsYXNzOiAnY3VydmUnLFxuICAgICAgICBmaWxsOiAnbm9uZScsXG4gICAgICAgIHN0cm9rZTogJyNhYWEnXG4gICAgICB9KTtcblxuICAgIGN1cnZlcy5hdHRyKCdkJywgKGQpID0+IGQucGF0aCk7XG5cbiAgICBjdXJ2ZXMuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgY29uc3QgcG9pbnRWYWwgPSAoZCkgPT4gZC5fY3VydmVQb2ludHMgfHwgW107XG4gICAgY29uc3QgcG9pbnRLZXkgPSAoZCkgPT4gZC5pZDtcbiAgICBjb25zdCBoYW5kbGVWYWwgPSAoZCkgPT4gZC5fY29udHJvbFBvaW50cyB8fCBbXTtcbiAgICBjb25zdCBoYW5kbGVLZXkgPSAoZCkgPT4gZC5pZDtcblxuICAgIGNvbnN0IGhhbmRsZSA9IHByb3BlcnRpZXMuc2VsZWN0QWxsKCcuY3VydmVfX2hhbmRsZScpXG4gICAgICAuZGF0YShoYW5kbGVWYWwsIGhhbmRsZUtleSk7XG5cbiAgICBjb25zdCBoYW5kbGVMaW5lID0gcHJvcGVydGllcy5zZWxlY3RBbGwoJy5jdXJ2ZV9faGFuZGxlLWxpbmUnKVxuICAgICAgLmRhdGEoaGFuZGxlVmFsLCBoYW5kbGVLZXkpO1xuXG4gICAgY29uc3QgcG9pbnRzID0gcHJvcGVydGllcy5zZWxlY3RBbGwoJy5jdXJ2ZV9fcG9pbnQnKVxuICAgICAgLmRhdGEocG9pbnRWYWwsIHBvaW50S2V5KTtcblxuICAgIC8vIEhhbmRsZSBsaW5lLlxuICAgIGNvbnN0IGRyYWdIYW5kbGVTdGFydCA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgIHZhciBldmVudCA9IGQzLmV2ZW50O1xuICAgICAgLy8gd2l0aCBkcmFnc3RhcnQgZXZlbnQgdGhlIG1vdXNldmVudCBpcyBpcyBpbnNpZGUgdGhlIGV2ZW50LnNvdXJjRXZlbnRcbiAgICAgIGlmIChldmVudC5zb3VyY2VFdmVudCkge1xuICAgICAgICBldmVudCA9IGV2ZW50LnNvdXJjZUV2ZW50O1xuICAgICAgfVxuXG4gICAgICAvLyBBbHNvIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIGtleSBkb20gZWxlbWVudC5cbiAgICAgIGQuX2RvbSA9IHRoaXM7XG4gICAgfTtcblxuICAgIGNvbnN0IGRyYWdIYW5kbGVNb3ZlID0gZnVuY3Rpb24oZCkge1xuICAgICAgdmFyIHNvdXJjZUV2ZW50ID0gZDMuZXZlbnQuc291cmNlRXZlbnQ7XG5cbiAgICAgIGNvbnN0IHBvaW50ID0gZC5oYW5kbGUuX25leHQ7XG4gICAgICBjb25zdCBwcmV2ID0gZC5oYW5kbGUuX3ByZXY7XG4gICAgICBjb25zdCBoYW5kbGUgPSBkLmhhbmRsZTtcbiAgICAgIGNvbnN0IGtleSA9IHBvaW50Ll9rZXk7XG4gICAgICBjb25zdCBwcm9wZXJ0eURhdGEgPSBwcmV2Ll9rZXkuX3Byb3BlcnR5O1xuICAgICAgY29uc3QgaXRlbURhdGEgPSBwcm9wZXJ0eURhdGEuX2xpbmU7XG5cbiAgICAgIC8vIEdldCBlYXNlIGFycmF5LlxuICAgICAgY29uc3QgZWFzZSA9IFV0aWxzLmdldEVhc2luZ1BvaW50cyhwb2ludC5lYXNlKTtcbiAgICAgIGNvbnN0IHRpbWVCZXR3ZWVuUHJldk5leHQgPSBrZXkudGltZSAtIHByZXYuX2tleS50aW1lO1xuXG4gICAgICBjb25zdCBtb3VzZSA9IGQzLm1vdXNlKHRoaXMpO1xuICAgICAgY29uc3Qgb2xkX3RpbWUgPSBrZXkudGltZTtcbiAgICAgIGxldCBkeCA9IHNlbGYudGltZWxpbmUueC5pbnZlcnQobW91c2VbMF0pO1xuICAgICAgZHggPSBkeC5nZXRUaW1lKCkgLyAxMDAwO1xuICAgICAgZHggPSAoZHggLSBwcmV2Ll9rZXkudGltZSkgLyB0aW1lQmV0d2VlblByZXZOZXh0O1xuXG5cbiAgICAgIC8vIEdldCBwb2ludCBBIHZhbHVlIHRvcCBpbiBweC5cbiAgICAgIGNvbnN0IHZhbHVlQXB4ID0gc2VsZi5ub3JtYWxpemVWYWwocHJldi5fa2V5LnZhbCwgcHJvcGVydHlEYXRhLl9taW4sIHByb3BlcnR5RGF0YS5fbWF4LCAwLCBNQVhfSEVJR0hUKTtcbiAgICAgIC8vIFNhbWUgZm9yIEIga2V5IHZhbHVlXG4gICAgICBjb25zdCB2YWx1ZUJweCA9IHNlbGYubm9ybWFsaXplVmFsKHBvaW50Ll9rZXkudmFsLCBwcm9wZXJ0eURhdGEuX21pbiwgcHJvcGVydHlEYXRhLl9tYXgsIDAsIE1BWF9IRUlHSFQpO1xuXG4gICAgICB2YXIgZHkgPSAobW91c2VbMV0gLSB2YWx1ZUFweCkgLyAodmFsdWVCcHggLSB2YWx1ZUFweCk7XG5cbiAgICAgIC8vIGR4IGlzIHJlc3RyaWN0ZWQgdG8gMCAtIDEuXG4gICAgICBkeCA9IE1hdGgubWluKDEsIE1hdGgubWF4KDAsIGR4KSk7XG5cbiAgICAgIGVhc2VbaGFuZGxlLl9YaW5kZXhdID0gZHg7XG4gICAgICBlYXNlW2hhbmRsZS5fWWluZGV4XSA9IGR5O1xuICAgICAgcG9pbnQuX2tleS5lYXNlID0gZWFzZTtcblxuICAgICAgcHJvcGVydHlEYXRhLl9pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgIGl0ZW1EYXRhLl9pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgIHNlbGYub25DdXJ2ZVVwZGF0ZWQuZGlzcGF0Y2goKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZHJhZ0hhbmRsZUVuZCA9IChkKSA9PiB7XG5cbiAgICB9O1xuXG4gICAgY29uc3QgZHJhZ0hhbmRsZSA9IGQzLmJlaGF2aW9yLmRyYWcoKVxuICAgICAgLm9yaWdpbigoZCkgPT4ge3JldHVybiBkO30pXG4gICAgICAub24oJ2RyYWcnLCBkcmFnSGFuZGxlTW92ZSlcbiAgICAgIC5vbignZHJhZ3N0YXJ0JywgZHJhZ0hhbmRsZVN0YXJ0KVxuICAgICAgLm9uKCdkcmFnZW5kJywgZHJhZ0hhbmRsZUVuZCk7XG5cbiAgICBoYW5kbGVMaW5lLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2xpbmUnKVxuICAgICAgLmF0dHIoe1xuICAgICAgICBjbGFzczogJ2N1cnZlX19oYW5kbGUtbGluZScsXG4gICAgICAgIGZpbGw6ICdub25lJ1xuICAgICAgfSk7XG5cbiAgICBoYW5kbGVMaW5lLmF0dHIoe1xuICAgICAgeDE6IChkKSA9PiBkLnBvaW50LngsXG4gICAgICB5MTogKGQpID0+IGQucG9pbnQueSxcbiAgICAgIHgyOiAoZCkgPT4gZC5oYW5kbGUueCxcbiAgICAgIHkyOiAoZCkgPT4gZC5oYW5kbGUueVxuICAgIH0pO1xuXG4gICAgaGFuZGxlTGluZS5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICAvLyBUaGUga2V5IHBvaW50LlxuICAgIHBvaW50cy5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgLmF0dHIoe1xuICAgICAgICBjbGFzczogJ2N1cnZlX19wb2ludCcsXG4gICAgICAgIGZpbGw6ICcjZmZmJyxcbiAgICAgICAgcjogNFxuICAgICAgfSk7XG5cbiAgICBwb2ludHMuYXR0cih7XG4gICAgICBjeDogKGQpID0+IGQueCxcbiAgICAgIGN5OiAoZCkgPT4gZC55XG4gICAgfSk7XG5cbiAgICBwb2ludHMuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgLy8gSGFuZGxlIHBvaW50LlxuICAgIGhhbmRsZS5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgLmF0dHIoe1xuICAgICAgICBjbGFzczogJ2N1cnZlX19oYW5kbGUnLFxuICAgICAgICBmaWxsOiAnI2FhYScsXG4gICAgICAgIHI6IDRcbiAgICAgIH0pXG4gICAgICAub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBEb24ndCB0cmlnZ2VyIG1vdXNlZG93biBvbiBoYW5kbGVyIGVsc2VcbiAgICAgICAgLy8gaXQgY3JlYXRlIHRoZSBzZWxlY3Rpb24gcmVjdGFuZ2xlXG4gICAgICAgIGQzLmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSlcbiAgICAgIC5jYWxsKGRyYWdIYW5kbGUpO1xuXG4gICAgaGFuZGxlLmF0dHIoe1xuICAgICAgY3g6IChkKSA9PiBkLmhhbmRsZS54LFxuICAgICAgY3k6IChkKSA9PiBkLmhhbmRsZS55XG4gICAgfSk7XG5cbiAgICBoYW5kbGUuZXhpdCgpLnJlbW92ZSgpO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ncmFwaC9Qcm9wZXJ0eUN1cnZlRWRpdC5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Utils = __webpack_require__(1);\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar d3 = __webpack_require__(15);\nvar Signals = __webpack_require__(6);\n\nvar _ = __webpack_require__(12);\n\nvar Keys = function () {\n  function Keys(timeline) {\n    _classCallCheck(this, Keys);\n\n    this.timeline = timeline;\n    this.onKeyUpdated = new Signals.Signal();\n  }\n\n  _createClass(Keys, [{\n    key: 'selectNewKey',\n    value: function selectNewKey(data) {\n      var self = this;\n      var key = d3.selectAll('.key').filter(function (item) {\n        return item._id === data._id;\n      });\n      if (key.length) {\n        d3.selectAll('.key--selected').classed('key--selected', false);\n        key.classed('key--selected', true);\n        key = key[0][0];\n        data._dom = key;\n        self.timeline.selectionManager.select(data);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render(properties) {\n      var self = this;\n      var tweenTime = self.timeline.tweenTime;\n\n      var dragmove = function dragmove(key_data) {\n        var sourceEvent = d3.event.sourceEvent;\n        var propertyData = key_data._property;\n        var lineData = propertyData._line;\n\n        var currentDomainStart = self.timeline.x.domain()[0];\n        var mouse = d3.mouse(this);\n        var old_time = key_data.time;\n        var dx = self.timeline.x.invert(mouse[0]);\n        dx = dx.getTime();\n        dx = dx / 1000 - currentDomainStart / 1000;\n        dx = key_data.time + dx;\n\n        var selection = self.timeline.selectionManager.getSelection();\n        var selection_first_time = false;\n        var selection_last_time = false;\n        if (selection.length) {\n          selection_first_time = selection[0].time;\n          selection_last_time = selection[selection.length - 1].time;\n        }\n\n        selection = _.filter(selection, function (item) {\n          return _.isEqual(item, key_data) === false;\n        });\n\n        var timeMatch = false;\n        if (sourceEvent.shiftKey) {\n          timeMatch = _Utils2.default.getClosestTime(tweenTime.data, dx, lineData.id, propertyData.name, tweenTime.timer);\n        }\n        if (timeMatch === false) {\n          timeMatch = dx;\n        }\n\n        key_data.time = timeMatch;\n        // Sort the keys of the current selected item.\n        propertyData.keys = _Utils2.default.sortKeys(propertyData.keys);\n        var time_offset = key_data.time - old_time;\n\n        var updateKeyItem = function updateKeyItem(item) {\n          var property = item._property;\n          property._line._isDirty = true;\n          property.keys = _Utils2.default.sortKeys(property.keys);\n        };\n\n        var key_scale = false;\n        var is_first = false;\n        if (selection.length) {\n          if (sourceEvent.altKey && selection_first_time !== false && selection_last_time !== false) {\n            is_first = selection_first_time === old_time;\n            if (is_first) {\n              key_scale = (selection_last_time - key_data.time) / (selection_last_time - old_time);\n            } else {\n              key_scale = (key_data.time - selection_first_time) / (old_time - selection_first_time);\n            }\n          }\n\n          for (var i = 0; i < selection.length; i++) {\n            var data = selection[i];\n            if (key_scale === false) {\n              data.time += time_offset;\n            } else {\n              if (is_first) {\n                data.time = selection_last_time - (selection_last_time - data.time) * key_scale;\n              } else {\n                data.time = selection_first_time + (data.time - selection_first_time) * key_scale;\n              }\n            }\n            updateKeyItem(data);\n          }\n        }\n\n        lineData._isDirty = true;\n        self.onKeyUpdated.dispatch();\n      };\n\n      var propValue = function propValue(d) {\n        return d.keys;\n      };\n      var propKey = function propKey(d) {\n        if (!d._id) {\n          d._id = _Utils2.default.guid();\n        }\n        return d._id;\n      };\n      var keys = properties.select('.line-item__keys').selectAll('.key').data(propValue, propKey);\n\n      // Hide keys if curve editor mode.\n      properties.select('.line-item__keys').attr('display', function () {\n        if (!self.timeline.editor.curveEditEnabled) {\n          return 'block';\n        }\n        return 'none';\n      });\n\n      // selectKey is triggered by dragstart event\n      var selectKey = function selectKey(key_data) {\n        var event = d3.event;\n        // with dragstart event the mousevent is is inside the event.sourcEvent\n        if (event.sourceEvent) {\n          event = event.sourceEvent;\n        }\n\n        var addToSelection = event.shiftKey;\n        // if element is already selectionned and we are on\n        // the dragstart event, we stop there since it is already selected.\n        if (d3.event.type && d3.event.type === 'dragstart') {\n          if (d3.select(this).classed('key--selected')) {\n            return;\n          }\n        }\n\n        // Also keep a reference to the key dom element.\n        key_data._dom = this;\n\n        self.timeline.selectionManager.select(key_data, addToSelection);\n      };\n\n      var dragend = function dragend() {\n        self.timeline.editor.undoManager.addState();\n      };\n\n      var drag = d3.behavior.drag().origin(function (d) {\n        return d;\n      }).on('drag', dragmove).on('dragstart', selectKey).on('dragend', dragend);\n\n      var key_grp = keys.enter().append('g').attr('class', 'key')\n      // Use the unique id added in propKey above for the dom element id.\n      .attr('id', function (d) {\n        return d._id;\n      }).on('mousedown', function () {\n        // Don't trigger mousedown on linescontainer else\n        // it create the selection rectangle\n        d3.event.stopPropagation();\n      }).call(drag);\n\n      properties.selectAll('.key').attr('class', function (d) {\n        var cls = 'key';\n        // keep selected class\n        if (d3.select(this).classed('key--selected')) {\n          cls += ' key--selected';\n        }\n        if (d.ease) {\n          if (Array.isArray(d.ease)) {\n            cls += ' easeCustom';\n          } else {\n            var ease = d.ease.split('.');\n            if (ease.length === 2) {\n              cls += ' ' + ease[1];\n            }\n          }\n        } else {\n          // If no easing specified, the it's the default Quad.easeOut\n          cls += ' easeOut';\n        }\n        return cls;\n      });\n\n      var grp_linear = key_grp.append('g').attr('class', 'ease-linear');\n      grp_linear.append('path').attr('class', 'key__shape-arrow').attr('d', 'M 0 -6 L 6 0 L 0 6');\n      grp_linear.append('path').attr('class', 'key__shape-arrow').attr('d', 'M 0 -6 L -6 0 L 0 6');\n\n      var grp_in = key_grp.append('g').attr('class', 'ease-in');\n      grp_in.append('path').attr('class', 'key__shape-rect').attr('d', 'M 0 -6 L 0 6 L 4 5 L 1 0 L 4 -5');\n      grp_in.append('path').attr('class', 'key__shape-arrow').attr('d', 'M 0 -6 L -6 0 L 0 6');\n\n      var grp_out = key_grp.append('g').attr('class', 'ease-out');\n      grp_out.append('path').attr('class', 'key__shape-rect').attr('d', 'M 0 -6 L 0 6 L -4 5 L -1 0 L -4 -5');\n      grp_out.append('path').attr('class', 'key__shape-arrow').attr('d', 'M 0 -6 L 6 0 L 0 6');\n\n      var grp_inout = key_grp.append('g').attr('class', 'ease-inout');\n      grp_inout.append('circle').attr('cx', 0).attr('cy', 0).attr('r', 5);\n\n      var grp_custom = key_grp.append('g').attr('class', 'ease-custom');\n      grp_custom.append('path').attr('class', 'key__shape-arrow').attr('d', 'M 0 -6 L 6 0 L 0 6').attr({\n        transform: 'translate(-5, 0)'\n      });\n\n      var g2 = grp_custom.append('g').attr({\n        transform: 'scale(-1, 1) translate(-5, 0)'\n      });\n\n      g2.append('path').attr('class', 'key__shape-arrow').attr('d', 'M 0 -6 L 6 0 L 0 6');\n\n      keys.attr('transform', function (d) {\n        var dx = self.timeline.x(d.time * 1000);\n        dx = parseInt(dx, 10);\n        var dy = 10;\n        return 'translate(' + dx + ',' + dy + ')';\n      });\n\n      keys.exit().remove();\n    }\n  }]);\n\n  return Keys;\n}();\n\nexports.default = Keys;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9LZXlzLmpzPzIzM2IiXSwibmFtZXMiOlsiZDMiLCJyZXF1aXJlIiwiU2lnbmFscyIsIl8iLCJLZXlzIiwidGltZWxpbmUiLCJvbktleVVwZGF0ZWQiLCJTaWduYWwiLCJkYXRhIiwic2VsZiIsImtleSIsInNlbGVjdEFsbCIsImZpbHRlciIsIml0ZW0iLCJfaWQiLCJsZW5ndGgiLCJjbGFzc2VkIiwiX2RvbSIsInNlbGVjdGlvbk1hbmFnZXIiLCJzZWxlY3QiLCJwcm9wZXJ0aWVzIiwidHdlZW5UaW1lIiwiZHJhZ21vdmUiLCJrZXlfZGF0YSIsInNvdXJjZUV2ZW50IiwiZXZlbnQiLCJwcm9wZXJ0eURhdGEiLCJfcHJvcGVydHkiLCJsaW5lRGF0YSIsIl9saW5lIiwiY3VycmVudERvbWFpblN0YXJ0IiwieCIsImRvbWFpbiIsIm1vdXNlIiwib2xkX3RpbWUiLCJ0aW1lIiwiZHgiLCJpbnZlcnQiLCJnZXRUaW1lIiwic2VsZWN0aW9uIiwiZ2V0U2VsZWN0aW9uIiwic2VsZWN0aW9uX2ZpcnN0X3RpbWUiLCJzZWxlY3Rpb25fbGFzdF90aW1lIiwiaXNFcXVhbCIsInRpbWVNYXRjaCIsInNoaWZ0S2V5IiwiZ2V0Q2xvc2VzdFRpbWUiLCJpZCIsIm5hbWUiLCJ0aW1lciIsImtleXMiLCJzb3J0S2V5cyIsInRpbWVfb2Zmc2V0IiwidXBkYXRlS2V5SXRlbSIsInByb3BlcnR5IiwiX2lzRGlydHkiLCJrZXlfc2NhbGUiLCJpc19maXJzdCIsImFsdEtleSIsImkiLCJkaXNwYXRjaCIsInByb3BWYWx1ZSIsImQiLCJwcm9wS2V5IiwiZ3VpZCIsImF0dHIiLCJlZGl0b3IiLCJjdXJ2ZUVkaXRFbmFibGVkIiwic2VsZWN0S2V5IiwiYWRkVG9TZWxlY3Rpb24iLCJ0eXBlIiwiZHJhZ2VuZCIsInVuZG9NYW5hZ2VyIiwiYWRkU3RhdGUiLCJkcmFnIiwiYmVoYXZpb3IiLCJvcmlnaW4iLCJvbiIsImtleV9ncnAiLCJlbnRlciIsImFwcGVuZCIsInN0b3BQcm9wYWdhdGlvbiIsImNhbGwiLCJjbHMiLCJlYXNlIiwiQXJyYXkiLCJpc0FycmF5Iiwic3BsaXQiLCJncnBfbGluZWFyIiwiZ3JwX2luIiwiZ3JwX291dCIsImdycF9pbm91dCIsImdycF9jdXN0b20iLCJ0cmFuc2Zvcm0iLCJnMiIsInBhcnNlSW50IiwiZHkiLCJleGl0IiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUVBOzs7Ozs7OztBQUZBLElBQUlBLEtBQUssbUJBQUFDLENBQVEsRUFBUixDQUFUO0FBQ0EsSUFBSUMsVUFBVSxtQkFBQUQsQ0FBUSxDQUFSLENBQWQ7O0FBRUEsSUFBSUUsSUFBSSxtQkFBQUYsQ0FBUSxFQUFSLENBQVI7O0lBRXFCRyxJO0FBQ25CLGdCQUFZQyxRQUFaLEVBQXNCO0FBQUE7O0FBQ3BCLFNBQUtBLFFBQUwsR0FBZ0JBLFFBQWhCO0FBQ0EsU0FBS0MsWUFBTCxHQUFvQixJQUFJSixRQUFRSyxNQUFaLEVBQXBCO0FBQ0Q7Ozs7aUNBRVlDLEksRUFBTTtBQUNqQixVQUFJQyxPQUFPLElBQVg7QUFDQSxVQUFJQyxNQUFNVixHQUFHVyxTQUFILENBQWEsTUFBYixFQUFxQkMsTUFBckIsQ0FBNEIsVUFBU0MsSUFBVCxFQUFlO0FBQ25ELGVBQU9BLEtBQUtDLEdBQUwsS0FBYU4sS0FBS00sR0FBekI7QUFDRCxPQUZTLENBQVY7QUFHQSxVQUFJSixJQUFJSyxNQUFSLEVBQWdCO0FBQ2RmLFdBQUdXLFNBQUgsQ0FBYSxnQkFBYixFQUErQkssT0FBL0IsQ0FBdUMsZUFBdkMsRUFBd0QsS0FBeEQ7QUFDQU4sWUFBSU0sT0FBSixDQUFZLGVBQVosRUFBNkIsSUFBN0I7QUFDQU4sY0FBTUEsSUFBSSxDQUFKLEVBQU8sQ0FBUCxDQUFOO0FBQ0FGLGFBQUtTLElBQUwsR0FBWVAsR0FBWjtBQUNBRCxhQUFLSixRQUFMLENBQWNhLGdCQUFkLENBQStCQyxNQUEvQixDQUFzQ1gsSUFBdEM7QUFDRDtBQUNGOzs7MkJBRU1ZLFUsRUFBWTtBQUNqQixVQUFNWCxP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RUFFR0EsSUFGSCxDQUVRLElBRlIsRUFFYyxDQUZkLEVBR0dBLElBSEgsQ0FHUSxHQUhSLEVBR2EsQ0FIYjs7QUFLQSxVQUFJMkIsYUFBYWQsUUFBUUUsTUFBUixDQUFlLEdBQWYsRUFDZGYsSUFEYyxDQUNULE9BRFMsRUFDQSxhQURBLENBQWpCO0FBRUEyQixpQkFBV1osTUFBWCxDQUFrQixNQUFsQixFQUNHZixJQURILENBQ1EsT0FEUixFQUNpQixrQkFEakIsRUFFR0EsSUFGSCxDQUVRLEdBRlIsRUFFYSxvQkFGYixFQUdHQSxJQUhILENBR1E7QUFDSjRCLG1CQUFXO0FBRFAsT0FIUjs7QUFPQSxVQUFJQyxLQUFLRixXQUFXWixNQUFYLENBQWtCLEdBQWxCLEVBQ05mLElBRE0sQ0FDRDtBQUNKNEIsbUJBQVc7QUFEUCxPQURDLENBQVQ7O0FBS0FDLFNBQUdkLE1BQUgsQ0FBVSxNQUFWLEVBQ0dmLElBREgsQ0FDUSxPQURSLEVBQ2lCLGtCQURqQixFQUVHQSxJQUZILENBRVEsR0FGUixFQUVhLG9CQUZiOztBQUlBZixXQUFLZSxJQUFMLENBQVUsV0FBVixFQUF1QixVQUFTSCxDQUFULEVBQVk7QUFDakMsWUFBSTFCLEtBQUszQixLQUFLSixRQUFMLENBQWMwQixDQUFkLENBQWdCK0IsRUFBRTNCLElBQUYsR0FBUyxJQUF6QixDQUFUO0FBQ0FDLGFBQUsyRCxTQUFTM0QsRUFBVCxFQUFhLEVBQWIsQ0FBTDtBQUNBLFlBQUk0RCxLQUFLLEVBQVQ7QUFDQSxlQUFPLGVBQWU1RCxFQUFmLEdBQW9CLEdBQXBCLEdBQTBCNEQsRUFBMUIsR0FBK0IsR0FBdEM7QUFDRCxPQUxEOztBQU9BOUMsV0FBSytDLElBQUwsR0FBWUMsTUFBWjtBQUNEOzs7Ozs7a0JBMVBrQjlGLEkiLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgZDMgPSByZXF1aXJlKCdkMycpO1xubGV0IFNpZ25hbHMgPSByZXF1aXJlKCdqcy1zaWduYWxzJyk7XG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vY29yZS9VdGlscyc7XG5sZXQgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLZXlzIHtcbiAgY29uc3RydWN0b3IodGltZWxpbmUpIHtcbiAgICB0aGlzLnRpbWVsaW5lID0gdGltZWxpbmU7XG4gICAgdGhpcy5vbktleVVwZGF0ZWQgPSBuZXcgU2lnbmFscy5TaWduYWwoKTtcbiAgfVxuXG4gIHNlbGVjdE5ld0tleShkYXRhKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBrZXkgPSBkMy5zZWxlY3RBbGwoJy5rZXknKS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0uX2lkID09PSBkYXRhLl9pZDtcbiAgICB9KTtcbiAgICBpZiAoa2V5Lmxlbmd0aCkge1xuICAgICAgZDMuc2VsZWN0QWxsKCcua2V5LS1zZWxlY3RlZCcpLmNsYXNzZWQoJ2tleS0tc2VsZWN0ZWQnLCBmYWxzZSk7XG4gICAgICBrZXkuY2xhc3NlZCgna2V5LS1zZWxlY3RlZCcsIHRydWUpO1xuICAgICAga2V5ID0ga2V5WzBdWzBdO1xuICAgICAgZGF0YS5fZG9tID0ga2V5O1xuICAgICAgc2VsZi50aW1lbGluZS5zZWxlY3Rpb25NYW5hZ2VyLnNlbGVjdChkYXRhKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIocHJvcGVydGllcykge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IHR3ZWVuVGltZSA9IHNlbGYudGltZWxpbmUudHdlZW5UaW1lO1xuXG4gICAgY29uc3QgZHJhZ21vdmUgPSBmdW5jdGlvbihrZXlfZGF0YSkge1xuICAgICAgY29uc3Qgc291cmNlRXZlbnQgPSBkMy5ldmVudC5zb3VyY2VFdmVudDtcbiAgICAgIGNvbnN0IHByb3BlcnR5RGF0YSA9IGtleV9kYXRhLl9wcm9wZXJ0eTtcbiAgICAgIGNvbnN0IGxpbmVEYXRhID0gcHJvcGVydHlEYXRhLl9saW5lO1xuXG4gICAgICBjb25zdCBjdXJyZW50RG9tYWluU3RhcnQgPSBzZWxmLnRpbWVsaW5lLnguZG9tYWluKClbMF07XG4gICAgICB2YXIgbW91c2UgPSBkMy5tb3VzZSh0aGlzKTtcbiAgICAgIHZhciBvbGRfdGltZSA9IGtleV9kYXRhLnRpbWU7XG4gICAgICB2YXIgZHggPSBzZWxmLnRpbWVsaW5lLnguaW52ZXJ0KG1vdXNlWzBdKTtcbiAgICAgIGR4ID0gZHguZ2V0VGltZSgpO1xuICAgICAgZHggPSBkeCAvIDEwMDAgLSBjdXJyZW50RG9tYWluU3RhcnQgLyAxMDAwO1xuICAgICAgZHggPSBrZXlfZGF0YS50aW1lICsgZHg7XG5cbiAgICAgIHZhciBzZWxlY3Rpb24gPSBzZWxmLnRpbWVsaW5lLnNlbGVjdGlvbk1hbmFnZXIuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICB2YXIgc2VsZWN0aW9uX2ZpcnN0X3RpbWUgPSBmYWxzZTtcbiAgICAgIHZhciBzZWxlY3Rpb25fbGFzdF90aW1lID0gZmFsc2U7XG4gICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCkge1xuICAgICAgICBzZWxlY3Rpb25fZmlyc3RfdGltZSA9IHNlbGVjdGlvblswXS50aW1lO1xuICAgICAgICBzZWxlY3Rpb25fbGFzdF90aW1lID0gc2VsZWN0aW9uW3NlbGVjdGlvbi5sZW5ndGggLSAxXS50aW1lO1xuICAgICAgfVxuXG4gICAgICBzZWxlY3Rpb24gPSBfLmZpbHRlcihzZWxlY3Rpb24sIChpdGVtKSA9PiB7cmV0dXJuIF8uaXNFcXVhbChpdGVtLCBrZXlfZGF0YSkgPT09IGZhbHNlO30pO1xuXG4gICAgICB2YXIgdGltZU1hdGNoID0gZmFsc2U7XG4gICAgICBpZiAoc291cmNlRXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgdGltZU1hdGNoID0gVXRpbHMuZ2V0Q2xvc2VzdFRpbWUodHdlZW5UaW1lLmRhdGEsIGR4LCBsaW5lRGF0YS5pZCwgcHJvcGVydHlEYXRhLm5hbWUsIHR3ZWVuVGltZS50aW1lcik7XG4gICAgICB9XG4gICAgICBpZiAodGltZU1hdGNoID09PSBmYWxzZSkge1xuICAgICAgICB0aW1lTWF0Y2ggPSBkeDtcbiAgICAgIH1cblxuICAgICAga2V5X2RhdGEudGltZSA9IHRpbWVNYXRjaDtcbiAgICAgIC8vIFNvcnQgdGhlIGtleXMgb2YgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgaXRlbS5cbiAgICAgIHByb3BlcnR5RGF0YS5rZXlzID0gVXRpbHMuc29ydEtleXMocHJvcGVydHlEYXRhLmtleXMpO1xuICAgICAgdmFyIHRpbWVfb2Zmc2V0ID0ga2V5X2RhdGEudGltZSAtIG9sZF90aW1lO1xuXG4gICAgICB2YXIgdXBkYXRlS2V5SXRlbSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgdmFyIHByb3BlcnR5ID0gaXRlbS5fcHJvcGVydHk7XG4gICAgICAgIHByb3BlcnR5Ll9saW5lLl9pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgcHJvcGVydHkua2V5cyA9IFV0aWxzLnNvcnRLZXlzKHByb3BlcnR5LmtleXMpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGtleV9zY2FsZSA9IGZhbHNlO1xuICAgICAgdmFyIGlzX2ZpcnN0ID0gZmFsc2U7XG4gICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCkge1xuICAgICAgICBpZiAoc291cmNlRXZlbnQuYWx0S2V5ICYmIHNlbGVjdGlvbl9maXJzdF90aW1lICE9PSBmYWxzZSAmJiBzZWxlY3Rpb25fbGFzdF90aW1lICE9PSBmYWxzZSkge1xuICAgICAgICAgIGlzX2ZpcnN0ID0gc2VsZWN0aW9uX2ZpcnN0X3RpbWUgPT09IG9sZF90aW1lO1xuICAgICAgICAgIGlmIChpc19maXJzdCkge1xuICAgICAgICAgICAga2V5X3NjYWxlID0gKHNlbGVjdGlvbl9sYXN0X3RpbWUgLSBrZXlfZGF0YS50aW1lKSAvIChzZWxlY3Rpb25fbGFzdF90aW1lIC0gb2xkX3RpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGtleV9zY2FsZSA9IChrZXlfZGF0YS50aW1lIC0gc2VsZWN0aW9uX2ZpcnN0X3RpbWUpIC8gKG9sZF90aW1lIC0gc2VsZWN0aW9uX2ZpcnN0X3RpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBzZWxlY3Rpb25baV07XG4gICAgICAgICAgaWYgKGtleV9zY2FsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRhdGEudGltZSArPSB0aW1lX29mZnNldDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoaXNfZmlyc3QpIHtcbiAgICAgICAgICAgICAgZGF0YS50aW1lID0gc2VsZWN0aW9uX2xhc3RfdGltZSAtIChzZWxlY3Rpb25fbGFzdF90aW1lIC0gZGF0YS50aW1lKSAqIGtleV9zY2FsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBkYXRhLnRpbWUgPSBzZWxlY3Rpb25fZmlyc3RfdGltZSArIChkYXRhLnRpbWUgLSBzZWxlY3Rpb25fZmlyc3RfdGltZSkgKiBrZXlfc2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwZGF0ZUtleUl0ZW0oZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGluZURhdGEuX2lzRGlydHkgPSB0cnVlO1xuICAgICAgc2VsZi5vbktleVVwZGF0ZWQuZGlzcGF0Y2goKTtcbiAgICB9O1xuXG4gICAgdmFyIHByb3BWYWx1ZSA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgIHJldHVybiBkLmtleXM7XG4gICAgfTtcbiAgICB2YXIgcHJvcEtleSA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgIGlmICghZC5faWQpIHtcbiAgICAgICAgZC5faWQgPSBVdGlscy5ndWlkKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZC5faWQ7XG4gICAgfTtcbiAgICB2YXIga2V5cyA9IHByb3BlcnRpZXMuc2VsZWN0KCcubGluZS1pdGVtX19rZXlzJykuc2VsZWN0QWxsKCcua2V5JykuZGF0YShwcm9wVmFsdWUsIHByb3BLZXkpO1xuXG4gICAgLy8gSGlkZSBrZXlzIGlmIGN1cnZlIGVkaXRvciBtb2RlLlxuICAgIHByb3BlcnRpZXMuc2VsZWN0KCcubGluZS1pdGVtX19rZXlzJykuYXR0cignZGlzcGxheScsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFzZWxmLnRpbWVsaW5lLmVkaXRvci5jdXJ2ZUVkaXRFbmFibGVkKSB7XG4gICAgICAgIHJldHVybiAnYmxvY2snO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdub25lJztcbiAgICB9KTtcblxuICAgIC8vIHNlbGVjdEtleSBpcyB0cmlnZ2VyZWQgYnkgZHJhZ3N0YXJ0IGV2ZW50XG4gICAgdmFyIHNlbGVjdEtleSA9IGZ1bmN0aW9uKGtleV9kYXRhKSB7XG4gICAgICB2YXIgZXZlbnQgPSBkMy5ldmVudDtcbiAgICAgIC8vIHdpdGggZHJhZ3N0YXJ0IGV2ZW50IHRoZSBtb3VzZXZlbnQgaXMgaXMgaW5zaWRlIHRoZSBldmVudC5zb3VyY0V2ZW50XG4gICAgICBpZiAoZXZlbnQuc291cmNlRXZlbnQpIHtcbiAgICAgICAgZXZlbnQgPSBldmVudC5zb3VyY2VFdmVudDtcbiAgICAgIH1cblxuICAgICAgdmFyIGFkZFRvU2VsZWN0aW9uID0gZXZlbnQuc2hpZnRLZXk7XG4gICAgICAvLyBpZiBlbGVtZW50IGlzIGFscmVhZHkgc2VsZWN0aW9ubmVkIGFuZCB3ZSBhcmUgb25cbiAgICAgIC8vIHRoZSBkcmFnc3RhcnQgZXZlbnQsIHdlIHN0b3AgdGhlcmUgc2luY2UgaXQgaXMgYWxyZWFkeSBzZWxlY3RlZC5cbiAgICAgIGlmIChkMy5ldmVudC50eXBlICYmIGQzLmV2ZW50LnR5cGUgPT09ICdkcmFnc3RhcnQnKSB7XG4gICAgICAgIGlmIChkMy5zZWxlY3QodGhpcykuY2xhc3NlZCgna2V5LS1zZWxlY3RlZCcpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEFsc28ga2VlcCBhIHJlZmVyZW5jZSB0byB0aGUga2V5IGRvbSBlbGVtZW50LlxuICAgICAga2V5X2RhdGEuX2RvbSA9IHRoaXM7XG5cbiAgICAgIHNlbGYudGltZWxpbmUuc2VsZWN0aW9uTWFuYWdlci5zZWxlY3Qoa2V5X2RhdGEsIGFkZFRvU2VsZWN0aW9uKTtcbiAgICB9O1xuXG4gICAgdmFyIGRyYWdlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYudGltZWxpbmUuZWRpdG9yLnVuZG9NYW5hZ2VyLmFkZFN0YXRlKCk7XG4gICAgfTtcblxuICAgIHZhciBkcmFnID0gZDMuYmVoYXZpb3IuZHJhZygpXG4gICAgICAub3JpZ2luKChkKSA9PiB7cmV0dXJuIGQ7fSlcbiAgICAgIC5vbignZHJhZycsIGRyYWdtb3ZlKVxuICAgICAgLm9uKCdkcmFnc3RhcnQnLCBzZWxlY3RLZXkpXG4gICAgICAub24oJ2RyYWdlbmQnLCBkcmFnZW5kKTtcblxuICAgIHZhciBrZXlfZ3JwID0ga2V5cy5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdrZXknKVxuICAgICAgLy8gVXNlIHRoZSB1bmlxdWUgaWQgYWRkZWQgaW4gcHJvcEtleSBhYm92ZSBmb3IgdGhlIGRvbSBlbGVtZW50IGlkLlxuICAgICAgLmF0dHIoJ2lkJywgKGQpID0+IHtyZXR1cm4gZC5faWQ7fSlcbiAgICAgIC5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIERvbid0IHRyaWdnZXIgbW91c2Vkb3duIG9uIGxpbmVzY29udGFpbmVyIGVsc2VcbiAgICAgICAgLy8gaXQgY3JlYXRlIHRoZSBzZWxlY3Rpb24gcmVjdGFuZ2xlXG4gICAgICAgIGQzLmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSlcbiAgICAgIC5jYWxsKGRyYWcpO1xuXG4gICAgcHJvcGVydGllcy5zZWxlY3RBbGwoJy5rZXknKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24oZCkge1xuICAgICAgICB2YXIgY2xzID0gJ2tleSc7XG4gICAgICAgIC8vIGtlZXAgc2VsZWN0ZWQgY2xhc3NcbiAgICAgICAgaWYgKGQzLnNlbGVjdCh0aGlzKS5jbGFzc2VkKCdrZXktLXNlbGVjdGVkJykpIHtcbiAgICAgICAgICBjbHMgKz0gJyBrZXktLXNlbGVjdGVkJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZC5lYXNlKSB7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZC5lYXNlKSkge1xuICAgICAgICAgICAgY2xzICs9ICcgZWFzZUN1c3RvbSdcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZWFzZSA9IGQuZWFzZS5zcGxpdCgnLicpO1xuICAgICAgICAgICAgaWYgKGVhc2UubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgIGNscyArPSAnICcgKyBlYXNlWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIElmIG5vIGVhc2luZyBzcGVjaWZpZWQsIHRoZSBpdCdzIHRoZSBkZWZhdWx0IFF1YWQuZWFzZU91dFxuICAgICAgICAgIGNscyArPSAnIGVhc2VPdXQnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbHM7XG4gICAgICB9KTtcblxuICAgIHZhciBncnBfbGluZWFyID0ga2V5X2dycC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Vhc2UtbGluZWFyJyk7XG4gICAgZ3JwX2xpbmVhci5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2tleV9fc2hhcGUtYXJyb3cnKVxuICAgICAgLmF0dHIoJ2QnLCAnTSAwIC02IEwgNiAwIEwgMCA2Jyk7XG4gICAgZ3JwX2xpbmVhci5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2tleV9fc2hhcGUtYXJyb3cnKVxuICAgICAgLmF0dHIoJ2QnLCAnTSAwIC02IEwgLTYgMCBMIDAgNicpO1xuXG4gICAgdmFyIGdycF9pbiA9IGtleV9ncnAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdlYXNlLWluJyk7XG4gICAgZ3JwX2luLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAna2V5X19zaGFwZS1yZWN0JylcbiAgICAgIC5hdHRyKCdkJywgJ00gMCAtNiBMIDAgNiBMIDQgNSBMIDEgMCBMIDQgLTUnKTtcbiAgICBncnBfaW4uYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdrZXlfX3NoYXBlLWFycm93JylcbiAgICAgIC5hdHRyKCdkJywgJ00gMCAtNiBMIC02IDAgTCAwIDYnKTtcblxuICAgIHZhciBncnBfb3V0ID0ga2V5X2dycC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Vhc2Utb3V0Jyk7XG4gICAgZ3JwX291dC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2tleV9fc2hhcGUtcmVjdCcpXG4gICAgICAuYXR0cignZCcsICdNIDAgLTYgTCAwIDYgTCAtNCA1IEwgLTEgMCBMIC00IC01Jyk7XG4gICAgZ3JwX291dC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2tleV9fc2hhcGUtYXJyb3cnKVxuICAgICAgLmF0dHIoJ2QnLCAnTSAwIC02IEwgNiAwIEwgMCA2Jyk7XG5cbiAgICB2YXIgZ3JwX2lub3V0ID0ga2V5X2dycC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Vhc2UtaW5vdXQnKTtcbiAgICBncnBfaW5vdXQuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgLmF0dHIoJ2N4JywgMClcbiAgICAgIC5hdHRyKCdjeScsIDApXG4gICAgICAuYXR0cigncicsIDUpO1xuXG4gICAgdmFyIGdycF9jdXN0b20gPSBrZXlfZ3JwLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnZWFzZS1jdXN0b20nKTtcbiAgICBncnBfY3VzdG9tLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAna2V5X19zaGFwZS1hcnJvdycpXG4gICAgICAuYXR0cignZCcsICdNIDAgLTYgTCA2IDAgTCAwIDYnKVxuICAgICAgLmF0dHIoe1xuICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUsIDApJ1xuICAgICAgfSk7XG5cbiAgICB2YXIgZzIgPSBncnBfY3VzdG9tLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cih7XG4gICAgICAgIHRyYW5zZm9ybTogJ3NjYWxlKC0xLCAxKSB0cmFuc2xhdGUoLTUsIDApJ1xuICAgICAgfSk7XG5cbiAgICBnMi5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2tleV9fc2hhcGUtYXJyb3cnKVxuICAgICAgLmF0dHIoJ2QnLCAnTSAwIC02IEwgNiAwIEwgMCA2Jyk7XG5cbiAgICBrZXlzLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uKGQpIHtcbiAgICAgIHZhciBkeCA9IHNlbGYudGltZWxpbmUueChkLnRpbWUgKiAxMDAwKTtcbiAgICAgIGR4ID0gcGFyc2VJbnQoZHgsIDEwKTtcbiAgICAgIHZhciBkeSA9IDEwO1xuICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIGR4ICsgJywnICsgZHkgKyAnKSc7XG4gICAgfSk7XG5cbiAgICBrZXlzLmV4aXQoKS5yZW1vdmUoKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZ3JhcGgvS2V5cy5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 22 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Errors = function () {\n  function Errors(timeline) {\n    _classCallCheck(this, Errors);\n\n    this.timeline = timeline;\n  }\n\n  _createClass(Errors, [{\n    key: 'render',\n    value: function render(properties) {\n      var self = this;\n      var subGrp = self.timeline.properties.subGrp;\n      var propertiesWithError = function propertiesWithError(d) {\n        return d.errors !== undefined;\n      };\n      // use insert with :first-child to prepend.\n      subGrp.insert('svg', ':first-child').attr('class', 'line-item__errors').attr('width', window.innerWidth - self.timeline.label_position_x).attr('height', self.timeline.lineHeight);\n\n      var errorsValue = function errorsValue(d) {\n        return d.errors;\n      };\n      var errorTime = function errorTime(d) {\n        return d.time;\n      };\n\n      var errors = properties.filter(propertiesWithError).select('.line-item__errors').selectAll('.error').data(errorsValue, errorTime);\n\n      errors.enter().append('rect').attr('class', 'error').attr('width', 4).attr('height', self.timeline.lineHeight - 1).attr('y', '1');\n\n      properties.selectAll('.error').attr('x', function (d) {\n        var dx;\n        dx = self.timeline.x(d.time * 1000);\n        return dx;\n      });\n\n      errors.exit().remove();\n    }\n  }]);\n\n  return Errors;\n}();\n\nexports.default = Errors;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9FcnJvcnMuanM/OWVmMSJdLCJuYW1lcyI6WyJFcnJvcnMiLCJ0aW1lbGluZSIsInByb3BlcnRpZXMiLCJzZWxmIiwic3ViR3JwIiwicHJvcGVydGllc1dpdGhFcnJvciIsImQiLCJlcnJvcnMiLCJ1bmRlZmluZWQiLCJpbnNlcnQiLCJhdHRyIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImxhYmVsX3Bvc2l0aW9uX3giLCJsaW5lSGVpZ2h0IiwiZXJyb3JzVmFsdWUiLCJlcnJvclRpbWUiLCJ0aW1lIiwiZmlsdGVyIiwic2VsZWN0Iiwic2VsZWN0QWxsIiwiZGF0YSIsImVudGVyIiwiYXBwZW5kIiwiZHgiLCJ4IiwiZXhpdCIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFxQkEsTTtBQUNuQixrQkFBWUMsUUFBWixFQUFzQjtBQUFBOztBQUNwQixTQUFLQSxRQUFMLEdBQWdCQSxRQUFoQjtBQUNEOzs7OzJCQUVNQyxVLEVBQVk7QUFDakIsVUFBSUMsT0FBTyxJQUFYO0FBQ0EsVUFBSUMsU0FBU0QsS0FBS0YsUUFBTCxDQUFjQyxVQUFkLENBQXlCRSxNQUF0QztBQUNBLFVBQUlDLHNCQUFzQixTQUF0QkEsbUJBQXNCLENBQVNDLENBQVQsRUFBWTtBQUNwQyxlQUFPQSxFQUFFQyxNQUFGLEtBQWFDLFNBQXBCO0FBQ0QsT0FGRDtBQUdBO0FBQ0FKLGFBQU9LLE1BQVAsQ0FBYyxLQUFkLEVBQXFCLGNBQXJCLEVBQ0dDLElBREgsQ0FDUSxPQURSLEVBQ2lCLG1CQURqQixFQUVHQSxJQUZILENBRVEsT0FGUixFQUVpQkMsT0FBT0MsVUFBUCxHQUFvQlQsS0FBS0YsUUFBTCxDQUFjWSxnQkFGbkQsRUFHR0gsSUFISCxDQUdRLFFBSFIsRUFHa0JQLEtBQUtGLFFBQUwsQ0FBY2EsVUFIaEM7O0FBS0EsVUFBSUMsY0FBYyxTQUFkQSxXQUFjLENBQVNULENBQVQsRUFBWTtBQUM1QixlQUFPQSxFQUFFQyxNQUFUO0FBQ0QsT0FGRDtBQUdBLFVBQUlTLFlBQVksU0FBWkEsU0FBWSxDQUFTVixDQUFULEVBQVk7QUFDMUIsZUFBT0EsRUFBRVcsSUFBVDtBQUNELE9BRkQ7O0FBSUEsVUFBSVYsU0FBU0wsV0FBV2dCLE1BQVgsQ0FBa0JiLG1CQUFsQixFQUNWYyxNQURVLENBQ0gsb0JBREcsRUFDbUJDLFNBRG5CLENBQzZCLFFBRDdCLEVBRVZDLElBRlUsQ0FFTE4sV0FGSyxFQUVRQyxTQUZSLENBQWI7O0FBSUFULGFBQU9lLEtBQVAsR0FBZUMsTUFBZixDQUFzQixNQUF0QixFQUNHYixJQURILENBQ1EsT0FEUixFQUNpQixPQURqQixFQUVHQSxJQUZILENBRVEsT0FGUixFQUVpQixDQUZqQixFQUdHQSxJQUhILENBR1EsUUFIUixFQUdrQlAsS0FBS0YsUUFBTCxDQUFjYSxVQUFkLEdBQTJCLENBSDdDLEVBSUdKLElBSkgsQ0FJUSxHQUpSLEVBSWEsR0FKYjs7QUFNQVIsaUJBQVdrQixTQUFYLENBQXFCLFFBQXJCLEVBQStCVixJQUEvQixDQUFvQyxHQUFwQyxFQUF5QyxVQUFTSixDQUFULEVBQVk7QUFDbkQsWUFBSWtCLEVBQUo7QUFDQUEsYUFBS3JCLEtBQUtGLFFBQUwsQ0FBY3dCLENBQWQsQ0FBZ0JuQixFQUFFVyxJQUFGLEdBQVMsSUFBekIsQ0FBTDtBQUNBLGVBQU9PLEVBQVA7QUFDRCxPQUpEOztBQU1BakIsYUFBT21CLElBQVAsR0FBY0MsTUFBZDtBQUNEOzs7Ozs7a0JBekNrQjNCLE0iLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBFcnJvcnMge1xuICBjb25zdHJ1Y3Rvcih0aW1lbGluZSkge1xuICAgIHRoaXMudGltZWxpbmUgPSB0aW1lbGluZTtcbiAgfVxuXG4gIHJlbmRlcihwcm9wZXJ0aWVzKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBzdWJHcnAgPSBzZWxmLnRpbWVsaW5lLnByb3BlcnRpZXMuc3ViR3JwO1xuICAgIHZhciBwcm9wZXJ0aWVzV2l0aEVycm9yID0gZnVuY3Rpb24oZCkge1xuICAgICAgcmV0dXJuIGQuZXJyb3JzICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvLyB1c2UgaW5zZXJ0IHdpdGggOmZpcnN0LWNoaWxkIHRvIHByZXBlbmQuXG4gICAgc3ViR3JwLmluc2VydCgnc3ZnJywgJzpmaXJzdC1jaGlsZCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAnbGluZS1pdGVtX19lcnJvcnMnKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgd2luZG93LmlubmVyV2lkdGggLSBzZWxmLnRpbWVsaW5lLmxhYmVsX3Bvc2l0aW9uX3gpXG4gICAgICAuYXR0cignaGVpZ2h0Jywgc2VsZi50aW1lbGluZS5saW5lSGVpZ2h0KTtcblxuICAgIHZhciBlcnJvcnNWYWx1ZSA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgIHJldHVybiBkLmVycm9ycztcbiAgICB9O1xuICAgIHZhciBlcnJvclRpbWUgPSBmdW5jdGlvbihkKSB7XG4gICAgICByZXR1cm4gZC50aW1lO1xuICAgIH07XG5cbiAgICB2YXIgZXJyb3JzID0gcHJvcGVydGllcy5maWx0ZXIocHJvcGVydGllc1dpdGhFcnJvcilcbiAgICAgIC5zZWxlY3QoJy5saW5lLWl0ZW1fX2Vycm9ycycpLnNlbGVjdEFsbCgnLmVycm9yJylcbiAgICAgIC5kYXRhKGVycm9yc1ZhbHVlLCBlcnJvclRpbWUpO1xuXG4gICAgZXJyb3JzLmVudGVyKCkuYXBwZW5kKCdyZWN0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdlcnJvcicpXG4gICAgICAuYXR0cignd2lkdGgnLCA0KVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIHNlbGYudGltZWxpbmUubGluZUhlaWdodCAtIDEpXG4gICAgICAuYXR0cigneScsICcxJyk7XG5cbiAgICBwcm9wZXJ0aWVzLnNlbGVjdEFsbCgnLmVycm9yJykuYXR0cigneCcsIGZ1bmN0aW9uKGQpIHtcbiAgICAgIHZhciBkeDtcbiAgICAgIGR4ID0gc2VsZi50aW1lbGluZS54KGQudGltZSAqIDEwMDApO1xuICAgICAgcmV0dXJuIGR4O1xuICAgIH0pO1xuXG4gICAgZXJyb3JzLmV4aXQoKS5yZW1vdmUoKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZ3JhcGgvRXJyb3JzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar d3 = __webpack_require__(15);\n\nvar Selection = function () {\n  function Selection(timeline, svg, margin) {\n    _classCallCheck(this, Selection);\n\n    this.timeline = timeline;\n    this.svg = svg;\n    this.margin = margin;\n\n    this.onMouseUp = this.onMouseUp.bind(this);\n    this.init();\n  }\n\n  _createClass(Selection, [{\n    key: 'onMouseUp',\n    value: function onMouseUp() {\n      this.svg.selectAll('.selection').remove();\n      // Enable again the default browser text selection.\n      // Disabled this because is was causing problems with text higlhlighting\n      // $('body').css({\n      //   'user-select': 'all'\n      // });\n    }\n  }, {\n    key: 'init',\n    value: function init() {\n      var self = this;\n      this.svg.on('mousedown', function () {\n        var p = d3.mouse(this);\n        // Only init selection if we click on the timeline and not on the labels.\n        if (p[0] < self.timeline.margin.left) {\n          return;\n        }\n        self.svg.append('rect').attr({\n          class: 'selection',\n          x: p[0],\n          y: p[1],\n          width: 0,\n          height: 0\n        });\n        // Unselect items.\n        self.timeline.selectionManager.reset();\n        // Prevent default browser text selection.\n        $('body').css({\n          'user-select': 'none'\n        });\n      }).on('mousemove', function () {\n        var s = self.svg.select('.selection');\n        if (s.empty()) {\n          return;\n        }\n        var p = d3.mouse(this);\n        var d = {\n          x: parseInt(s.attr('x'), 10),\n          y: parseInt(s.attr('y'), 10),\n          width: parseInt(s.attr('width'), 10),\n          height: parseInt(s.attr('height'), 10)\n        };\n        // Apply margin to mouse selection.\n        p[0] = Math.max(self.margin.left, p[0]);\n\n        var move = {\n          x: p[0] - d.x,\n          y: p[1] - d.y\n        };\n        if (move.x < 1 || move.x * 2 < d.width) {\n          d.x = p[0];\n          d.width -= move.x;\n        } else {\n          d.width = move.x;\n        }\n\n        if (move.y < 1 || move.y * 2 < d.height) {\n          d.y = p[1];\n          d.height -= move.y;\n        } else {\n          d.height = move.y;\n        }\n\n        s.attr(d);\n\n        // remove margins from selection\n        d.x -= self.margin.left;\n        var key_width = 6;\n\n        d.timeStart = self.timeline.x.invert(d.x - key_width).getTime() / 1000;\n        d.timeEnd = self.timeline.x.invert(d.x + d.width + key_width).getTime() / 1000;\n        var containerBounding = self.svg[0][0].getBoundingClientRect();\n\n        // deselect all previously selected items\n        d3.selectAll('.key--selected').classed('key--selected', false);\n        self.timeline.selectionManager.reset();\n        var selection = [];\n        d3.selectAll('.key').each(function (key_data) {\n          var item_data = key_data._property._line;\n\n          // Also keep a reference to the key dom element.\n          key_data._dom = this;\n\n          if (item_data.collapsed !== true) {\n            var itemBounding = d3.select(this)[0][0].getBoundingClientRect();\n            var y = itemBounding.top - containerBounding.top;\n            if (key_data.time >= d.timeStart && key_data.time <= d.timeEnd) {\n              // use or condition for top and bottom\n              if (y >= d.y && y <= d.y + d.height || y + 10 >= d.y && y + 10 <= d.y + d.height) {\n                d3.select(this).classed('key--selected', true);\n\n                selection.push(key_data);\n              }\n            }\n          }\n        });\n        self.timeline.selectionManager.select(selection);\n      });\n      // Attach the mouseup event to window so that it catch it event if\n      // mouseup happen outside of the browser window.\n      $(window).on('mouseup', this.onMouseUp);\n    }\n  }]);\n\n  return Selection;\n}();\n\nexports.default = Selection;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9TZWxlY3Rpb24uanM/MzRhZiJdLCJuYW1lcyI6WyJkMyIsInJlcXVpcmUiLCJTZWxlY3Rpb24iLCJ0aW1lbGluZSIsInN2ZyIsIm1hcmdpbiIsIm9uTW91c2VVcCIsImJpbmQiLCJpbml0Iiwic2VsZWN0QWxsIiwicmVtb3ZlIiwic2VsZiIsIm9uIiwicCIsIm1vdXNlIiwibGVmdCIsImFwcGVuZCIsImF0dHIiLCJjbGFzcyIsIngiLCJ5Iiwid2lkdGgiLCJoZWlnaHQiLCJzZWxlY3Rpb25NYW5hZ2VyIiwicmVzZXQiLCIkIiwiY3NzIiwicyIsInNlbGVjdCIsImVtcHR5IiwiZCIsInBhcnNlSW50IiwiTWF0aCIsIm1heCIsIm1vdmUiLCJrZXlfd2lkdGgiLCJ0aW1lU3RhcnQiLCJpbnZlcnQiLCJnZXRUaW1lIiwidGltZUVuZCIsImNvbnRhaW5lckJvdW5kaW5nIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xhc3NlZCIsInNlbGVjdGlvbiIsImVhY2giLCJrZXlfZGF0YSIsIml0ZW1fZGF0YSIsIl9wcm9wZXJ0eSIsIl9saW5lIiwiX2RvbSIsImNvbGxhcHNlZCIsIml0ZW1Cb3VuZGluZyIsInRvcCIsInRpbWUiLCJwdXNoIiwid2luZG93Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsSUFBSUEsS0FBSyxtQkFBQUMsQ0FBUSxFQUFSLENBQVQ7O0lBRXFCQyxTO0FBQ25CLHFCQUFZQyxRQUFaLEVBQXNCQyxHQUF0QixFQUEyQkMsTUFBM0IsRUFBbUM7QUFBQTs7QUFDakMsU0FBS0YsUUFBTCxHQUFnQkEsUUFBaEI7QUFDQSxTQUFLQyxHQUFMLEdBQVdBLEdBQVg7QUFDQSxTQUFLQyxNQUFMLEdBQWNBLE1BQWQ7O0FBRUEsU0FBS0MsU0FBTCxHQUFpQixLQUFLQSxTQUFMLENBQWVDLElBQWYsQ0FBb0IsSUFBcEIsQ0FBakI7QUFDQSxTQUFLQyxJQUFMO0FBQ0Q7Ozs7Z0NBRVc7QUFDVixXQUFLSixHQUFMLENBQVNLLFNBQVQsQ0FBbUIsWUFBbkIsRUFBaUNDLE1BQWpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNEOzs7MkJBRU07QUFDTCxVQUFJQyxPQUFPLElBQVg7QUFDQSxXQUFLUCxHQUFMLENBQVNRLEVBQVQsQ0FBWSxXQUFaLEVBQXlCLFlBQVc7QUFDbEMsWUFBSUMsSUFBSWIsR0FBR2MsS0FBSCxDQUFTLElBQVQsQ0FBUjtBQUNBO0FBQ0EsWUFBSUQsRUFBRSxDQUFGLElBQU9GLEtBQUtSLFFBQUwsQ0FBY0UsTUFBZCxDQUFxQlUsSUFBaEMsRUFBc0M7QUFDcEM7QUFDRDtBQUNESixhQUFLUCxHQUFMLENBQVNZLE1BQVQsQ0FBZ0IsTUFBaEIsRUFDR0MsSUFESCxDQUNRO0FBQ0pDLGlCQUFPLFdBREg7QUFFSkMsYUFBR04sRUFBRSxDQUFGLENBRkM7QUFHSk8sYUFBR1AsRUFBRSxDQUFGLENBSEM7QUFJSlEsaUJBQU8sQ0FKSDtBQUtKQyxrQkFBUTtBQUxKLFNBRFI7QUFRQTtBQUNBWCxhQUFLUixRQUFMLENBQWNvQixnQkFBZCxDQUErQkMsS0FBL0I7QUFDQTtBQUNBQyxVQUFFLE1BQUYsRUFBVUMsR0FBVixDQUFjO0FBQ1oseUJBQWU7QUFESCxTQUFkO0FBR0QsT0FwQkQsRUFvQkdkLEVBcEJILENBb0JNLFdBcEJOLEVBb0JtQixZQUFXO0FBQzVCLFlBQUllLElBQUloQixLQUFLUCxHQUFMLENBQVN3QixNQUFULENBQWdCLFlBQWhCLENBQVI7QUFDQSxZQUFJRCxFQUFFRSxLQUFGLEVBQUosRUFBZTtBQUNiO0FBQ0Q7QUFDRCxZQUFJaEIsSUFBSWIsR0FBR2MsS0FBSCxDQUFTLElBQVQsQ0FBUjtBQUNBLFlBQUlnQixJQUFJO0FBQ05YLGFBQUdZLFNBQVNKLEVBQUVWLElBQUYsQ0FBTyxHQUFQLENBQVQsRUFBc0IsRUFBdEIsQ0FERztBQUVORyxhQUFHVyxTQUFTSixFQUFFVixJQUFGLENBQU8sR0FBUCxDQUFULEVBQXNCLEVBQXRCLENBRkc7QUFHTkksaUJBQU9VLFNBQVNKLEVBQUVWLElBQUYsQ0FBTyxPQUFQLENBQVQsRUFBMEIsRUFBMUIsQ0FIRDtBQUlOSyxrQkFBUVMsU0FBU0osRUFBRVYsSUFBRixDQUFPLFFBQVAsQ0FBVCxFQUEyQixFQUEzQjtBQUpGLFNBQVI7QUFNQTtBQUNBSixVQUFFLENBQUYsSUFBT21CLEtBQUtDLEdBQUwsQ0FBU3RCLEtBQUtOLE1BQUwsQ0FBWVUsSUFBckIsRUFBMkJGLEVBQUUsQ0FBRixDQUEzQixDQUFQOztBQUVBLFlBQUlxQixPQUFPO0FBQ1RmLGFBQUdOLEVBQUUsQ0FBRixJQUFPaUIsRUFBRVgsQ0FESDtBQUVUQyxhQUFHUCxFQUFFLENBQUYsSUFBT2lCLEVBQUVWO0FBRkgsU0FBWDtBQUlBLFlBQUljLEtBQUtmLENBQUwsR0FBUyxDQUFULElBQWNlLEtBQUtmLENBQUwsR0FBUyxDQUFULEdBQWFXLEVBQUVULEtBQWpDLEVBQXdDO0FBQ3RDUyxZQUFFWCxDQUFGLEdBQU1OLEVBQUUsQ0FBRixDQUFOO0FBQ0FpQixZQUFFVCxLQUFGLElBQVdhLEtBQUtmLENBQWhCO0FBQ0QsU0FIRCxNQUlLO0FBQ0hXLFlBQUVULEtBQUYsR0FBVWEsS0FBS2YsQ0FBZjtBQUNEOztBQUVELFlBQUllLEtBQUtkLENBQUwsR0FBUyxDQUFULElBQWNjLEtBQUtkLENBQUwsR0FBUyxDQUFULEdBQWFVLEVBQUVSLE1BQWpDLEVBQXlDO0FBQ3ZDUSxZQUFFVixDQUFGLEdBQU1QLEVBQUUsQ0FBRixDQUFOO0FBQ0FpQixZQUFFUixNQUFGLElBQVlZLEtBQUtkLENBQWpCO0FBQ0QsU0FIRCxNQUlLO0FBQ0hVLFlBQUVSLE1BQUYsR0FBV1ksS0FBS2QsQ0FBaEI7QUFDRDs7QUFFRE8sVUFBRVYsSUFBRixDQUFPYSxDQUFQOztBQUVBO0FBQ0FBLFVBQUVYLENBQUYsSUFBT1IsS0FBS04sTUFBTCxDQUFZVSxJQUFuQjtBQUNBLFlBQUlvQixZQUFZLENBQWhCOztBQUVBTCxVQUFFTSxTQUFGLEdBQWN6QixLQUFLUixRQUFMLENBQWNnQixDQUFkLENBQWdCa0IsTUFBaEIsQ0FBdUJQLEVBQUVYLENBQUYsR0FBTWdCLFNBQTdCLEVBQXdDRyxPQUF4QyxLQUFvRCxJQUFsRTtBQUNBUixVQUFFUyxPQUFGLEdBQVk1QixLQUFLUixRQUFMLENBQWNnQixDQUFkLENBQWdCa0IsTUFBaEIsQ0FBdUJQLEVBQUVYLENBQUYsR0FBTVcsRUFBRVQsS0FBUixHQUFnQmMsU0FBdkMsRUFBa0RHLE9BQWxELEtBQThELElBQTFFO0FBQ0EsWUFBSUUsb0JBQW9CN0IsS0FBS1AsR0FBTCxDQUFTLENBQVQsRUFBWSxDQUFaLEVBQWVxQyxxQkFBZixFQUF4Qjs7QUFFQTtBQUNBekMsV0FBR1MsU0FBSCxDQUFhLGdCQUFiLEVBQStCaUMsT0FBL0IsQ0FBdUMsZUFBdkMsRUFBd0QsS0FBeEQ7QUFDQS9CLGFBQUtSLFFBQUwsQ0FBY29CLGdCQUFkLENBQStCQyxLQUEvQjtBQUNBLFlBQUltQixZQUFZLEVBQWhCO0FBQ0EzQyxXQUFHUyxTQUFILENBQWEsTUFBYixFQUFxQm1DLElBQXJCLENBQTJCLFVBQVNDLFFBQVQsRUFBbUI7QUFDNUMsY0FBTUMsWUFBWUQsU0FBU0UsU0FBVCxDQUFtQkMsS0FBckM7O0FBRUE7QUFDQUgsbUJBQVNJLElBQVQsR0FBZ0IsSUFBaEI7O0FBRUEsY0FBSUgsVUFBVUksU0FBVixLQUF3QixJQUE1QixFQUFrQztBQUNoQyxnQkFBSUMsZUFBZW5ELEdBQUc0QixNQUFILENBQVUsSUFBVixFQUFnQixDQUFoQixFQUFtQixDQUFuQixFQUFzQmEscUJBQXRCLEVBQW5CO0FBQ0EsZ0JBQUlyQixJQUFJK0IsYUFBYUMsR0FBYixHQUFtQlosa0JBQWtCWSxHQUE3QztBQUNBLGdCQUFJUCxTQUFTUSxJQUFULElBQWlCdkIsRUFBRU0sU0FBbkIsSUFBZ0NTLFNBQVNRLElBQVQsSUFBaUJ2QixFQUFFUyxPQUF2RCxFQUFnRTtBQUM5RDtBQUNBLGtCQUFJbkIsS0FBS1UsRUFBRVYsQ0FBUCxJQUFZQSxLQUFLVSxFQUFFVixDQUFGLEdBQU1VLEVBQUVSLE1BQXpCLElBQW1DRixJQUFJLEVBQUosSUFBVVUsRUFBRVYsQ0FBWixJQUFpQkEsSUFBSSxFQUFKLElBQVVVLEVBQUVWLENBQUYsR0FBTVUsRUFBRVIsTUFBMUUsRUFBa0Y7QUFDaEZ0QixtQkFBRzRCLE1BQUgsQ0FBVSxJQUFWLEVBQWdCYyxPQUFoQixDQUF3QixlQUF4QixFQUF5QyxJQUF6Qzs7QUFFQUMsMEJBQVVXLElBQVYsQ0FBZVQsUUFBZjtBQUNEO0FBQ0Y7QUFDRjtBQUNGLFNBbEJEO0FBbUJBbEMsYUFBS1IsUUFBTCxDQUFjb0IsZ0JBQWQsQ0FBK0JLLE1BQS9CLENBQXNDZSxTQUF0QztBQUNELE9BekZEO0FBMEZBO0FBQ0E7QUFDQWxCLFFBQUU4QixNQUFGLEVBQVUzQyxFQUFWLENBQWEsU0FBYixFQUF3QixLQUFLTixTQUE3QjtBQUNEOzs7Ozs7a0JBbEhrQkosUyIsImZpbGUiOiIyMy5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBkMyA9IHJlcXVpcmUoJ2QzJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlbGVjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHRpbWVsaW5lLCBzdmcsIG1hcmdpbikge1xuICAgIHRoaXMudGltZWxpbmUgPSB0aW1lbGluZTtcbiAgICB0aGlzLnN2ZyA9IHN2ZztcbiAgICB0aGlzLm1hcmdpbiA9IG1hcmdpbjtcblxuICAgIHRoaXMub25Nb3VzZVVwID0gdGhpcy5vbk1vdXNlVXAuYmluZCh0aGlzKTtcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIG9uTW91c2VVcCgpIHtcbiAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoJy5zZWxlY3Rpb24nKS5yZW1vdmUoKTtcbiAgICAvLyBFbmFibGUgYWdhaW4gdGhlIGRlZmF1bHQgYnJvd3NlciB0ZXh0IHNlbGVjdGlvbi5cbiAgICAvLyBEaXNhYmxlZCB0aGlzIGJlY2F1c2UgaXMgd2FzIGNhdXNpbmcgcHJvYmxlbXMgd2l0aCB0ZXh0IGhpZ2xobGlnaHRpbmdcbiAgICAvLyAkKCdib2R5JykuY3NzKHtcbiAgICAvLyAgICd1c2VyLXNlbGVjdCc6ICdhbGwnXG4gICAgLy8gfSk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLnN2Zy5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcCA9IGQzLm1vdXNlKHRoaXMpO1xuICAgICAgLy8gT25seSBpbml0IHNlbGVjdGlvbiBpZiB3ZSBjbGljayBvbiB0aGUgdGltZWxpbmUgYW5kIG5vdCBvbiB0aGUgbGFiZWxzLlxuICAgICAgaWYgKHBbMF0gPCBzZWxmLnRpbWVsaW5lLm1hcmdpbi5sZWZ0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlbGYuc3ZnLmFwcGVuZCgncmVjdCcpXG4gICAgICAgIC5hdHRyKHtcbiAgICAgICAgICBjbGFzczogJ3NlbGVjdGlvbicsXG4gICAgICAgICAgeDogcFswXSxcbiAgICAgICAgICB5OiBwWzFdLFxuICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgIGhlaWdodDogMFxuICAgICAgICB9KTtcbiAgICAgIC8vIFVuc2VsZWN0IGl0ZW1zLlxuICAgICAgc2VsZi50aW1lbGluZS5zZWxlY3Rpb25NYW5hZ2VyLnJlc2V0KCk7XG4gICAgICAvLyBQcmV2ZW50IGRlZmF1bHQgYnJvd3NlciB0ZXh0IHNlbGVjdGlvbi5cbiAgICAgICQoJ2JvZHknKS5jc3Moe1xuICAgICAgICAndXNlci1zZWxlY3QnOiAnbm9uZSdcbiAgICAgIH0pO1xuICAgIH0pLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzID0gc2VsZi5zdmcuc2VsZWN0KCcuc2VsZWN0aW9uJyk7XG4gICAgICBpZiAocy5lbXB0eSgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBwID0gZDMubW91c2UodGhpcyk7XG4gICAgICB2YXIgZCA9IHtcbiAgICAgICAgeDogcGFyc2VJbnQocy5hdHRyKCd4JyksIDEwKSxcbiAgICAgICAgeTogcGFyc2VJbnQocy5hdHRyKCd5JyksIDEwKSxcbiAgICAgICAgd2lkdGg6IHBhcnNlSW50KHMuYXR0cignd2lkdGgnKSwgMTApLFxuICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KHMuYXR0cignaGVpZ2h0JyksIDEwKVxuICAgICAgfTtcbiAgICAgIC8vIEFwcGx5IG1hcmdpbiB0byBtb3VzZSBzZWxlY3Rpb24uXG4gICAgICBwWzBdID0gTWF0aC5tYXgoc2VsZi5tYXJnaW4ubGVmdCwgcFswXSk7XG5cbiAgICAgIHZhciBtb3ZlID0ge1xuICAgICAgICB4OiBwWzBdIC0gZC54LFxuICAgICAgICB5OiBwWzFdIC0gZC55XG4gICAgICB9O1xuICAgICAgaWYgKG1vdmUueCA8IDEgfHwgbW92ZS54ICogMiA8IGQud2lkdGgpIHtcbiAgICAgICAgZC54ID0gcFswXTtcbiAgICAgICAgZC53aWR0aCAtPSBtb3ZlLng7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZC53aWR0aCA9IG1vdmUueDtcbiAgICAgIH1cblxuICAgICAgaWYgKG1vdmUueSA8IDEgfHwgbW92ZS55ICogMiA8IGQuaGVpZ2h0KSB7XG4gICAgICAgIGQueSA9IHBbMV07XG4gICAgICAgIGQuaGVpZ2h0IC09IG1vdmUueTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBkLmhlaWdodCA9IG1vdmUueTtcbiAgICAgIH1cblxuICAgICAgcy5hdHRyKGQpO1xuXG4gICAgICAvLyByZW1vdmUgbWFyZ2lucyBmcm9tIHNlbGVjdGlvblxuICAgICAgZC54IC09IHNlbGYubWFyZ2luLmxlZnQ7XG4gICAgICB2YXIga2V5X3dpZHRoID0gNjtcblxuICAgICAgZC50aW1lU3RhcnQgPSBzZWxmLnRpbWVsaW5lLnguaW52ZXJ0KGQueCAtIGtleV93aWR0aCkuZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgIGQudGltZUVuZCA9IHNlbGYudGltZWxpbmUueC5pbnZlcnQoZC54ICsgZC53aWR0aCArIGtleV93aWR0aCkuZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgIHZhciBjb250YWluZXJCb3VuZGluZyA9IHNlbGYuc3ZnWzBdWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAvLyBkZXNlbGVjdCBhbGwgcHJldmlvdXNseSBzZWxlY3RlZCBpdGVtc1xuICAgICAgZDMuc2VsZWN0QWxsKCcua2V5LS1zZWxlY3RlZCcpLmNsYXNzZWQoJ2tleS0tc2VsZWN0ZWQnLCBmYWxzZSk7XG4gICAgICBzZWxmLnRpbWVsaW5lLnNlbGVjdGlvbk1hbmFnZXIucmVzZXQoKTtcbiAgICAgIHZhciBzZWxlY3Rpb24gPSBbXTtcbiAgICAgIGQzLnNlbGVjdEFsbCgnLmtleScpLmVhY2goIGZ1bmN0aW9uKGtleV9kYXRhKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1fZGF0YSA9IGtleV9kYXRhLl9wcm9wZXJ0eS5fbGluZTtcblxuICAgICAgICAvLyBBbHNvIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIGtleSBkb20gZWxlbWVudC5cbiAgICAgICAga2V5X2RhdGEuX2RvbSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGl0ZW1fZGF0YS5jb2xsYXBzZWQgIT09IHRydWUpIHtcbiAgICAgICAgICB2YXIgaXRlbUJvdW5kaW5nID0gZDMuc2VsZWN0KHRoaXMpWzBdWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgIHZhciB5ID0gaXRlbUJvdW5kaW5nLnRvcCAtIGNvbnRhaW5lckJvdW5kaW5nLnRvcDtcbiAgICAgICAgICBpZiAoa2V5X2RhdGEudGltZSA+PSBkLnRpbWVTdGFydCAmJiBrZXlfZGF0YS50aW1lIDw9IGQudGltZUVuZCkge1xuICAgICAgICAgICAgLy8gdXNlIG9yIGNvbmRpdGlvbiBmb3IgdG9wIGFuZCBib3R0b21cbiAgICAgICAgICAgIGlmICh5ID49IGQueSAmJiB5IDw9IGQueSArIGQuaGVpZ2h0IHx8IHkgKyAxMCA+PSBkLnkgJiYgeSArIDEwIDw9IGQueSArIGQuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5jbGFzc2VkKCdrZXktLXNlbGVjdGVkJywgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgc2VsZWN0aW9uLnB1c2goa2V5X2RhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzZWxmLnRpbWVsaW5lLnNlbGVjdGlvbk1hbmFnZXIuc2VsZWN0KHNlbGVjdGlvbik7XG4gICAgfSk7XG4gICAgLy8gQXR0YWNoIHRoZSBtb3VzZXVwIGV2ZW50IHRvIHdpbmRvdyBzbyB0aGF0IGl0IGNhdGNoIGl0IGV2ZW50IGlmXG4gICAgLy8gbW91c2V1cCBoYXBwZW4gb3V0c2lkZSBvZiB0aGUgYnJvd3NlciB3aW5kb3cuXG4gICAgJCh3aW5kb3cpLm9uKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXApO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ncmFwaC9TZWxlY3Rpb24uanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(25);\n\nvar _Property = __webpack_require__(26);\n\nvar _Property2 = _interopRequireDefault(_Property);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Signals = __webpack_require__(6);\n\n\nvar tpl_propertiesEditor = __webpack_require__(43);\n\nvar PropertiesEditor = function () {\n  function PropertiesEditor(editor) {\n    _classCallCheck(this, PropertiesEditor);\n\n    this.editor = editor;\n\n    this.render = this.render.bind(this);\n    this.addProperty = this.addProperty.bind(this);\n    this.onSelect = this.onSelect.bind(this);\n    this.onKeyAdded = this.onKeyAdded.bind(this);\n\n    this.timeline = this.editor.timeline;\n    this.timer = this.editor.timer;\n    this.selectionManager = editor.selectionManager;\n\n    this.$el = $(tpl_propertiesEditor());\n    this.$container = this.$el.find('.properties-editor__main');\n    // todo: rename keyAdded to updated\n    this.keyAdded = new Signals.Signal();\n    this.keyRemoved = new Signals.Signal();\n    this.items = [];\n\n    this.parentElement = editor.el;\n    // Close properties by default.\n    this.parentElement.addClass('properties-is-closed');\n    // Add the properties editor to the document.\n    this.parentElement.append(this.$el);\n\n    this.selectionManager.onSelect.add(this.onSelect);\n\n    // Stop event propagation to no play by accident.\n    this.$el.keypress(function (e) {\n      return e.stopPropagation();\n    });\n  }\n\n  _createClass(PropertiesEditor, [{\n    key: 'onKeyAdded',\n    value: function onKeyAdded() {\n      this.keyAdded.dispatch();\n    }\n  }, {\n    key: 'onSelect',\n    value: function onSelect() {\n      var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.items.forEach(function (item) {\n        item.remove();\n      });\n      this.items = [];\n      this.$container.empty();\n      if (data instanceof Array) {\n        for (var i = 0; i < data.length; i++) {\n          this.addProperty(data[i]);\n        }\n      } else {\n        this.addProperty(data);\n      }\n\n      // When selecting anything, automatically display the properties editor.\n      if (this.items.length) {\n        this.parentElement.removeClass('properties-is-closed');\n      }\n    }\n  }, {\n    key: 'addProperty',\n    value: function addProperty(data) {\n      var prop = new _Property2.default(this.editor, this.$container, data);\n      prop.keyAdded.add(this.onKeyAdded);\n      this.items.push(prop);\n    }\n  }, {\n    key: 'render',\n    value: function render(time, time_changed) {\n      if (!time_changed) {\n        return;\n      }\n      this.items.forEach(function (prop) {\n        prop.update();\n      });\n    }\n  }]);\n\n  return PropertiesEditor;\n}();\n\nexports.default = PropertiesEditor;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvUHJvcGVydGllc0VkaXRvci5qcz9kNWQ4Il0sIm5hbWVzIjpbIlNpZ25hbHMiLCJyZXF1aXJlIiwidHBsX3Byb3BlcnRpZXNFZGl0b3IiLCJQcm9wZXJ0aWVzRWRpdG9yIiwiZWRpdG9yIiwicmVuZGVyIiwiYmluZCIsImFkZFByb3BlcnR5Iiwib25TZWxlY3QiLCJvbktleUFkZGVkIiwidGltZWxpbmUiLCJ0aW1lciIsInNlbGVjdGlvbk1hbmFnZXIiLCIkZWwiLCIkIiwiJGNvbnRhaW5lciIsImZpbmQiLCJrZXlBZGRlZCIsIlNpZ25hbCIsImtleVJlbW92ZWQiLCJpdGVtcyIsInBhcmVudEVsZW1lbnQiLCJlbCIsImFkZENsYXNzIiwiYXBwZW5kIiwiYWRkIiwia2V5cHJlc3MiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiZGlzcGF0Y2giLCJkYXRhIiwiZm9yRWFjaCIsIml0ZW0iLCJyZW1vdmUiLCJlbXB0eSIsIkFycmF5IiwiaSIsImxlbmd0aCIsInJlbW92ZUNsYXNzIiwicHJvcCIsInB1c2giLCJ0aW1lIiwidGltZV9jaGFuZ2VkIiwidXBkYXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOztBQUVBOzs7Ozs7OztBQURBLElBQUlBLFVBQVUsbUJBQUFDLENBQVEsQ0FBUixDQUFkOzs7QUFHQSxJQUFJQyx1QkFBdUIsbUJBQUFELENBQVEsRUFBUixDQUEzQjs7SUFFcUJFLGdCO0FBQ25CLDRCQUFZQyxNQUFaLEVBQW9CO0FBQUE7O0FBQ2xCLFNBQUtBLE1BQUwsR0FBY0EsTUFBZDs7QUFFQSxTQUFLQyxNQUFMLEdBQWMsS0FBS0EsTUFBTCxDQUFZQyxJQUFaLENBQWlCLElBQWpCLENBQWQ7QUFDQSxTQUFLQyxXQUFMLEdBQW1CLEtBQUtBLFdBQUwsQ0FBaUJELElBQWpCLENBQXNCLElBQXRCLENBQW5CO0FBQ0EsU0FBS0UsUUFBTCxHQUFnQixLQUFLQSxRQUFMLENBQWNGLElBQWQsQ0FBbUIsSUFBbkIsQ0FBaEI7QUFDQSxTQUFLRyxVQUFMLEdBQWtCLEtBQUtBLFVBQUwsQ0FBZ0JILElBQWhCLENBQXFCLElBQXJCLENBQWxCOztBQUVBLFNBQUtJLFFBQUwsR0FBZ0IsS0FBS04sTUFBTCxDQUFZTSxRQUE1QjtBQUNBLFNBQUtDLEtBQUwsR0FBYSxLQUFLUCxNQUFMLENBQVlPLEtBQXpCO0FBQ0EsU0FBS0MsZ0JBQUwsR0FBd0JSLE9BQU9RLGdCQUEvQjs7QUFFQSxTQUFLQyxHQUFMLEdBQVdDLEVBQUVaLHNCQUFGLENBQVg7QUFDQSxTQUFLYSxVQUFMLEdBQWtCLEtBQUtGLEdBQUwsQ0FBU0csSUFBVCxDQUFjLDBCQUFkLENBQWxCO0FBQ0E7QUFDQSxTQUFLQyxRQUFMLEdBQWdCLElBQUlqQixRQUFRa0IsTUFBWixFQUFoQjtBQUNBLFNBQUtDLFVBQUwsR0FBa0IsSUFBSW5CLFFBQVFrQixNQUFaLEVBQWxCO0FBQ0EsU0FBS0UsS0FBTCxHQUFhLEVBQWI7O0FBRUEsU0FBS0MsYUFBTCxHQUFxQmpCLE9BQU9rQixFQUE1QjtBQUNBO0FBQ0EsU0FBS0QsYUFBTCxDQUFtQkUsUUFBbkIsQ0FBNEIsc0JBQTVCO0FBQ0E7QUFDQSxTQUFLRixhQUFMLENBQW1CRyxNQUFuQixDQUEwQixLQUFLWCxHQUEvQjs7QUFFQSxTQUFLRCxnQkFBTCxDQUFzQkosUUFBdEIsQ0FBK0JpQixHQUEvQixDQUFtQyxLQUFLakIsUUFBeEM7O0FBRUE7QUFDQSxTQUFLSyxHQUFMLENBQVNhLFFBQVQsQ0FBa0IsVUFBU0MsQ0FBVCxFQUFZO0FBQzVCLGFBQU9BLEVBQUVDLGVBQUYsRUFBUDtBQUNELEtBRkQ7QUFHRDs7OztpQ0FFWTtBQUNYLFdBQUtYLFFBQUwsQ0FBY1ksUUFBZDtBQUNEOzs7K0JBRXNCO0FBQUEsVUFBZEMsSUFBYyx1RUFBUCxLQUFPOztBQUNyQixXQUFLVixLQUFMLENBQVdXLE9BQVgsQ0FBbUIsVUFBQ0MsSUFBRCxFQUFVO0FBQUNBLGFBQUtDLE1BQUw7QUFBZSxPQUE3QztBQUNBLFdBQUtiLEtBQUwsR0FBYSxFQUFiO0FBQ0EsV0FBS0wsVUFBTCxDQUFnQm1CLEtBQWhCO0FBQ0EsVUFBSUosZ0JBQWdCSyxLQUFwQixFQUEyQjtBQUN6QixhQUFLLElBQUlDLElBQUksQ0FBYixFQUFnQkEsSUFBSU4sS0FBS08sTUFBekIsRUFBaUNELEdBQWpDLEVBQXNDO0FBQ3BDLGVBQUs3QixXQUFMLENBQWlCdUIsS0FBS00sQ0FBTCxDQUFqQjtBQUNEO0FBQ0YsT0FKRCxNQUtLO0FBQ0gsYUFBSzdCLFdBQUwsQ0FBaUJ1QixJQUFqQjtBQUNEOztBQUVEO0FBQ0EsVUFBSSxLQUFLVixLQUFMLENBQVdpQixNQUFmLEVBQXVCO0FBQ3JCLGFBQUtoQixhQUFMLENBQW1CaUIsV0FBbkIsQ0FBK0Isc0JBQS9CO0FBQ0Q7QUFDRjs7O2dDQUVXUixJLEVBQU07QUFDaEIsVUFBSVMsT0FBTyx1QkFBYSxLQUFLbkMsTUFBbEIsRUFBMEIsS0FBS1csVUFBL0IsRUFBMkNlLElBQTNDLENBQVg7QUFDQVMsV0FBS3RCLFFBQUwsQ0FBY1EsR0FBZCxDQUFrQixLQUFLaEIsVUFBdkI7QUFDQSxXQUFLVyxLQUFMLENBQVdvQixJQUFYLENBQWdCRCxJQUFoQjtBQUNEOzs7MkJBRU1FLEksRUFBTUMsWSxFQUFjO0FBQ3pCLFVBQUksQ0FBQ0EsWUFBTCxFQUFtQjtBQUNqQjtBQUNEO0FBQ0QsV0FBS3RCLEtBQUwsQ0FBV1csT0FBWCxDQUFtQixVQUFDUSxJQUFELEVBQVU7QUFBQ0EsYUFBS0ksTUFBTDtBQUFlLE9BQTdDO0FBQ0Q7Ozs7OztrQkFwRWtCeEMsZ0IiLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ2pxdWVyeSc7XG5sZXQgU2lnbmFscyA9IHJlcXVpcmUoJ2pzLXNpZ25hbHMnKTtcbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi9lZGl0b3IvUHJvcGVydHknO1xuXG5sZXQgdHBsX3Byb3BlcnRpZXNFZGl0b3IgPSByZXF1aXJlKCcuLy4uL3RlbXBsYXRlcy9wcm9wZXJ0aWVzRWRpdG9yLnRwbC5odG1sJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3BlcnRpZXNFZGl0b3Ige1xuICBjb25zdHJ1Y3RvcihlZGl0b3IpIHtcbiAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcblxuICAgIHRoaXMucmVuZGVyID0gdGhpcy5yZW5kZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmFkZFByb3BlcnR5ID0gdGhpcy5hZGRQcm9wZXJ0eS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25TZWxlY3QgPSB0aGlzLm9uU2VsZWN0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbktleUFkZGVkID0gdGhpcy5vbktleUFkZGVkLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLnRpbWVsaW5lID0gdGhpcy5lZGl0b3IudGltZWxpbmU7XG4gICAgdGhpcy50aW1lciA9IHRoaXMuZWRpdG9yLnRpbWVyO1xuICAgIHRoaXMuc2VsZWN0aW9uTWFuYWdlciA9IGVkaXRvci5zZWxlY3Rpb25NYW5hZ2VyO1xuXG4gICAgdGhpcy4kZWwgPSAkKHRwbF9wcm9wZXJ0aWVzRWRpdG9yKCkpO1xuICAgIHRoaXMuJGNvbnRhaW5lciA9IHRoaXMuJGVsLmZpbmQoJy5wcm9wZXJ0aWVzLWVkaXRvcl9fbWFpbicpO1xuICAgIC8vIHRvZG86IHJlbmFtZSBrZXlBZGRlZCB0byB1cGRhdGVkXG4gICAgdGhpcy5rZXlBZGRlZCA9IG5ldyBTaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMua2V5UmVtb3ZlZCA9IG5ldyBTaWduYWxzLlNpZ25hbCgpO1xuICAgIHRoaXMuaXRlbXMgPSBbXTtcblxuICAgIHRoaXMucGFyZW50RWxlbWVudCA9IGVkaXRvci5lbDtcbiAgICAvLyBDbG9zZSBwcm9wZXJ0aWVzIGJ5IGRlZmF1bHQuXG4gICAgdGhpcy5wYXJlbnRFbGVtZW50LmFkZENsYXNzKCdwcm9wZXJ0aWVzLWlzLWNsb3NlZCcpO1xuICAgIC8vIEFkZCB0aGUgcHJvcGVydGllcyBlZGl0b3IgdG8gdGhlIGRvY3VtZW50LlxuICAgIHRoaXMucGFyZW50RWxlbWVudC5hcHBlbmQodGhpcy4kZWwpO1xuXG4gICAgdGhpcy5zZWxlY3Rpb25NYW5hZ2VyLm9uU2VsZWN0LmFkZCh0aGlzLm9uU2VsZWN0KTtcblxuICAgIC8vIFN0b3AgZXZlbnQgcHJvcGFnYXRpb24gdG8gbm8gcGxheSBieSBhY2NpZGVudC5cbiAgICB0aGlzLiRlbC5rZXlwcmVzcyhmdW5jdGlvbihlKSB7XG4gICAgICByZXR1cm4gZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uS2V5QWRkZWQoKSB7XG4gICAgdGhpcy5rZXlBZGRlZC5kaXNwYXRjaCgpO1xuICB9XG5cbiAgb25TZWxlY3QoZGF0YSA9IGZhbHNlKSB7XG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7aXRlbS5yZW1vdmUoKTt9KTtcbiAgICB0aGlzLml0ZW1zID0gW107XG4gICAgdGhpcy4kY29udGFpbmVyLmVtcHR5KCk7XG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuYWRkUHJvcGVydHkoZGF0YVtpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5hZGRQcm9wZXJ0eShkYXRhKTtcbiAgICB9XG5cbiAgICAvLyBXaGVuIHNlbGVjdGluZyBhbnl0aGluZywgYXV0b21hdGljYWxseSBkaXNwbGF5IHRoZSBwcm9wZXJ0aWVzIGVkaXRvci5cbiAgICBpZiAodGhpcy5pdGVtcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMucGFyZW50RWxlbWVudC5yZW1vdmVDbGFzcygncHJvcGVydGllcy1pcy1jbG9zZWQnKTtcbiAgICB9XG4gIH1cblxuICBhZGRQcm9wZXJ0eShkYXRhKSB7XG4gICAgdmFyIHByb3AgPSBuZXcgUHJvcGVydHkodGhpcy5lZGl0b3IsIHRoaXMuJGNvbnRhaW5lciwgZGF0YSk7XG4gICAgcHJvcC5rZXlBZGRlZC5hZGQodGhpcy5vbktleUFkZGVkKTtcbiAgICB0aGlzLml0ZW1zLnB1c2gocHJvcCk7XG4gIH1cblxuICByZW5kZXIodGltZSwgdGltZV9jaGFuZ2VkKSB7XG4gICAgaWYgKCF0aW1lX2NoYW5nZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKChwcm9wKSA9PiB7cHJvcC51cGRhdGUoKTt9KTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZWRpdG9yL1Byb3BlcnRpZXNFZGl0b3IuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 25 */
/***/ (function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_25__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiJFwiLFwiY29tbW9uanNcIjpcImpxdWVyeVwiLFwiY29tbW9uanMyXCI6XCJqcXVlcnlcIixcImFtZFwiOlwianF1ZXJ5XCJ9PzI1M2YiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMjVfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJyb290XCI6XCIkXCIsXCJjb21tb25qc1wiOlwianF1ZXJ5XCIsXCJjb21tb25qczJcIjpcImpxdWVyeVwiLFwiYW1kXCI6XCJqcXVlcnlcIn1cbi8vIG1vZHVsZSBpZCA9IDI1XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _PropertyNumber = __webpack_require__(27);\n\nvar _PropertyNumber2 = _interopRequireDefault(_PropertyNumber);\n\nvar _PropertyColor = __webpack_require__(34);\n\nvar _PropertyColor2 = _interopRequireDefault(_PropertyColor);\n\nvar _PropertyTween = __webpack_require__(37);\n\nvar _PropertyTween2 = _interopRequireDefault(_PropertyTween);\n\nvar _PropertyEvent = __webpack_require__(39);\n\nvar _PropertyEvent2 = _interopRequireDefault(_PropertyEvent);\n\nvar _PropertyFooter = __webpack_require__(41);\n\nvar _PropertyFooter2 = _interopRequireDefault(_PropertyFooter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Signals = __webpack_require__(6);\n\nvar Property = function () {\n  function Property(editor, $el, data) {\n    _classCallCheck(this, Property);\n\n    this.editor = editor;\n    this.$el = $el;\n\n    this.onKeyAdded = this.onKeyAdded.bind(this);\n\n    this.timeline = editor.timeline;\n    this.timer = editor.timer;\n    this.selectionManager = editor.selectionManager;\n    this.keyAdded = new Signals.Signal();\n    this.items = [];\n    this.numberProp = false;\n    this.tweenProp = false;\n\n    var key_val = false;\n    // var propertyObject = false;\n    var propertyData = false;\n    // var lineObject = false;\n    var lineData = false;\n\n    // For keys the _property data should be defined.\n    if (data._property) {\n      propertyData = data._property;\n      lineData = propertyData._line;\n      key_val = data;\n    }\n\n    // Check if we selected a main item.\n    if (data.id) {\n      lineData = data;\n    }\n\n    // data and propertyData are defined on key select.\n    var property_name = false;\n    if (propertyData) {\n      property_name = propertyData.name;\n    }\n\n    // Get the property container.\n    var $container = this.getContainer(lineData);\n\n    var $tween_container = $container;\n\n    // Basic data, loop through properties.\n    for (var key in lineData.properties) {\n      if (lineData.properties.hasOwnProperty(key)) {\n        var instance_prop = lineData.properties[key];\n        // show all properties or only 1 if we selected a key.\n        if (!property_name || instance_prop.name === property_name) {\n          var $grp_container = this.getGroupContainer(instance_prop, $container);\n          var numberProp = this.addNumberProperty(instance_prop, lineData, key_val, $grp_container);\n          this.items.push(numberProp);\n          if (instance_prop.name === property_name) {\n            $tween_container = $grp_container;\n          }\n\n          if (property_name) {\n            if (instance_prop.type !== 'event') {\n              // Add tween select if we are editing a key, so only if there is property_name.\n              var tweenProp = this.addTweenProperty(instance_prop, lineData, key_val, $tween_container);\n              this.items.push(tweenProp);\n            }\n            var footerProp = this.addFooter(instance_prop, lineData, key_val, $tween_container, propertyData);\n            this.items.push(footerProp);\n          }\n        }\n      }\n    }\n  }\n\n  _createClass(Property, [{\n    key: 'onKeyAdded',\n    value: function onKeyAdded() {\n      // propagate the event.\n      this.keyAdded.dispatch();\n    }\n  }, {\n    key: 'getGroupContainer',\n    value: function getGroupContainer(instance_prop, $container) {\n      var $existing;\n      var $grp;\n      var grp_class;\n      if (!instance_prop.group) {\n        grp_class = 'property-grp--general';\n        $existing = $container.find('.' + grp_class);\n        if ($existing.length) {\n          return $existing;\n        }\n\n        $grp = this.createGroupContainer(grp_class);\n        $container.append($grp);\n        return $grp;\n      }\n      // Replace all spaces to dash and make class lowercase\n      var group_name = instance_prop.group.replace(/\\s+/g, '-').toLowerCase();\n      grp_class = 'property-grp--' + group_name;\n      $existing = $container.find('.' + grp_class);\n      if ($existing.length) {\n        return $existing;\n      }\n      $grp = this.createGroupContainer(grp_class, instance_prop.group);\n      $container.append($grp);\n      return $grp;\n    }\n  }, {\n    key: 'createGroupContainer',\n    value: function createGroupContainer(grp_class) {\n      var label = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var $grp = $('<div class=\"property-grp ' + grp_class + '\"></div>');\n      if (label) {\n        $grp.append('<h3 class=\"property-grp__title\">' + label + '</h3>');\n      }\n      return $grp;\n    }\n  }, {\n    key: 'getContainer',\n    value: function getContainer(lineData) {\n      var $container = false;\n      if (lineData.id) {\n        $container = $('#property--' + lineData.id);\n        if (!$container.length) {\n          $container = $container = $('<div class=\"properties__wrapper\" id=\"property--' + lineData.id + '\"></div>');\n          this.$el.append($container);\n          if (lineData.label) {\n            $container.append('<h2 class=\"properties-editor__title\">' + lineData.label + '</h2>');\n          }\n        }\n      }\n      if ($container === false) {\n        $container = $('<div class=\"properties__wrapper\" id=\"no-item\"></div>');\n        this.$el.append($container);\n      }\n      return $container;\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      this.items.forEach(function (item) {\n        item.remove();\n      });\n      if (this.keyAdded) {\n        this.keyAdded.dispose();\n      }\n\n      delete this.editor;\n      delete this.$el;\n\n      delete this.timeline;\n      delete this.timer;\n      delete this.selectionManager;\n      delete this.keyAdded;\n      delete this.items;\n      delete this.numberProp;\n      delete this.tweenProp;\n    }\n  }, {\n    key: 'addNumberProperty',\n    value: function addNumberProperty(instance_prop, lineData, key_val, $container) {\n      var PropClass = _PropertyNumber2.default;\n      if (instance_prop.type === 'color') {\n        PropClass = _PropertyColor2.default;\n      } else if (instance_prop.type === 'event') {\n        PropClass = _PropertyEvent2.default;\n      }\n      var prop = new PropClass(instance_prop, lineData, this.editor, key_val);\n      prop.keyAdded.add(this.onKeyAdded);\n      $container.append(prop.$el);\n      return prop;\n    }\n  }, {\n    key: 'addTweenProperty',\n    value: function addTweenProperty(instance_prop, lineData, key_val, $container) {\n      var tween = new _PropertyTween2.default(instance_prop, lineData, this.editor, key_val, this.timeline);\n      $container.append(tween.$el);\n      return tween;\n    }\n  }, {\n    key: 'addFooter',\n    value: function addFooter(instance_prop, lineData, key_val, $container, propertyData) {\n      var _this = this;\n\n      var footer = new _PropertyFooter2.default(instance_prop, lineData, this.editor, key_val, this.timeline);\n      $container.append(footer.$el);\n\n      // Add a remove key button\n      footer.$el.find('[data-action-remove]').click(function (e) {\n        e.preventDefault();\n        var index = propertyData.keys.indexOf(key_val);\n        if (index > -1) {\n          propertyData.keys.splice(index, 1);\n          if (key_val._dom) {\n            _this.editor.propertiesEditor.keyRemoved.dispatch(key_val);\n          }\n          lineData._isDirty = true;\n        }\n      });\n      return footer;\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      for (var i = 0; i < this.items.length; i++) {\n        var item = this.items[i];\n        item.update();\n      }\n    }\n  }]);\n\n  return Property;\n}();\n\nexports.default = Property;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvUHJvcGVydHkuanM/MmZhNyJdLCJuYW1lcyI6WyJTaWduYWxzIiwicmVxdWlyZSIsIlByb3BlcnR5IiwiZWRpdG9yIiwiJGVsIiwiZGF0YSIsIm9uS2V5QWRkZWQiLCJiaW5kIiwidGltZWxpbmUiLCJ0aW1lciIsInNlbGVjdGlvbk1hbmFnZXIiLCJrZXlBZGRlZCIsIlNpZ25hbCIsIml0ZW1zIiwibnVtYmVyUHJvcCIsInR3ZWVuUHJvcCIsImtleV92YWwiLCJwcm9wZXJ0eURhdGEiLCJsaW5lRGF0YSIsIl9wcm9wZXJ0eSIsIl9saW5lIiwiaWQiLCJwcm9wZXJ0eV9uYW1lIiwibmFtZSIsIiRjb250YWluZXIiLCJnZXRDb250YWluZXIiLCIkdHdlZW5fY29udGFpbmVyIiwia2V5IiwicHJvcGVydGllcyIsImhhc093blByb3BlcnR5IiwiaW5zdGFuY2VfcHJvcCIsIiRncnBfY29udGFpbmVyIiwiZ2V0R3JvdXBDb250YWluZXIiLCJhZGROdW1iZXJQcm9wZXJ0eSIsInB1c2giLCJ0eXBlIiwiYWRkVHdlZW5Qcm9wZXJ0eSIsImZvb3RlclByb3AiLCJhZGRGb290ZXIiLCJkaXNwYXRjaCIsIiRleGlzdGluZyIsIiRncnAiLCJncnBfY2xhc3MiLCJncm91cCIsImZpbmQiLCJsZW5ndGgiLCJjcmVhdGVHcm91cENvbnRhaW5lciIsImFwcGVuZCIsImdyb3VwX25hbWUiLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJsYWJlbCIsIiQiLCJmb3JFYWNoIiwiaXRlbSIsInJlbW92ZSIsImRpc3Bvc2UiLCJQcm9wQ2xhc3MiLCJwcm9wIiwiYWRkIiwidHdlZW4iLCJmb290ZXIiLCJjbGljayIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImluZGV4Iiwia2V5cyIsImluZGV4T2YiLCJzcGxpY2UiLCJfZG9tIiwicHJvcGVydGllc0VkaXRvciIsImtleVJlbW92ZWQiLCJfaXNEaXJ0eSIsImkiLCJ1cGRhdGUiXSwibWFwcGluZ3MiOiI7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a0JFLE1BQWxCLENBQXlCSCxLQUF6QixFQUFnQyxDQUFoQztBQUNBLGNBQUlqRCxRQUFRcUQsSUFBWixFQUFrQjtBQUNoQixrQkFBS2xFLE1BQUwsQ0FBWW1FLGdCQUFaLENBQTZCQyxVQUE3QixDQUF3Q2hDLFFBQXhDLENBQWlEdkIsT0FBakQ7QUFDRDtBQUNERSxtQkFBU3NELFFBQVQsR0FBb0IsSUFBcEI7QUFDRDtBQUNGLE9BVkQ7QUFXQSxhQUFPWCxNQUFQO0FBQ0Q7Ozs2QkFFUTtBQUNQLFdBQUssSUFBSVksSUFBSSxDQUFiLEVBQWdCQSxJQUFJLEtBQUs1RCxLQUFMLENBQVdnQyxNQUEvQixFQUF1QzRCLEdBQXZDLEVBQTRDO0FBQzFDLFlBQUluQixPQUFPLEtBQUt6QyxLQUFMLENBQVc0RCxDQUFYLENBQVg7QUFDQW5CLGFBQUtvQixNQUFMO0FBQ0Q7QUFDRjs7Ozs7O2tCQWhNa0J4RSxRIiwiZmlsZSI6IjI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IFNpZ25hbHMgPSByZXF1aXJlKCdqcy1zaWduYWxzJyk7XG5pbXBvcnQgUHJvcGVydHlOdW1iZXIgZnJvbSAnLi9Qcm9wZXJ0eU51bWJlcic7XG5pbXBvcnQgUHJvcGVydHlDb2xvciBmcm9tICcuL1Byb3BlcnR5Q29sb3InO1xuaW1wb3J0IFByb3BlcnR5VHdlZW4gZnJvbSAnLi9Qcm9wZXJ0eVR3ZWVuJztcbmltcG9ydCBQcm9wZXJ0eUV2ZW50IGZyb20gJy4vUHJvcGVydHlFdmVudCc7XG5pbXBvcnQgUHJvcGVydHlGb290ZXIgZnJvbSAnLi9Qcm9wZXJ0eUZvb3Rlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3BlcnR5IHtcbiAgY29uc3RydWN0b3IoZWRpdG9yLCAkZWwsIGRhdGEpIHtcbiAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgICB0aGlzLiRlbCA9ICRlbDtcblxuICAgIHRoaXMub25LZXlBZGRlZCA9IHRoaXMub25LZXlBZGRlZC5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy50aW1lbGluZSA9IGVkaXRvci50aW1lbGluZTtcbiAgICB0aGlzLnRpbWVyID0gZWRpdG9yLnRpbWVyO1xuICAgIHRoaXMuc2VsZWN0aW9uTWFuYWdlciA9IGVkaXRvci5zZWxlY3Rpb25NYW5hZ2VyO1xuICAgIHRoaXMua2V5QWRkZWQgPSBuZXcgU2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLml0ZW1zID0gW107XG4gICAgdGhpcy5udW1iZXJQcm9wID0gZmFsc2U7XG4gICAgdGhpcy50d2VlblByb3AgPSBmYWxzZTtcblxuICAgIHZhciBrZXlfdmFsID0gZmFsc2U7XG4gICAgLy8gdmFyIHByb3BlcnR5T2JqZWN0ID0gZmFsc2U7XG4gICAgdmFyIHByb3BlcnR5RGF0YSA9IGZhbHNlO1xuICAgIC8vIHZhciBsaW5lT2JqZWN0ID0gZmFsc2U7XG4gICAgdmFyIGxpbmVEYXRhID0gZmFsc2U7XG5cbiAgICAvLyBGb3Iga2V5cyB0aGUgX3Byb3BlcnR5IGRhdGEgc2hvdWxkIGJlIGRlZmluZWQuXG4gICAgaWYgKGRhdGEuX3Byb3BlcnR5KSB7XG4gICAgICBwcm9wZXJ0eURhdGEgPSBkYXRhLl9wcm9wZXJ0eTtcbiAgICAgIGxpbmVEYXRhID0gcHJvcGVydHlEYXRhLl9saW5lO1xuICAgICAga2V5X3ZhbCA9IGRhdGE7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgd2Ugc2VsZWN0ZWQgYSBtYWluIGl0ZW0uXG4gICAgaWYgKGRhdGEuaWQpIHtcbiAgICAgIGxpbmVEYXRhID0gZGF0YTtcbiAgICB9XG5cbiAgICAvLyBkYXRhIGFuZCBwcm9wZXJ0eURhdGEgYXJlIGRlZmluZWQgb24ga2V5IHNlbGVjdC5cbiAgICB2YXIgcHJvcGVydHlfbmFtZSA9IGZhbHNlO1xuICAgIGlmIChwcm9wZXJ0eURhdGEpIHtcbiAgICAgIHByb3BlcnR5X25hbWUgPSBwcm9wZXJ0eURhdGEubmFtZTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIHByb3BlcnR5IGNvbnRhaW5lci5cbiAgICB2YXIgJGNvbnRhaW5lciA9IHRoaXMuZ2V0Q29udGFpbmVyKGxpbmVEYXRhKTtcblxuICAgIHZhciAkdHdlZW5fY29udGFpbmVyID0gJGNvbnRhaW5lcjtcblxuICAgIC8vIEJhc2ljIGRhdGEsIGxvb3AgdGhyb3VnaCBwcm9wZXJ0aWVzLlxuICAgIGZvciAodmFyIGtleSBpbiBsaW5lRGF0YS5wcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAobGluZURhdGEucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZV9wcm9wID0gbGluZURhdGEucHJvcGVydGllc1trZXldO1xuICAgICAgICAvLyBzaG93IGFsbCBwcm9wZXJ0aWVzIG9yIG9ubHkgMSBpZiB3ZSBzZWxlY3RlZCBhIGtleS5cbiAgICAgICAgaWYgKCFwcm9wZXJ0eV9uYW1lIHx8IGluc3RhbmNlX3Byb3AubmFtZSA9PT0gcHJvcGVydHlfbmFtZSkge1xuICAgICAgICAgIHZhciAkZ3JwX2NvbnRhaW5lciA9IHRoaXMuZ2V0R3JvdXBDb250YWluZXIoaW5zdGFuY2VfcHJvcCwgJGNvbnRhaW5lcik7XG4gICAgICAgICAgdmFyIG51bWJlclByb3AgPSB0aGlzLmFkZE51bWJlclByb3BlcnR5KGluc3RhbmNlX3Byb3AsIGxpbmVEYXRhLCBrZXlfdmFsLCAkZ3JwX2NvbnRhaW5lcik7XG4gICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKG51bWJlclByb3ApO1xuICAgICAgICAgIGlmIChpbnN0YW5jZV9wcm9wLm5hbWUgPT09IHByb3BlcnR5X25hbWUpIHtcbiAgICAgICAgICAgICR0d2Vlbl9jb250YWluZXIgPSAkZ3JwX2NvbnRhaW5lcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocHJvcGVydHlfbmFtZSkge1xuICAgICAgICAgICAgaWYgKGluc3RhbmNlX3Byb3AudHlwZSAhPT0gJ2V2ZW50Jykge1xuICAgICAgICAgICAgICAvLyBBZGQgdHdlZW4gc2VsZWN0IGlmIHdlIGFyZSBlZGl0aW5nIGEga2V5LCBzbyBvbmx5IGlmIHRoZXJlIGlzIHByb3BlcnR5X25hbWUuXG4gICAgICAgICAgICAgIHZhciB0d2VlblByb3AgPSB0aGlzLmFkZFR3ZWVuUHJvcGVydHkoaW5zdGFuY2VfcHJvcCwgbGluZURhdGEsIGtleV92YWwsICR0d2Vlbl9jb250YWluZXIpO1xuICAgICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2godHdlZW5Qcm9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBmb290ZXJQcm9wID0gdGhpcy5hZGRGb290ZXIoaW5zdGFuY2VfcHJvcCwgbGluZURhdGEsIGtleV92YWwsICR0d2Vlbl9jb250YWluZXIsIHByb3BlcnR5RGF0YSk7XG4gICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2goZm9vdGVyUHJvcCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb25LZXlBZGRlZCgpIHtcbiAgICAvLyBwcm9wYWdhdGUgdGhlIGV2ZW50LlxuICAgIHRoaXMua2V5QWRkZWQuZGlzcGF0Y2goKTtcbiAgfVxuXG4gIGdldEdyb3VwQ29udGFpbmVyKGluc3RhbmNlX3Byb3AsICRjb250YWluZXIpIHtcbiAgICB2YXIgJGV4aXN0aW5nO1xuICAgIHZhciAkZ3JwO1xuICAgIHZhciBncnBfY2xhc3M7XG4gICAgaWYgKCFpbnN0YW5jZV9wcm9wLmdyb3VwKSB7XG4gICAgICBncnBfY2xhc3MgPSAncHJvcGVydHktZ3JwLS1nZW5lcmFsJztcbiAgICAgICRleGlzdGluZyA9ICRjb250YWluZXIuZmluZCgnLicgKyBncnBfY2xhc3MpO1xuICAgICAgaWYgKCRleGlzdGluZy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuICRleGlzdGluZztcbiAgICAgIH1cblxuICAgICAgJGdycCA9IHRoaXMuY3JlYXRlR3JvdXBDb250YWluZXIoZ3JwX2NsYXNzKTtcbiAgICAgICRjb250YWluZXIuYXBwZW5kKCRncnApO1xuICAgICAgcmV0dXJuICRncnA7XG4gICAgfVxuICAgIC8vIFJlcGxhY2UgYWxsIHNwYWNlcyB0byBkYXNoIGFuZCBtYWtlIGNsYXNzIGxvd2VyY2FzZVxuICAgIHZhciBncm91cF9uYW1lID0gaW5zdGFuY2VfcHJvcC5ncm91cC5yZXBsYWNlKC9cXHMrL2csICctJykudG9Mb3dlckNhc2UoKTtcbiAgICBncnBfY2xhc3MgPSAncHJvcGVydHktZ3JwLS0nICsgZ3JvdXBfbmFtZTtcbiAgICAkZXhpc3RpbmcgPSAkY29udGFpbmVyLmZpbmQoJy4nICsgZ3JwX2NsYXNzKTtcbiAgICBpZiAoJGV4aXN0aW5nLmxlbmd0aCkge1xuICAgICAgcmV0dXJuICRleGlzdGluZztcbiAgICB9XG4gICAgJGdycCA9IHRoaXMuY3JlYXRlR3JvdXBDb250YWluZXIoZ3JwX2NsYXNzLCBpbnN0YW5jZV9wcm9wLmdyb3VwKTtcbiAgICAkY29udGFpbmVyLmFwcGVuZCgkZ3JwKTtcbiAgICByZXR1cm4gJGdycDtcbiAgfVxuXG4gIGNyZWF0ZUdyb3VwQ29udGFpbmVyKGdycF9jbGFzcywgbGFiZWwgPSBmYWxzZSkge1xuICAgIHZhciAkZ3JwID0gJCgnPGRpdiBjbGFzcz1cInByb3BlcnR5LWdycCAnICsgZ3JwX2NsYXNzICsgJ1wiPjwvZGl2PicpO1xuICAgIGlmIChsYWJlbCkge1xuICAgICAgJGdycC5hcHBlbmQoJzxoMyBjbGFzcz1cInByb3BlcnR5LWdycF9fdGl0bGVcIj4nICsgbGFiZWwgKyAnPC9oMz4nKTtcbiAgICB9XG4gICAgcmV0dXJuICRncnA7XG4gIH1cblxuICBnZXRDb250YWluZXIobGluZURhdGEpIHtcbiAgICB2YXIgJGNvbnRhaW5lciA9IGZhbHNlO1xuICAgIGlmIChsaW5lRGF0YS5pZCkge1xuICAgICAgJGNvbnRhaW5lciA9ICQoJyNwcm9wZXJ0eS0tJyArIGxpbmVEYXRhLmlkKTtcbiAgICAgIGlmICghJGNvbnRhaW5lci5sZW5ndGgpIHtcbiAgICAgICAgJGNvbnRhaW5lciA9ICRjb250YWluZXIgPSAkKCc8ZGl2IGNsYXNzPVwicHJvcGVydGllc19fd3JhcHBlclwiIGlkPVwicHJvcGVydHktLScgKyBsaW5lRGF0YS5pZCArICdcIj48L2Rpdj4nKTtcbiAgICAgICAgdGhpcy4kZWwuYXBwZW5kKCRjb250YWluZXIpO1xuICAgICAgICBpZiAobGluZURhdGEubGFiZWwpIHtcbiAgICAgICAgICAkY29udGFpbmVyLmFwcGVuZCgnPGgyIGNsYXNzPVwicHJvcGVydGllcy1lZGl0b3JfX3RpdGxlXCI+JyArIGxpbmVEYXRhLmxhYmVsICsgJzwvaDI+Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCRjb250YWluZXIgPT09IGZhbHNlKSB7XG4gICAgICAkY29udGFpbmVyID0gJCgnPGRpdiBjbGFzcz1cInByb3BlcnRpZXNfX3dyYXBwZXJcIiBpZD1cIm5vLWl0ZW1cIj48L2Rpdj4nKTtcbiAgICAgIHRoaXMuJGVsLmFwcGVuZCgkY29udGFpbmVyKTtcbiAgICB9XG4gICAgcmV0dXJuICRjb250YWluZXI7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7aXRlbS5yZW1vdmUoKTt9KTtcbiAgICBpZiAodGhpcy5rZXlBZGRlZCkge1xuICAgICAgdGhpcy5rZXlBZGRlZC5kaXNwb3NlKCk7XG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMuZWRpdG9yO1xuICAgIGRlbGV0ZSB0aGlzLiRlbDtcblxuICAgIGRlbGV0ZSB0aGlzLnRpbWVsaW5lO1xuICAgIGRlbGV0ZSB0aGlzLnRpbWVyO1xuICAgIGRlbGV0ZSB0aGlzLnNlbGVjdGlvbk1hbmFnZXI7XG4gICAgZGVsZXRlIHRoaXMua2V5QWRkZWQ7XG4gICAgZGVsZXRlIHRoaXMuaXRlbXM7XG4gICAgZGVsZXRlIHRoaXMubnVtYmVyUHJvcDtcbiAgICBkZWxldGUgdGhpcy50d2VlblByb3A7XG4gIH1cblxuICBhZGROdW1iZXJQcm9wZXJ0eShpbnN0YW5jZV9wcm9wLCBsaW5lRGF0YSwga2V5X3ZhbCwgJGNvbnRhaW5lcikge1xuICAgIHZhciBQcm9wQ2xhc3MgPSBQcm9wZXJ0eU51bWJlcjtcbiAgICBpZiAoaW5zdGFuY2VfcHJvcC50eXBlID09PSAnY29sb3InKSB7XG4gICAgICBQcm9wQ2xhc3MgPSBQcm9wZXJ0eUNvbG9yO1xuICAgIH1cbiAgICBlbHNlIGlmIChpbnN0YW5jZV9wcm9wLnR5cGUgPT09ICdldmVudCcpIHtcbiAgICAgIFByb3BDbGFzcyA9IFByb3BlcnR5RXZlbnQ7XG4gICAgfVxuICAgIHZhciBwcm9wID0gbmV3IFByb3BDbGFzcyhpbnN0YW5jZV9wcm9wLCBsaW5lRGF0YSwgdGhpcy5lZGl0b3IsIGtleV92YWwpO1xuICAgIHByb3Aua2V5QWRkZWQuYWRkKHRoaXMub25LZXlBZGRlZCk7XG4gICAgJGNvbnRhaW5lci5hcHBlbmQocHJvcC4kZWwpO1xuICAgIHJldHVybiBwcm9wO1xuICB9XG5cbiAgYWRkVHdlZW5Qcm9wZXJ0eShpbnN0YW5jZV9wcm9wLCBsaW5lRGF0YSwga2V5X3ZhbCwgJGNvbnRhaW5lcikge1xuICAgIHZhciB0d2VlbiA9IG5ldyBQcm9wZXJ0eVR3ZWVuKGluc3RhbmNlX3Byb3AsIGxpbmVEYXRhLCB0aGlzLmVkaXRvciwga2V5X3ZhbCwgdGhpcy50aW1lbGluZSk7XG4gICAgJGNvbnRhaW5lci5hcHBlbmQodHdlZW4uJGVsKTtcbiAgICByZXR1cm4gdHdlZW47XG4gIH1cblxuICBhZGRGb290ZXIoaW5zdGFuY2VfcHJvcCwgbGluZURhdGEsIGtleV92YWwsICRjb250YWluZXIsIHByb3BlcnR5RGF0YSkge1xuICAgIGxldCBmb290ZXIgPSBuZXcgUHJvcGVydHlGb290ZXIoaW5zdGFuY2VfcHJvcCwgbGluZURhdGEsIHRoaXMuZWRpdG9yLCBrZXlfdmFsLCB0aGlzLnRpbWVsaW5lKTtcbiAgICAkY29udGFpbmVyLmFwcGVuZChmb290ZXIuJGVsKTtcblxuICAgIC8vIEFkZCBhIHJlbW92ZSBrZXkgYnV0dG9uXG4gICAgZm9vdGVyLiRlbC5maW5kKCdbZGF0YS1hY3Rpb24tcmVtb3ZlXScpLmNsaWNrKChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgaW5kZXggPSBwcm9wZXJ0eURhdGEua2V5cy5pbmRleE9mKGtleV92YWwpO1xuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgcHJvcGVydHlEYXRhLmtleXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgaWYgKGtleV92YWwuX2RvbSkge1xuICAgICAgICAgIHRoaXMuZWRpdG9yLnByb3BlcnRpZXNFZGl0b3Iua2V5UmVtb3ZlZC5kaXNwYXRjaChrZXlfdmFsKTtcbiAgICAgICAgfVxuICAgICAgICBsaW5lRGF0YS5faXNEaXJ0eSA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZvb3RlcjtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtc1tpXTtcbiAgICAgIGl0ZW0udXBkYXRlKCk7XG4gICAgfVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9lZGl0b3IvUHJvcGVydHkuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n__webpack_require__(25);\n\nvar _PropertyBase2 = __webpack_require__(28);\n\nvar _PropertyBase3 = _interopRequireDefault(_PropertyBase2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DraggableNumber = __webpack_require__(29);\n\nvar tpl_property = __webpack_require__(30);\n\nvar PropertyNumber = function (_PropertyBase) {\n  _inherits(PropertyNumber, _PropertyBase);\n\n  // instance_property: The current property on the data object.\n  // lineData: The line data object.\n  function PropertyNumber(instance_property, lineData, editor) {\n    var key_val = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    _classCallCheck(this, PropertyNumber);\n\n    var _this = _possibleConstructorReturn(this, (PropertyNumber.__proto__ || Object.getPrototypeOf(PropertyNumber)).call(this, instance_property, lineData, editor, key_val));\n\n    _this.onInputChange = _this.onInputChange.bind(_this);\n    _this.$input = _this.$el.find('input');\n    return _this;\n  }\n\n  _createClass(PropertyNumber, [{\n    key: 'getInputVal',\n    value: function getInputVal() {\n      return parseFloat(this.$el.find('input').val());\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      _get(PropertyNumber.prototype.__proto__ || Object.getPrototypeOf(PropertyNumber.prototype), 'render', this).call(this);\n      // By default assign the property default value\n      var val = this.getCurrentVal();\n\n      var data = {\n        id: this.instance_property.name, // \"circleRadius\" instead of \"circle radius\"\n        label: this.instance_property.label || this.instance_property.name,\n        val: val\n      };\n\n      var view = tpl_property(data);\n      this.$el = $(view);\n      this.$el.find('.property__key').click(this.onKeyClick);\n\n      var $input = this.$el.find('input');\n\n      var onChangeEnd = function onChangeEnd() {\n        _this2.editor.undoManager.addState();\n      };\n\n      var draggableOptions = {\n        changeCallback: function changeCallback() {\n          return _this2.onInputChange();\n        },\n        endCallback: function endCallback() {\n          return onChangeEnd();\n        }\n      };\n      // Set min & max if they are defined.\n      if ('min' in this.instance_property) {\n        draggableOptions.min = this.instance_property.min;\n      }\n      if ('max' in this.instance_property) {\n        draggableOptions.max = this.instance_property.max;\n      }\n\n      var draggable = new DraggableNumber($input.get(0), draggableOptions);\n      $input.data('draggable', draggable);\n      $input.change(this.onInputChange);\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      _get(PropertyNumber.prototype.__proto__ || Object.getPrototypeOf(PropertyNumber.prototype), 'render', this).call(this);\n      if (this.$input.data('draggable')) {\n        this.$input.data('draggable').destroy();\n      }\n\n      delete this.$input;\n      delete this.$el;\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      _get(PropertyNumber.prototype.__proto__ || Object.getPrototypeOf(PropertyNumber.prototype), 'render', this).call(this);\n      var val = this.getCurrentVal();\n      var draggable = this.$input.data('draggable');\n\n      if (draggable) {\n        draggable.set(val.toFixed(3));\n      } else {\n        this.$input.val(val.toFixed(3));\n      }\n    }\n  }]);\n\n  return PropertyNumber;\n}(_PropertyBase3.default);\n\nexports.default = PropertyNumber;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvUHJvcGVydHlOdW1iZXIuanM/N2UxMCJdLCJuYW1lcyI6WyJEcmFnZ2FibGVOdW1iZXIiLCJyZXF1aXJlIiwidHBsX3Byb3BlcnR5IiwiUHJvcGVydHlOdW1iZXIiLCJpbnN0YW5jZV9wcm9wZXJ0eSIsImxpbmVEYXRhIiwiZWRpdG9yIiwia2V5X3ZhbCIsIm9uSW5wdXRDaGFuZ2UiLCJiaW5kIiwiJGlucHV0IiwiJGVsIiwiZmluZCIsInBhcnNlRmxvYXQiLCJ2YWwiLCJnZXRDdXJyZW50VmFsIiwiZGF0YSIsImlkIiwibmFtZSIsImxhYmVsIiwidmlldyIsIiQiLCJjbGljayIsIm9uS2V5Q2xpY2siLCJvbkNoYW5nZUVuZCIsInVuZG9NYW5hZ2VyIiwiYWRkU3RhdGUiLCJkcmFnZ2FibGVPcHRpb25zIiwiY2hhbmdlQ2FsbGJhY2siLCJlbmRDYWxsYmFjayIsIm1pbiIsIm1heCIsImRyYWdnYWJsZSIsImdldCIsImNoYW5nZSIsImRlc3Ryb3kiLCJzZXQiLCJ0b0ZpeGVkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7O0FBQ0E7Ozs7Ozs7Ozs7OztBQUNBLElBQUlBLGtCQUFrQixtQkFBQUMsQ0FBUSxFQUFSLENBQXRCOztBQUVBLElBQUlDLGVBQWUsbUJBQUFELENBQVEsRUFBUixDQUFuQjs7SUFFcUJFLGM7OztBQUNuQjtBQUNBO0FBQ0EsMEJBQVlDLGlCQUFaLEVBQStCQyxRQUEvQixFQUF5Q0MsTUFBekMsRUFBa0U7QUFBQSxRQUFqQkMsT0FBaUIsdUVBQVAsS0FBTzs7QUFBQTs7QUFBQSxnSUFDMURILGlCQUQwRCxFQUN2Q0MsUUFEdUMsRUFDN0JDLE1BRDZCLEVBQ3JCQyxPQURxQjs7QUFFaEUsVUFBS0MsYUFBTCxHQUFxQixNQUFLQSxhQUFMLENBQW1CQyxJQUFuQixPQUFyQjtBQUNBLFVBQUtDLE1BQUwsR0FBYyxNQUFLQyxHQUFMLENBQVNDLElBQVQsQ0FBYyxPQUFkLENBQWQ7QUFIZ0U7QUFJakU7Ozs7a0NBRWE7QUFDWixhQUFPQyxXQUFXLEtBQUtGLEdBQUwsQ0FBU0MsSUFBVCxDQUFjLE9BQWQsRUFBdUJFLEdBQXZCLEVBQVgsQ0FBUDtBQUNEOzs7NkJBRVE7QUFBQTs7QUFDUDtBQUNBO0FBQ0EsVUFBSUEsTUFBTSxLQUFLQyxhQUFMLEVBQVY7O0FBRUEsVUFBSUMsT0FBTztBQUNUQyxZQUFJLEtBQUtiLGlCQUFMLENBQXVCYyxJQURsQixFQUN3QjtBQUNqQ0MsZUFBTyxLQUFLZixpQkFBTCxDQUF1QmUsS0FBdkIsSUFBZ0MsS0FBS2YsaUJBQUwsQ0FBdUJjLElBRnJEO0FBR1RKLGFBQUtBO0FBSEksT0FBWDs7QUFNQSxVQUFJTSxPQUFPbEIsYUFBYWMsSUFBYixDQUFYO0FBQ0EsV0FBS0wsR0FBTCxHQUFXVSxFQUFFRCxJQUFGLENBQVg7QUFDQSxXQUFLVCxHQUFMLENBQVNDLElBQVQsQ0FBYyxnQkFBZCxFQUFnQ1UsS0FBaEMsQ0FBc0MsS0FBS0MsVUFBM0M7O0FBRUEsVUFBSWIsU0FBUyxLQUFLQyxHQUFMLENBQVNDLElBQVQsQ0FBYyxPQUFkLENBQWI7O0FBRUEsVUFBSVksY0FBYyxTQUFkQSxXQUFjLEdBQU07QUFDdEIsZUFBS2xCLE1BQUwsQ0FBWW1CLFdBQVosQ0FBd0JDLFFBQXhCO0FBQ0QsT0FGRDs7QUFJQSxVQUFJQyxtQkFBbUI7QUFDckJDLHdCQUFnQjtBQUFBLGlCQUFNLE9BQUtwQixhQUFMLEVBQU47QUFBQSxTQURLO0FBRXJCcUIscUJBQWE7QUFBQSxpQkFBTUwsYUFBTjtBQUFBO0FBRlEsT0FBdkI7QUFJQTtBQUNBLFVBQUksU0FBUyxLQUFLcEIsaUJBQWxCLEVBQXFDO0FBQ25DdUIseUJBQWlCRyxHQUFqQixHQUF1QixLQUFLMUIsaUJBQUwsQ0FBdUIwQixHQUE5QztBQUNEO0FBQ0QsVUFBSSxTQUFTLEtBQUsxQixpQkFBbEIsRUFBcUM7QUFDbkN1Qix5QkFBaUJJLEdBQWpCLEdBQXVCLEtBQUszQixpQkFBTCxDQUF1QjJCLEdBQTlDO0FBQ0Q7O0FBRUQsVUFBSUMsWUFBWSxJQUFJaEMsZUFBSixDQUFvQlUsT0FBT3VCLEdBQVAsQ0FBVyxDQUFYLENBQXBCLEVBQW1DTixnQkFBbkMsQ0FBaEI7QUFDQWpCLGFBQU9NLElBQVAsQ0FBWSxXQUFaLEVBQXlCZ0IsU0FBekI7QUFDQXRCLGFBQU93QixNQUFQLENBQWMsS0FBSzFCLGFBQW5CO0FBQ0Q7Ozs2QkFFUTtBQUNQO0FBQ0EsVUFBSSxLQUFLRSxNQUFMLENBQVlNLElBQVosQ0FBaUIsV0FBakIsQ0FBSixFQUFtQztBQUNqQyxhQUFLTixNQUFMLENBQVlNLElBQVosQ0FBaUIsV0FBakIsRUFBOEJtQixPQUE5QjtBQUNEOztBQUVELGFBQU8sS0FBS3pCLE1BQVo7QUFDQSxhQUFPLEtBQUtDLEdBQVo7QUFDRDs7OzZCQUVRO0FBQ1A7QUFDQSxVQUFJRyxNQUFNLEtBQUtDLGFBQUwsRUFBVjtBQUNBLFVBQUlpQixZQUFZLEtBQUt0QixNQUFMLENBQVlNLElBQVosQ0FBaUIsV0FBakIsQ0FBaEI7O0FBRUEsVUFBSWdCLFNBQUosRUFBZTtBQUNiQSxrQkFBVUksR0FBVixDQUFjdEIsSUFBSXVCLE9BQUosQ0FBWSxDQUFaLENBQWQ7QUFDRCxPQUZELE1BR0s7QUFDSCxhQUFLM0IsTUFBTCxDQUFZSSxHQUFaLENBQWdCQSxJQUFJdUIsT0FBSixDQUFZLENBQVosQ0FBaEI7QUFDRDtBQUNGOzs7Ozs7a0JBeEVrQmxDLGMiLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ2pxdWVyeSc7XG5pbXBvcnQgUHJvcGVydHlCYXNlIGZyb20gJy4vUHJvcGVydHlCYXNlJztcbmxldCBEcmFnZ2FibGVOdW1iZXIgPSByZXF1aXJlKCdkcmFnZ2FibGUtbnVtYmVyLmpzJyk7XG5cbmxldCB0cGxfcHJvcGVydHkgPSByZXF1aXJlKCcuLi90ZW1wbGF0ZXMvcHJvcGVydHlOdW1iZXIudHBsLmh0bWwnKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvcGVydHlOdW1iZXIgZXh0ZW5kcyBQcm9wZXJ0eUJhc2Uge1xuICAvLyBpbnN0YW5jZV9wcm9wZXJ0eTogVGhlIGN1cnJlbnQgcHJvcGVydHkgb24gdGhlIGRhdGEgb2JqZWN0LlxuICAvLyBsaW5lRGF0YTogVGhlIGxpbmUgZGF0YSBvYmplY3QuXG4gIGNvbnN0cnVjdG9yKGluc3RhbmNlX3Byb3BlcnR5LCBsaW5lRGF0YSwgZWRpdG9yLCBrZXlfdmFsID0gZmFsc2UpIHtcbiAgICBzdXBlcihpbnN0YW5jZV9wcm9wZXJ0eSwgbGluZURhdGEsIGVkaXRvciwga2V5X3ZhbCk7XG4gICAgdGhpcy5vbklucHV0Q2hhbmdlID0gdGhpcy5vbklucHV0Q2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy4kaW5wdXQgPSB0aGlzLiRlbC5maW5kKCdpbnB1dCcpO1xuICB9XG5cbiAgZ2V0SW5wdXRWYWwoKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQodGhpcy4kZWwuZmluZCgnaW5wdXQnKS52YWwoKSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgc3VwZXIucmVuZGVyKCk7XG4gICAgLy8gQnkgZGVmYXVsdCBhc3NpZ24gdGhlIHByb3BlcnR5IGRlZmF1bHQgdmFsdWVcbiAgICB2YXIgdmFsID0gdGhpcy5nZXRDdXJyZW50VmFsKCk7XG5cbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIGlkOiB0aGlzLmluc3RhbmNlX3Byb3BlcnR5Lm5hbWUsIC8vIFwiY2lyY2xlUmFkaXVzXCIgaW5zdGVhZCBvZiBcImNpcmNsZSByYWRpdXNcIlxuICAgICAgbGFiZWw6IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkubGFiZWwgfHwgdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS5uYW1lLFxuICAgICAgdmFsOiB2YWxcbiAgICB9O1xuXG4gICAgdmFyIHZpZXcgPSB0cGxfcHJvcGVydHkoZGF0YSk7XG4gICAgdGhpcy4kZWwgPSAkKHZpZXcpO1xuICAgIHRoaXMuJGVsLmZpbmQoJy5wcm9wZXJ0eV9fa2V5JykuY2xpY2sodGhpcy5vbktleUNsaWNrKTtcblxuICAgIHZhciAkaW5wdXQgPSB0aGlzLiRlbC5maW5kKCdpbnB1dCcpO1xuXG4gICAgdmFyIG9uQ2hhbmdlRW5kID0gKCkgPT4ge1xuICAgICAgdGhpcy5lZGl0b3IudW5kb01hbmFnZXIuYWRkU3RhdGUoKTtcbiAgICB9O1xuXG4gICAgdmFyIGRyYWdnYWJsZU9wdGlvbnMgPSB7XG4gICAgICBjaGFuZ2VDYWxsYmFjazogKCkgPT4gdGhpcy5vbklucHV0Q2hhbmdlKCksXG4gICAgICBlbmRDYWxsYmFjazogKCkgPT4gb25DaGFuZ2VFbmQoKVxuICAgIH07XG4gICAgLy8gU2V0IG1pbiAmIG1heCBpZiB0aGV5IGFyZSBkZWZpbmVkLlxuICAgIGlmICgnbWluJyBpbiB0aGlzLmluc3RhbmNlX3Byb3BlcnR5KSB7XG4gICAgICBkcmFnZ2FibGVPcHRpb25zLm1pbiA9IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkubWluO1xuICAgIH1cbiAgICBpZiAoJ21heCcgaW4gdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eSkge1xuICAgICAgZHJhZ2dhYmxlT3B0aW9ucy5tYXggPSB0aGlzLmluc3RhbmNlX3Byb3BlcnR5Lm1heDtcbiAgICB9XG5cbiAgICB2YXIgZHJhZ2dhYmxlID0gbmV3IERyYWdnYWJsZU51bWJlcigkaW5wdXQuZ2V0KDApLCBkcmFnZ2FibGVPcHRpb25zKTtcbiAgICAkaW5wdXQuZGF0YSgnZHJhZ2dhYmxlJywgZHJhZ2dhYmxlKTtcbiAgICAkaW5wdXQuY2hhbmdlKHRoaXMub25JbnB1dENoYW5nZSk7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgc3VwZXIucmVuZGVyKCk7XG4gICAgaWYgKHRoaXMuJGlucHV0LmRhdGEoJ2RyYWdnYWJsZScpKSB7XG4gICAgICB0aGlzLiRpbnB1dC5kYXRhKCdkcmFnZ2FibGUnKS5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMuJGlucHV0O1xuICAgIGRlbGV0ZSB0aGlzLiRlbDtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBzdXBlci5yZW5kZXIoKTtcbiAgICB2YXIgdmFsID0gdGhpcy5nZXRDdXJyZW50VmFsKCk7XG4gICAgdmFyIGRyYWdnYWJsZSA9IHRoaXMuJGlucHV0LmRhdGEoJ2RyYWdnYWJsZScpO1xuXG4gICAgaWYgKGRyYWdnYWJsZSkge1xuICAgICAgZHJhZ2dhYmxlLnNldCh2YWwudG9GaXhlZCgzKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy4kaW5wdXQudmFsKHZhbC50b0ZpeGVkKDMpKTtcbiAgICB9XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2VkaXRvci9Qcm9wZXJ0eU51bWJlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Utils = __webpack_require__(1);\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Signals = __webpack_require__(6);\nvar _ = __webpack_require__(12);\n\nvar PropertyBase = function () {\n  // @instance_property: The current property on the data object.\n  // @lineData: The line data object.\n  function PropertyBase(instance_property, lineData, editor) {\n    var key_val = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    _classCallCheck(this, PropertyBase);\n\n    this.instance_property = instance_property;\n    this.lineData = lineData;\n    this.editor = editor;\n    this.key_val = key_val;\n\n    // this.update = this.update.bind(this);\n    this.onInputChange = this.onInputChange.bind(this);\n    this.onKeyClick = this.onKeyClick.bind(this);\n\n    this.timer = editor.timer;\n    this.keyAdded = new Signals.Signal();\n    this.render();\n\n    this.$key = this.$el.find('.property__key');\n  }\n\n  _createClass(PropertyBase, [{\n    key: 'onKeyClick',\n    value: function onKeyClick(e) {\n      e.preventDefault();\n      var currentValue = this.getCurrentVal();\n      this.addKey(currentValue);\n    }\n  }, {\n    key: 'getInputVal',\n    value: function getInputVal() {\n      return this.$el.find('input').val();\n    }\n  }, {\n    key: 'getCurrentVal',\n    value: function getCurrentVal() {\n      var val = this.instance_property.val;\n      var prop_name = this.instance_property.name;\n\n      // if we selected a key simply return it's value\n      if (this.key_val) {\n        return this.key_val.val;\n      }\n      if (this.lineData.values !== undefined && this.lineData.values[prop_name]) {\n        return this.lineData.values[prop_name];\n      }\n      return val;\n    }\n  }, {\n    key: 'onInputChange',\n    value: function onInputChange() {\n      var current_value = this.getInputVal();\n      var currentTime = this.timer.getCurrentTime() / 1000;\n\n      // if we selected a key simply get the time from it.\n      if (this.key_val) {\n        currentTime = this.key_val.time;\n      }\n\n      if (this.instance_property.keys && this.instance_property.keys.length) {\n        // Add a new key if there is no other key at same time\n        var current_key = _.find(this.instance_property.keys, function (key) {\n          return key.time === currentTime;\n        });\n\n        if (current_key) {\n          // if there is a key update it\n          current_key.val = current_value;\n        } else {\n          // add a new key\n          this.addKey(current_value);\n        }\n      } else {\n        // There is no keys, simply update the property value (for data saving)\n        this.instance_property.val = current_value;\n        // Also directly set the lineData value.\n        this.lineData.values[this.instance_property.name] = current_value;\n        // Simply update the custom object with new values.\n        if (this.lineData.object) {\n          currentTime = this.timer.getCurrentTime() / 1000;\n          // Set the property on the instance object.\n          this.lineData.object.update(currentTime - this.lineData.start);\n        }\n      }\n\n      // Something changed, make the lineData dirty to rebuild things. d\n      this.lineData._isDirty = true;\n    }\n  }, {\n    key: 'getCurrentKey',\n    value: function getCurrentKey() {\n      var time = this.timer.getCurrentTime() / 1000;\n      if (!this.instance_property || !this.instance_property.keys) {\n        return false;\n      }\n      if (this.instance_property.keys.length === 0) {\n        return false;\n      }\n      for (var i = 0; i < this.instance_property.keys.length; i++) {\n        var key = this.instance_property.keys[i];\n        if (key.time === time) {\n          return key;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: 'addKey',\n    value: function addKey(val) {\n      var core = this.editor.tweenTime;\n      var currentTime = this.timer.getCurrentTime() / 1000;\n      var key = {\n        time: currentTime,\n        val: val\n      };\n      if (core.options.defaultEase) {\n        key.ease = core.options.defaultEase;\n      }\n      this.instance_property.keys.push(key);\n      this.instance_property.keys = _Utils2.default.sortKeys(this.instance_property.keys);\n      this.lineData._isDirty = true;\n      this.keyAdded.dispatch();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      // current values are defined in @lineData.values\n      this.values = this.lineData.values !== undefined ? this.lineData.values : {};\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var key = this.getCurrentKey();\n      this.$key.toggleClass('property__key--active', key);\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      if (this.keyAdded) {\n        this.keyAdded.dispose();\n      }\n      delete this.instance_property;\n      delete this.lineData;\n      delete this.editor;\n      delete this.key_val;\n\n      delete this.timer;\n      delete this.keyAdded;\n      delete this.$key;\n    }\n  }]);\n\n  return PropertyBase;\n}();\n\nexports.default = PropertyBase;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvUHJvcGVydHlCYXNlLmpzPzZjMGUiXSwibmFtZXMiOlsiU2lnbmFscyIsInJlcXVpcmUiLCJfIiwiUHJvcGVydHlCYXNlIiwiaW5zdGFuY2VfcHJvcGVydHkiLCJsaW5lRGF0YSIsImVkaXRvciIsImtleV92YWwiLCJvbklucHV0Q2hhbmdlIiwiYmluZCIsIm9uS2V5Q2xpY2siLCJ0aW1lciIsImtleUFkZGVkIiwiU2lnbmFsIiwicmVuZGVyIiwiJGtleSIsIiRlbCIsImZpbmQiLCJlIiwicHJldmVudERlZmF1bHQiLCJjdXJyZW50VmFsdWUiLCJnZXRDdXJyZW50VmFsIiwiYWRkS2V5IiwidmFsIiwicHJvcF9uYW1lIiwibmFtZSIsInZhbHVlcyIsInVuZGVmaW5lZCIsImN1cnJlbnRfdmFsdWUiLCJnZXRJbnB1dFZhbCIsImN1cnJlbnRUaW1lIiwiZ2V0Q3VycmVudFRpbWUiLCJ0aW1lIiwia2V5cyIsImxlbmd0aCIsImN1cnJlbnRfa2V5Iiwia2V5Iiwib2JqZWN0IiwidXBkYXRlIiwic3RhcnQiLCJfaXNEaXJ0eSIsImkiLCJjb3JlIiwidHdlZW5UaW1lIiwib3B0aW9ucyIsImRlZmF1bHRFYXNlIiwiZWFzZSIsInB1c2giLCJzb3J0S2V5cyIsImRpc3BhdGNoIiwiZ2V0Q3VycmVudEtleSIsInRvZ2dsZUNsYXNzIiwiZGlzcG9zZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFQTs7Ozs7Ozs7QUFGQSxJQUFJQSxVQUFVLG1CQUFBQyxDQUFRLENBQVIsQ0FBZDtBQUNBLElBQUlDLElBQUksbUJBQUFELENBQVEsRUFBUixDQUFSOztJQUdxQkUsWTtBQUNuQjtBQUNBO0FBQ0Esd0JBQVlDLGlCQUFaLEVBQStCQyxRQUEvQixFQUF5Q0MsTUFBekMsRUFBa0U7QUFBQSxRQUFqQkMsT0FBaUIsdUVBQVAsS0FBTzs7QUFBQTs7QUFDaEUsU0FBS0gsaUJBQUwsR0FBeUJBLGlCQUF6QjtBQUNBLFNBQUtDLFFBQUwsR0FBZ0JB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QUF6QjtBQUNBLFdBQUs1QixRQUFMLENBQWNxQyxRQUFkO0FBQ0Q7Ozs2QkFFUTtBQUNQO0FBQ0EsV0FBS3ZCLE1BQUwsR0FBYyxLQUFLckIsUUFBTCxDQUFjcUIsTUFBZCxLQUF5QkMsU0FBekIsR0FBcUMsS0FBS3RCLFFBQUwsQ0FBY3FCLE1BQW5ELEdBQTRELEVBQTFFO0FBQ0Q7Ozs2QkFFUTtBQUNQLFVBQUlVLE1BQU0sS0FBS2MsYUFBTCxFQUFWO0FBQ0EsV0FBS25DLElBQUwsQ0FBVW9DLFdBQVYsQ0FBc0IsdUJBQXRCLEVBQStDZixHQUEvQztBQUNEOzs7NkJBRVE7QUFDUCxVQUFJLEtBQUt4QixRQUFULEVBQW1CO0FBQ2pCLGFBQUtBLFFBQUwsQ0FBY3dDLE9BQWQ7QUFDRDtBQUNELGFBQU8sS0FBS2hELGlCQUFaO0FBQ0EsYUFBTyxLQUFLQyxRQUFaO0FBQ0EsYUFBTyxLQUFLQyxNQUFaO0FBQ0EsYUFBTyxLQUFLQyxPQUFaOztBQUVBLGFBQU8sS0FBS0ksS0FBWjtBQUNBLGFBQU8sS0FBS0MsUUFBWjtBQUNBLGFBQU8sS0FBS0csSUFBWjtBQUNEOzs7Ozs7a0JBMUlrQlosWSIsImZpbGUiOiIyOC5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBTaWduYWxzID0gcmVxdWlyZSgnanMtc2lnbmFscycpO1xubGV0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcbmltcG9ydCBVdGlscyBmcm9tICcuLi9jb3JlL1V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvcGVydHlCYXNlIHtcbiAgLy8gQGluc3RhbmNlX3Byb3BlcnR5OiBUaGUgY3VycmVudCBwcm9wZXJ0eSBvbiB0aGUgZGF0YSBvYmplY3QuXG4gIC8vIEBsaW5lRGF0YTogVGhlIGxpbmUgZGF0YSBvYmplY3QuXG4gIGNvbnN0cnVjdG9yKGluc3RhbmNlX3Byb3BlcnR5LCBsaW5lRGF0YSwgZWRpdG9yLCBrZXlfdmFsID0gZmFsc2UpIHtcbiAgICB0aGlzLmluc3RhbmNlX3Byb3BlcnR5ID0gaW5zdGFuY2VfcHJvcGVydHk7XG4gICAgdGhpcy5saW5lRGF0YSA9IGxpbmVEYXRhO1xuICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICAgIHRoaXMua2V5X3ZhbCA9IGtleV92YWw7XG5cbiAgICAvLyB0aGlzLnVwZGF0ZSA9IHRoaXMudXBkYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbklucHV0Q2hhbmdlID0gdGhpcy5vbklucHV0Q2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbktleUNsaWNrID0gdGhpcy5vbktleUNsaWNrLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLnRpbWVyID0gZWRpdG9yLnRpbWVyO1xuICAgIHRoaXMua2V5QWRkZWQgPSBuZXcgU2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuXG4gICAgdGhpcy4ka2V5ID0gdGhpcy4kZWwuZmluZCgnLnByb3BlcnR5X19rZXknKTtcbiAgfVxuXG4gIG9uS2V5Q2xpY2soZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgY3VycmVudFZhbHVlID0gdGhpcy5nZXRDdXJyZW50VmFsKCk7XG4gICAgdGhpcy5hZGRLZXkoY3VycmVudFZhbHVlKTtcbiAgfVxuXG4gIGdldElucHV0VmFsKCkge1xuICAgIHJldHVybiB0aGlzLiRlbC5maW5kKCdpbnB1dCcpLnZhbCgpO1xuICB9XG5cbiAgZ2V0Q3VycmVudFZhbCgpIHtcbiAgICB2YXIgdmFsID0gdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS52YWw7XG4gICAgdmFyIHByb3BfbmFtZSA9IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkubmFtZTtcblxuICAgIC8vIGlmIHdlIHNlbGVjdGVkIGEga2V5IHNpbXBseSByZXR1cm4gaXQncyB2YWx1ZVxuICAgIGlmICh0aGlzLmtleV92YWwpIHtcbiAgICAgIHJldHVybiB0aGlzLmtleV92YWwudmFsO1xuICAgIH1cbiAgICBpZiAodGhpcy5saW5lRGF0YS52YWx1ZXMgIT09IHVuZGVmaW5lZCAmJiB0aGlzLmxpbmVEYXRhLnZhbHVlc1twcm9wX25hbWVdKSB7XG4gICAgICByZXR1cm4gdGhpcy5saW5lRGF0YS52YWx1ZXNbcHJvcF9uYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIG9uSW5wdXRDaGFuZ2UoKSB7XG4gICAgdmFyIGN1cnJlbnRfdmFsdWUgPSB0aGlzLmdldElucHV0VmFsKCk7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gdGhpcy50aW1lci5nZXRDdXJyZW50VGltZSgpIC8gMTAwMDtcblxuICAgIC8vIGlmIHdlIHNlbGVjdGVkIGEga2V5IHNpbXBseSBnZXQgdGhlIHRpbWUgZnJvbSBpdC5cbiAgICBpZiAodGhpcy5rZXlfdmFsKSB7XG4gICAgICBjdXJyZW50VGltZSA9IHRoaXMua2V5X3ZhbC50aW1lO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmluc3RhbmNlX3Byb3BlcnR5LmtleXMgJiYgdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS5rZXlzLmxlbmd0aCkge1xuICAgICAgLy8gQWRkIGEgbmV3IGtleSBpZiB0aGVyZSBpcyBubyBvdGhlciBrZXkgYXQgc2FtZSB0aW1lXG4gICAgICB2YXIgY3VycmVudF9rZXkgPSBfLmZpbmQodGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS5rZXlzLCAoa2V5KSA9PiBrZXkudGltZSA9PT0gY3VycmVudFRpbWUpO1xuXG4gICAgICBpZiAoY3VycmVudF9rZXkpIHtcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBrZXkgdXBkYXRlIGl0XG4gICAgICAgIGN1cnJlbnRfa2V5LnZhbCA9IGN1cnJlbnRfdmFsdWU7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gYWRkIGEgbmV3IGtleVxuICAgICAgICB0aGlzLmFkZEtleShjdXJyZW50X3ZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvLyBUaGVyZSBpcyBubyBrZXlzLCBzaW1wbHkgdXBkYXRlIHRoZSBwcm9wZXJ0eSB2YWx1ZSAoZm9yIGRhdGEgc2F2aW5nKVxuICAgICAgdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS52YWwgPSBjdXJyZW50X3ZhbHVlO1xuICAgICAgLy8gQWxzbyBkaXJlY3RseSBzZXQgdGhlIGxpbmVEYXRhIHZhbHVlLlxuICAgICAgdGhpcy5saW5lRGF0YS52YWx1ZXNbdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS5uYW1lXSA9IGN1cnJlbnRfdmFsdWU7XG4gICAgICAvLyBTaW1wbHkgdXBkYXRlIHRoZSBjdXN0b20gb2JqZWN0IHdpdGggbmV3IHZhbHVlcy5cbiAgICAgIGlmICh0aGlzLmxpbmVEYXRhLm9iamVjdCkge1xuICAgICAgICBjdXJyZW50VGltZSA9IHRoaXMudGltZXIuZ2V0Q3VycmVudFRpbWUoKSAvIDEwMDA7XG4gICAgICAgIC8vIFNldCB0aGUgcHJvcGVydHkgb24gdGhlIGluc3RhbmNlIG9iamVjdC5cbiAgICAgICAgdGhpcy5saW5lRGF0YS5vYmplY3QudXBkYXRlKGN1cnJlbnRUaW1lIC0gdGhpcy5saW5lRGF0YS5zdGFydCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU29tZXRoaW5nIGNoYW5nZWQsIG1ha2UgdGhlIGxpbmVEYXRhIGRpcnR5IHRvIHJlYnVpbGQgdGhpbmdzLiBkXG4gICAgdGhpcy5saW5lRGF0YS5faXNEaXJ0eSA9IHRydWU7XG4gIH1cblxuICBnZXRDdXJyZW50S2V5KCkge1xuICAgIHZhciB0aW1lID0gdGhpcy50aW1lci5nZXRDdXJyZW50VGltZSgpIC8gMTAwMDtcbiAgICBpZiAoIXRoaXMuaW5zdGFuY2VfcHJvcGVydHkgfHwgIXRoaXMuaW5zdGFuY2VfcHJvcGVydHkua2V5cykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS5rZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkua2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkua2V5c1tpXTtcbiAgICAgIGlmIChrZXkudGltZSA9PT0gdGltZSkge1xuICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBhZGRLZXkodmFsKSB7XG4gICAgdmFyIGNvcmUgPSB0aGlzLmVkaXRvci50d2VlblRpbWU7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gdGhpcy50aW1lci5nZXRDdXJyZW50VGltZSgpIC8gMTAwMDtcbiAgICB2YXIga2V5ID0ge1xuICAgICAgdGltZTogY3VycmVudFRpbWUsXG4gICAgICB2YWw6IHZhbFxuICAgIH07XG4gICAgaWYgKGNvcmUub3B0aW9ucy5kZWZhdWx0RWFzZSkge1xuICAgICAga2V5LmVhc2UgPSBjb3JlLm9wdGlvbnMuZGVmYXVsdEVhc2U7XG4gICAgfVxuICAgIHRoaXMuaW5zdGFuY2VfcHJvcGVydHkua2V5cy5wdXNoKGtleSk7XG4gICAgdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS5rZXlzID0gVXRpbHMuc29ydEtleXModGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS5rZXlzKTtcbiAgICB0aGlzLmxpbmVEYXRhLl9pc0RpcnR5ID0gdHJ1ZTtcbiAgICB0aGlzLmtleUFkZGVkLmRpc3BhdGNoKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLy8gY3VycmVudCB2YWx1ZXMgYXJlIGRlZmluZWQgaW4gQGxpbmVEYXRhLnZhbHVlc1xuICAgIHRoaXMudmFsdWVzID0gdGhpcy5saW5lRGF0YS52YWx1ZXMgIT09IHVuZGVmaW5lZCA/IHRoaXMubGluZURhdGEudmFsdWVzIDoge307XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgdmFyIGtleSA9IHRoaXMuZ2V0Q3VycmVudEtleSgpO1xuICAgIHRoaXMuJGtleS50b2dnbGVDbGFzcygncHJvcGVydHlfX2tleS0tYWN0aXZlJywga2V5KTtcbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICBpZiAodGhpcy5rZXlBZGRlZCkge1xuICAgICAgdGhpcy5rZXlBZGRlZC5kaXNwb3NlKCk7XG4gICAgfVxuICAgIGRlbGV0ZSB0aGlzLmluc3RhbmNlX3Byb3BlcnR5O1xuICAgIGRlbGV0ZSB0aGlzLmxpbmVEYXRhO1xuICAgIGRlbGV0ZSB0aGlzLmVkaXRvcjtcbiAgICBkZWxldGUgdGhpcy5rZXlfdmFsO1xuXG4gICAgZGVsZXRlIHRoaXMudGltZXI7XG4gICAgZGVsZXRlIHRoaXMua2V5QWRkZWQ7XG4gICAgZGVsZXRlIHRoaXMuJGtleTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZWRpdG9yL1Byb3BlcnR5QmFzZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 29 */
/***/ (function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_29__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiRHJhZ2dhYmxlTnVtYmVyXCIsXCJjb21tb25qc1wiOlwiZHJhZ2dhYmxlLW51bWJlci5qc1wiLFwiY29tbW9uanMyXCI6XCJkcmFnZ2FibGUtbnVtYmVyLmpzXCIsXCJhbWRcIjpcIkRyYWdnYWJsZU51bWJlclwifT8zODk0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzI5X187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wicm9vdFwiOlwiRHJhZ2dhYmxlTnVtYmVyXCIsXCJjb21tb25qc1wiOlwiZHJhZ2dhYmxlLW51bWJlci5qc1wiLFwiY29tbW9uanMyXCI6XCJkcmFnZ2FibGUtbnVtYmVyLmpzXCIsXCJhbWRcIjpcIkRyYWdnYWJsZU51bWJlclwifVxuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

	eval("var H = __webpack_require__(31);\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">\");t.b(t.v(t.f(\"label\",c,p,0)));t.b(\"</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"number\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"val\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">{{label}}</label>\\n  <input type=\\\"number\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{val}}\\\" />\\n</div>\\n\", H); return T.render.apply(T, arguments); };//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZW1wbGF0ZXMvcHJvcGVydHlOdW1iZXIudHBsLmh0bWw/ODBmYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLDZCQUE2Qix5QkFBeUIsd0JBQXdCLFlBQVksYUFBYSxpREFBaUQsY0FBYyxtREFBbUQsY0FBYyx1QkFBdUIsMEJBQTBCLHFDQUFxQyw2QkFBNkIsZ0JBQWdCLGNBQWMsc0NBQXNDLDBCQUEwQiw2Q0FBNkMsMkJBQTJCLGFBQWEsY0FBYyxjQUFjLFVBQVUsY0FBYyxFQUFFLGFBQWEsU0FBUyxJQUFJLDRHQUE0RyxJQUFJLCtCQUErQixPQUFPLDBDQUEwQyxJQUFJLHVDQUF1QyxLQUFLLHFCQUFxQixxQ0FBcUMiLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSCA9IHJlcXVpcmUoXCJob2dhbi5qc1wiKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7IHZhciBUID0gbmV3IEguVGVtcGxhdGUoe2NvZGU6IGZ1bmN0aW9uIChjLHAsaSkgeyB2YXIgdD10aGlzO3QuYihpPWl8fFwiXCIpO3QuYihcIjxkaXYgY2xhc3M9XFxcInByb3BlcnR5IHByb3BlcnR5LS1udW1iZXJcXFwiPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgPGJ1dHRvbiBjbGFzcz1cXFwicHJvcGVydHlfX2tleVxcXCI+PC9idXR0b24+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8bGFiZWwgZm9yPVxcXCJcIik7dC5iKHQudih0LmYoXCJpZFwiLGMscCwwKSkpO3QuYihcIlxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19sYWJlbFxcXCI+XCIpO3QuYih0LnYodC5mKFwibGFiZWxcIixjLHAsMCkpKTt0LmIoXCI8L2xhYmVsPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgPGlucHV0IHR5cGU9XFxcIm51bWJlclxcXCIgaWQ9XFxcIlwiKTt0LmIodC52KHQuZihcImlkXCIsYyxwLDApKSk7dC5iKFwiXFxcIiBjbGFzcz1cXFwicHJvcGVydHlfX2lucHV0XFxcIiB2YWx1ZT1cXFwiXCIpO3QuYih0LnYodC5mKFwidmFsXCIsYyxwLDApKSk7dC5iKFwiXFxcIiAvPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIjwvZGl2PlwiKTt0LmIoXCJcXG5cIik7cmV0dXJuIHQuZmwoKTsgfSxwYXJ0aWFsczoge30sIHN1YnM6IHsgIH19LCBcIjxkaXYgY2xhc3M9XFxcInByb3BlcnR5IHByb3BlcnR5LS1udW1iZXJcXFwiPlxcbiAgPGJ1dHRvbiBjbGFzcz1cXFwicHJvcGVydHlfX2tleVxcXCI+PC9idXR0b24+XFxuICA8bGFiZWwgZm9yPVxcXCJ7e2lkfX1cXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9fbGFiZWxcXFwiPnt7bGFiZWx9fTwvbGFiZWw+XFxuICA8aW5wdXQgdHlwZT1cXFwibnVtYmVyXFxcIiBpZD1cXFwie3tpZH19XFxcIiBjbGFzcz1cXFwicHJvcGVydHlfX2lucHV0XFxcIiB2YWx1ZT1cXFwie3t2YWx9fVxcXCIgLz5cXG48L2Rpdj5cXG5cIiwgSCk7IHJldHVybiBULnJlbmRlci5hcHBseShULCBhcmd1bWVudHMpOyB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vdGVtcGxhdGVzL3Byb3BlcnR5TnVtYmVyLnRwbC5odG1sXG4vLyBtb2R1bGUgaWQgPSAzMFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

	eval("/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n// This file is for use with Node.js. See dist/ for browser files.\n\nvar Hogan = __webpack_require__(32);\nHogan.Template = __webpack_require__(33).Template;\nHogan.template = Hogan.Template;\nmodule.exports = Hogan;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3BvbHkvd3MvVHdlZW5UaW1lL34vaG9nYW4uanMvbGliL2hvZ2FuLmpzP2MzNjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIzMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgQ29weXJpZ2h0IDIwMTEgVHdpdHRlciwgSW5jLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLy8gVGhpcyBmaWxlIGlzIGZvciB1c2Ugd2l0aCBOb2RlLmpzLiBTZWUgZGlzdC8gZm9yIGJyb3dzZXIgZmlsZXMuXG5cbnZhciBIb2dhbiA9IHJlcXVpcmUoJy4vY29tcGlsZXInKTtcbkhvZ2FuLlRlbXBsYXRlID0gcmVxdWlyZSgnLi90ZW1wbGF0ZScpLlRlbXBsYXRlO1xuSG9nYW4udGVtcGxhdGUgPSBIb2dhbi5UZW1wbGF0ZTtcbm1vZHVsZS5leHBvcnRzID0gSG9nYW47XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvcG9seS93cy9Ud2VlblRpbWUvfi9ob2dhbi5qcy9saWIvaG9nYW4uanNcbi8vIG1vZHVsZSBpZCA9IDMxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

	eval("/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n(function (Hogan) {\n  // Setup regex  assignments\n  // remove whitespace according to Mustache spec\n  var rIsWhitespace = /\\S/,\n      rQuot = /\\\"/g,\n      rNewline =  /\\n/g,\n      rCr = /\\r/g,\n      rSlash = /\\\\/g,\n      rLineSep = /\\u2028/,\n      rParagraphSep = /\\u2029/;\n\n  Hogan.tags = {\n    '#': 1, '^': 2, '<': 3, '$': 4,\n    '/': 5, '!': 6, '>': 7, '=': 8, '_v': 9,\n    '{': 10, '&': 11, '_t': 12\n  };\n\n  Hogan.scan = function scan(text, delimiters) {\n    var len = text.length,\n        IN_TEXT = 0,\n        IN_TAG_TYPE = 1,\n        IN_TAG = 2,\n        state = IN_TEXT,\n        tagType = null,\n        tag = null,\n        buf = '',\n        tokens = [],\n        seenTag = false,\n        i = 0,\n        lineStart = 0,\n        otag = '{{',\n        ctag = '}}';\n\n    function addBuf() {\n      if (buf.length > 0) {\n        tokens.push({tag: '_t', text: new String(buf)});\n        buf = '';\n      }\n    }\n\n    function lineIsWhitespace() {\n      var isAllWhitespace = true;\n      for (var j = lineStart; j < tokens.length; j++) {\n        isAllWhitespace =\n          (Hogan.tags[tokens[j].tag] < Hogan.tags['_v']) ||\n          (tokens[j].tag == '_t' && tokens[j].text.match(rIsWhitespace) === null);\n        if (!isAllWhitespace) {\n          return false;\n        }\n      }\n\n      return isAllWhitespace;\n    }\n\n    function filterLine(haveSeenTag, noNewLine) {\n      addBuf();\n\n      if (haveSeenTag && lineIsWhitespace()) {\n        for (var j = lineStart, next; j < tokens.length; j++) {\n          if (tokens[j].text) {\n            if ((next = tokens[j+1]) && next.tag == '>') {\n              // set indent to token value\n              next.indent = tokens[j].text.toString()\n            }\n            tokens.splice(j, 1);\n          }\n        }\n      } else if (!noNewLine) {\n        tokens.push({tag:'\\n'});\n      }\n\n      seenTag = false;\n      lineStart = tokens.length;\n    }\n\n    function changeDelimiters(text, index) {\n      var close = '=' + ctag,\n          closeIndex = text.indexOf(close, index),\n          delimiters = trim(\n            text.substring(text.indexOf('=', index) + 1, closeIndex)\n          ).split(' ');\n\n      otag = delimiters[0];\n      ctag = delimiters[delimiters.length - 1];\n\n      return closeIndex + close.length - 1;\n    }\n\n    if (delimiters) {\n      delimiters = delimiters.split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[1];\n    }\n\n    for (i = 0; i < len; i++) {\n      if (state == IN_TEXT) {\n        if (tagChange(otag, text, i)) {\n          --i;\n          addBuf();\n          state = IN_TAG_TYPE;\n        } else {\n          if (text.charAt(i) == '\\n') {\n            filterLine(seenTag);\n          } else {\n            buf += text.charAt(i);\n          }\n        }\n      } else if (state == IN_TAG_TYPE) {\n        i += otag.length - 1;\n        tag = Hogan.tags[text.charAt(i + 1)];\n        tagType = tag ? text.charAt(i + 1) : '_v';\n        if (tagType == '=') {\n          i = changeDelimiters(text, i);\n          state = IN_TEXT;\n        } else {\n          if (tag) {\n            i++;\n          }\n          state = IN_TAG;\n        }\n        seenTag = i;\n      } else {\n        if (tagChange(ctag, text, i)) {\n          tokens.push({tag: tagType, n: trim(buf), otag: otag, ctag: ctag,\n                       i: (tagType == '/') ? seenTag - otag.length : i + ctag.length});\n          buf = '';\n          i += ctag.length - 1;\n          state = IN_TEXT;\n          if (tagType == '{') {\n            if (ctag == '}}') {\n              i++;\n            } else {\n              cleanTripleStache(tokens[tokens.length - 1]);\n            }\n          }\n        } else {\n          buf += text.charAt(i);\n        }\n      }\n    }\n\n    filterLine(seenTag, true);\n\n    return tokens;\n  }\n\n  function cleanTripleStache(token) {\n    if (token.n.substr(token.n.length - 1) === '}') {\n      token.n = token.n.substring(0, token.n.length - 1);\n    }\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  function tagChange(tag, text, index) {\n    if (text.charAt(index) != tag.charAt(0)) {\n      return false;\n    }\n\n    for (var i = 1, l = tag.length; i < l; i++) {\n      if (text.charAt(index + i) != tag.charAt(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  // the tags allowed inside super templates\n  var allowedInSuper = {'_t': true, '\\n': true, '$': true, '/': true};\n\n  function buildTree(tokens, kind, stack, customTags) {\n    var instructions = [],\n        opener = null,\n        tail = null,\n        token = null;\n\n    tail = stack[stack.length - 1];\n\n    while (tokens.length > 0) {\n      token = tokens.shift();\n\n      if (tail && tail.tag == '<' && !(token.tag in allowedInSuper)) {\n        throw new Error('Illegal content in < super tag.');\n      }\n\n      if (Hogan.tags[token.tag] <= Hogan.tags['$'] || isOpener(token, customTags)) {\n        stack.push(token);\n        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n      } else if (token.tag == '/') {\n        if (stack.length === 0) {\n          throw new Error('Closing tag without opener: /' + token.n);\n        }\n        opener = stack.pop();\n        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n        }\n        opener.end = token.i;\n        return instructions;\n      } else if (token.tag == '\\n') {\n        token.last = (tokens.length == 0) || (tokens[0].tag == '\\n');\n      }\n\n      instructions.push(token);\n    }\n\n    if (stack.length > 0) {\n      throw new Error('missing closing tag: ' + stack.pop().n);\n    }\n\n    return instructions;\n  }\n\n  function isOpener(token, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].o == token.n) {\n        token.tag = '#';\n        return true;\n      }\n    }\n  }\n\n  function isCloser(close, open, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].c == close && tags[i].o == open) {\n        return true;\n      }\n    }\n  }\n\n  function stringifySubstitutions(obj) {\n    var items = [];\n    for (var key in obj) {\n      items.push('\"' + esc(key) + '\": function(c,p,t,i) {' + obj[key] + '}');\n    }\n    return \"{ \" + items.join(\",\") + \" }\";\n  }\n\n  function stringifyPartials(codeObj) {\n    var partials = [];\n    for (var key in codeObj.partials) {\n      partials.push('\"' + esc(key) + '\":{name:\"' + esc(codeObj.partials[key].name) + '\", ' + stringifyPartials(codeObj.partials[key]) + \"}\");\n    }\n    return \"partials: {\" + partials.join(\",\") + \"}, subs: \" + stringifySubstitutions(codeObj.subs);\n  }\n\n  Hogan.stringify = function(codeObj, text, options) {\n    return \"{code: function (c,p,i) { \" + Hogan.wrapMain(codeObj.code) + \" },\" + stringifyPartials(codeObj) +  \"}\";\n  }\n\n  var serialNo = 0;\n  Hogan.generate = function(tree, text, options) {\n    serialNo = 0;\n    var context = { code: '', subs: {}, partials: {} };\n    Hogan.walk(tree, context);\n\n    if (options.asString) {\n      return this.stringify(context, text, options);\n    }\n\n    return this.makeTemplate(context, text, options);\n  }\n\n  Hogan.wrapMain = function(code) {\n    return 'var t=this;t.b(i=i||\"\");' + code + 'return t.fl();';\n  }\n\n  Hogan.template = Hogan.Template;\n\n  Hogan.makeTemplate = function(codeObj, text, options) {\n    var template = this.makePartials(codeObj);\n    template.code = new Function('c', 'p', 'i', this.wrapMain(codeObj.code));\n    return new this.template(template, text, this, options);\n  }\n\n  Hogan.makePartials = function(codeObj) {\n    var key, template = {subs: {}, partials: codeObj.partials, name: codeObj.name};\n    for (key in template.partials) {\n      template.partials[key] = this.makePartials(template.partials[key]);\n    }\n    for (key in codeObj.subs) {\n      template.subs[key] = new Function('c', 'p', 't', 'i', codeObj.subs[key]);\n    }\n    return template;\n  }\n\n  function esc(s) {\n    return s.replace(rSlash, '\\\\\\\\')\n            .replace(rQuot, '\\\\\\\"')\n            .replace(rNewline, '\\\\n')\n            .replace(rCr, '\\\\r')\n            .replace(rLineSep, '\\\\u2028')\n            .replace(rParagraphSep, '\\\\u2029');\n  }\n\n  function chooseMethod(s) {\n    return (~s.indexOf('.')) ? 'd' : 'f';\n  }\n\n  function createPartial(node, context) {\n    var prefix = \"<\" + (context.prefix || \"\");\n    var sym = prefix + node.n + serialNo++;\n    context.partials[sym] = {name: node.n, partials: {}};\n    context.code += 't.b(t.rp(\"' +  esc(sym) + '\",c,p,\"' + (node.indent || '') + '\"));';\n    return sym;\n  }\n\n  Hogan.codegen = {\n    '#': function(node, context) {\n      context.code += 'if(t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),' +\n                      'c,p,0,' + node.i + ',' + node.end + ',\"' + node.otag + \" \" + node.ctag + '\")){' +\n                      't.rs(c,p,' + 'function(c,p,t){';\n      Hogan.walk(node.nodes, context);\n      context.code += '});c.pop();}';\n    },\n\n    '^': function(node, context) {\n      context.code += 'if(!t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),c,p,1,0,0,\"\")){';\n      Hogan.walk(node.nodes, context);\n      context.code += '};';\n    },\n\n    '>': createPartial,\n    '<': function(node, context) {\n      var ctx = {partials: {}, code: '', subs: {}, inPartial: true};\n      Hogan.walk(node.nodes, ctx);\n      var template = context.partials[createPartial(node, context)];\n      template.subs = ctx.subs;\n      template.partials = ctx.partials;\n    },\n\n    '$': function(node, context) {\n      var ctx = {subs: {}, code: '', partials: context.partials, prefix: node.n};\n      Hogan.walk(node.nodes, ctx);\n      context.subs[node.n] = ctx.code;\n      if (!context.inPartial) {\n        context.code += 't.sub(\"' + esc(node.n) + '\",c,p,i);';\n      }\n    },\n\n    '\\n': function(node, context) {\n      context.code += write('\"\\\\n\"' + (node.last ? '' : ' + i'));\n    },\n\n    '_v': function(node, context) {\n      context.code += 't.b(t.v(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n    },\n\n    '_t': function(node, context) {\n      context.code += write('\"' + esc(node.text) + '\"');\n    },\n\n    '{': tripleStache,\n\n    '&': tripleStache\n  }\n\n  function tripleStache(node, context) {\n    context.code += 't.b(t.t(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n  }\n\n  function write(s) {\n    return 't.b(' + s + ');';\n  }\n\n  Hogan.walk = function(nodelist, context) {\n    var func;\n    for (var i = 0, l = nodelist.length; i < l; i++) {\n      func = Hogan.codegen[nodelist[i].tag];\n      func && func(nodelist[i], context);\n    }\n    return context;\n  }\n\n  Hogan.parse = function(tokens, text, options) {\n    options = options || {};\n    return buildTree(tokens, '', [], options.sectionTags || []);\n  }\n\n  Hogan.cache = {};\n\n  Hogan.cacheKey = function(text, options) {\n    return [text, !!options.asString, !!options.disableLambda, options.delimiters, !!options.modelGet].join('||');\n  }\n\n  Hogan.compile = function(text, options) {\n    options = options || {};\n    var key = Hogan.cacheKey(text, options);\n    var template = this.cache[key];\n\n    if (template) {\n      var partials = template.partials;\n      for (var name in partials) {\n        delete partials[name].instance;\n      }\n      return template;\n    }\n\n    template = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n    return this.cache[key] = template;\n  }\n})( true ? exports : Hogan);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3BvbHkvd3MvVHdlZW5UaW1lL34vaG9nYW4uanMvbGliL2NvbXBpbGVyLmpzPzg1NTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsa0JBQWtCOztBQUVsQjtBQUNBO0FBQ0EscUJBQXFCLGlDQUFpQztBQUN0RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EscUNBQXFDLG1CQUFtQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLHFCQUFxQixTQUFTO0FBQzlCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLHVCQUF1QjtBQUN2QixxRkFBcUY7QUFDckY7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCLDJCQUEyQjtBQUMzQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQ0FBbUMsT0FBTztBQUMxQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCOztBQUV4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esb0NBQW9DLE9BQU87QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0NBQW9DLE9BQU87QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsaUJBQWlCO0FBQzFFO0FBQ0EsYUFBYSwwQkFBMEI7QUFDdkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGlHQUFpRztBQUMxSTtBQUNBLHVCQUF1QiwyQkFBMkI7QUFDbEQ7O0FBRUE7QUFDQSxhQUFhLHdCQUF3Qix1Q0FBdUMscUNBQXFDO0FBQ2pIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixtQkFBbUIsY0FBYztBQUNwRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QixhQUFhLDBCQUEwQjtBQUM5RDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EseUJBQXlCLFFBQVE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0Isc0ZBQXNGO0FBQ3RGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUdBQXFHO0FBQ3JHLHFEQUFxRDtBQUNyRDtBQUNBLHdCQUF3QixFQUFFLFNBQVM7QUFDbkMsS0FBSzs7QUFFTDtBQUNBLDBHQUEwRztBQUMxRztBQUNBLHlCQUF5QjtBQUN6QixLQUFLOztBQUVMO0FBQ0E7QUFDQSxpQkFBaUIsWUFBWSxvQkFBb0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0EsNERBQTREO0FBQzVEO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLDZGQUE2RjtBQUM3RixLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMLE1BQU07O0FBRU47QUFDQTs7QUFFQTtBQUNBLDJGQUEyRjtBQUMzRjs7QUFFQTtBQUNBLDJCQUEyQjtBQUMzQjs7QUFFQTtBQUNBO0FBQ0Esd0NBQXdDLE9BQU87QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsImZpbGUiOiIzMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgQ29weXJpZ2h0IDIwMTEgVHdpdHRlciwgSW5jLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuKGZ1bmN0aW9uIChIb2dhbikge1xuICAvLyBTZXR1cCByZWdleCAgYXNzaWdubWVudHNcbiAgLy8gcmVtb3ZlIHdoaXRlc3BhY2UgYWNjb3JkaW5nIHRvIE11c3RhY2hlIHNwZWNcbiAgdmFyIHJJc1doaXRlc3BhY2UgPSAvXFxTLyxcbiAgICAgIHJRdW90ID0gL1xcXCIvZyxcbiAgICAgIHJOZXdsaW5lID0gIC9cXG4vZyxcbiAgICAgIHJDciA9IC9cXHIvZyxcbiAgICAgIHJTbGFzaCA9IC9cXFxcL2csXG4gICAgICByTGluZVNlcCA9IC9cXHUyMDI4LyxcbiAgICAgIHJQYXJhZ3JhcGhTZXAgPSAvXFx1MjAyOS87XG5cbiAgSG9nYW4udGFncyA9IHtcbiAgICAnIyc6IDEsICdeJzogMiwgJzwnOiAzLCAnJCc6IDQsXG4gICAgJy8nOiA1LCAnISc6IDYsICc+JzogNywgJz0nOiA4LCAnX3YnOiA5LFxuICAgICd7JzogMTAsICcmJzogMTEsICdfdCc6IDEyXG4gIH07XG5cbiAgSG9nYW4uc2NhbiA9IGZ1bmN0aW9uIHNjYW4odGV4dCwgZGVsaW1pdGVycykge1xuICAgIHZhciBsZW4gPSB0ZXh0Lmxlbmd0aCxcbiAgICAgICAgSU5fVEVYVCA9IDAsXG4gICAgICAgIElOX1RBR19UWVBFID0gMSxcbiAgICAgICAgSU5fVEFHID0gMixcbiAgICAgICAgc3RhdGUgPSBJTl9URVhULFxuICAgICAgICB0YWdUeXBlID0gbnVsbCxcbiAgICAgICAgdGFnID0gbnVsbCxcbiAgICAgICAgYnVmID0gJycsXG4gICAgICAgIHRva2VucyA9IFtdLFxuICAgICAgICBzZWVuVGFnID0gZmFsc2UsXG4gICAgICAgIGkgPSAwLFxuICAgICAgICBsaW5lU3RhcnQgPSAwLFxuICAgICAgICBvdGFnID0gJ3t7JyxcbiAgICAgICAgY3RhZyA9ICd9fSc7XG5cbiAgICBmdW5jdGlvbiBhZGRCdWYoKSB7XG4gICAgICBpZiAoYnVmLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdG9rZW5zLnB1c2goe3RhZzogJ190JywgdGV4dDogbmV3IFN0cmluZyhidWYpfSk7XG4gICAgICAgIGJ1ZiA9ICcnO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpbmVJc1doaXRlc3BhY2UoKSB7XG4gICAgICB2YXIgaXNBbGxXaGl0ZXNwYWNlID0gdHJ1ZTtcbiAgICAgIGZvciAodmFyIGogPSBsaW5lU3RhcnQ7IGogPCB0b2tlbnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaXNBbGxXaGl0ZXNwYWNlID1cbiAgICAgICAgICAoSG9nYW4udGFnc1t0b2tlbnNbal0udGFnXSA8IEhvZ2FuLnRhZ3NbJ192J10pIHx8XG4gICAgICAgICAgKHRva2Vuc1tqXS50YWcgPT0gJ190JyAmJiB0b2tlbnNbal0udGV4dC5tYXRjaChySXNXaGl0ZXNwYWNlKSA9PT0gbnVsbCk7XG4gICAgICAgIGlmICghaXNBbGxXaGl0ZXNwYWNlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc0FsbFdoaXRlc3BhY2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmlsdGVyTGluZShoYXZlU2VlblRhZywgbm9OZXdMaW5lKSB7XG4gICAgICBhZGRCdWYoKTtcblxuICAgICAgaWYgKGhhdmVTZWVuVGFnICYmIGxpbmVJc1doaXRlc3BhY2UoKSkge1xuICAgICAgICBmb3IgKHZhciBqID0gbGluZVN0YXJ0LCBuZXh0OyBqIDwgdG9rZW5zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgaWYgKHRva2Vuc1tqXS50ZXh0KSB7XG4gICAgICAgICAgICBpZiAoKG5leHQgPSB0b2tlbnNbaisxXSkgJiYgbmV4dC50YWcgPT0gJz4nKSB7XG4gICAgICAgICAgICAgIC8vIHNldCBpbmRlbnQgdG8gdG9rZW4gdmFsdWVcbiAgICAgICAgICAgICAgbmV4dC5pbmRlbnQgPSB0b2tlbnNbal0udGV4dC50b1N0cmluZygpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2tlbnMuc3BsaWNlKGosIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghbm9OZXdMaW5lKSB7XG4gICAgICAgIHRva2Vucy5wdXNoKHt0YWc6J1xcbid9KTtcbiAgICAgIH1cblxuICAgICAgc2VlblRhZyA9IGZhbHNlO1xuICAgICAgbGluZVN0YXJ0ID0gdG9rZW5zLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGFuZ2VEZWxpbWl0ZXJzKHRleHQsIGluZGV4KSB7XG4gICAgICB2YXIgY2xvc2UgPSAnPScgKyBjdGFnLFxuICAgICAgICAgIGNsb3NlSW5kZXggPSB0ZXh0LmluZGV4T2YoY2xvc2UsIGluZGV4KSxcbiAgICAgICAgICBkZWxpbWl0ZXJzID0gdHJpbShcbiAgICAgICAgICAgIHRleHQuc3Vic3RyaW5nKHRleHQuaW5kZXhPZignPScsIGluZGV4KSArIDEsIGNsb3NlSW5kZXgpXG4gICAgICAgICAgKS5zcGxpdCgnICcpO1xuXG4gICAgICBvdGFnID0gZGVsaW1pdGVyc1swXTtcbiAgICAgIGN0YWcgPSBkZWxpbWl0ZXJzW2RlbGltaXRlcnMubGVuZ3RoIC0gMV07XG5cbiAgICAgIHJldHVybiBjbG9zZUluZGV4ICsgY2xvc2UubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBpZiAoZGVsaW1pdGVycykge1xuICAgICAgZGVsaW1pdGVycyA9IGRlbGltaXRlcnMuc3BsaXQoJyAnKTtcbiAgICAgIG90YWcgPSBkZWxpbWl0ZXJzWzBdO1xuICAgICAgY3RhZyA9IGRlbGltaXRlcnNbMV07XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoc3RhdGUgPT0gSU5fVEVYVCkge1xuICAgICAgICBpZiAodGFnQ2hhbmdlKG90YWcsIHRleHQsIGkpKSB7XG4gICAgICAgICAgLS1pO1xuICAgICAgICAgIGFkZEJ1ZigpO1xuICAgICAgICAgIHN0YXRlID0gSU5fVEFHX1RZUEU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRleHQuY2hhckF0KGkpID09ICdcXG4nKSB7XG4gICAgICAgICAgICBmaWx0ZXJMaW5lKHNlZW5UYWcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidWYgKz0gdGV4dC5jaGFyQXQoaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09IElOX1RBR19UWVBFKSB7XG4gICAgICAgIGkgKz0gb3RhZy5sZW5ndGggLSAxO1xuICAgICAgICB0YWcgPSBIb2dhbi50YWdzW3RleHQuY2hhckF0KGkgKyAxKV07XG4gICAgICAgIHRhZ1R5cGUgPSB0YWcgPyB0ZXh0LmNoYXJBdChpICsgMSkgOiAnX3YnO1xuICAgICAgICBpZiAodGFnVHlwZSA9PSAnPScpIHtcbiAgICAgICAgICBpID0gY2hhbmdlRGVsaW1pdGVycyh0ZXh0LCBpKTtcbiAgICAgICAgICBzdGF0ZSA9IElOX1RFWFQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRhZykge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGF0ZSA9IElOX1RBRztcbiAgICAgICAgfVxuICAgICAgICBzZWVuVGFnID0gaTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0YWdDaGFuZ2UoY3RhZywgdGV4dCwgaSkpIHtcbiAgICAgICAgICB0b2tlbnMucHVzaCh7dGFnOiB0YWdUeXBlLCBuOiB0cmltKGJ1ZiksIG90YWc6IG90YWcsIGN0YWc6IGN0YWcsXG4gICAgICAgICAgICAgICAgICAgICAgIGk6ICh0YWdUeXBlID09ICcvJykgPyBzZWVuVGFnIC0gb3RhZy5sZW5ndGggOiBpICsgY3RhZy5sZW5ndGh9KTtcbiAgICAgICAgICBidWYgPSAnJztcbiAgICAgICAgICBpICs9IGN0YWcubGVuZ3RoIC0gMTtcbiAgICAgICAgICBzdGF0ZSA9IElOX1RFWFQ7XG4gICAgICAgICAgaWYgKHRhZ1R5cGUgPT0gJ3snKSB7XG4gICAgICAgICAgICBpZiAoY3RhZyA9PSAnfX0nKSB7XG4gICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNsZWFuVHJpcGxlU3RhY2hlKHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBidWYgKz0gdGV4dC5jaGFyQXQoaSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmaWx0ZXJMaW5lKHNlZW5UYWcsIHRydWUpO1xuXG4gICAgcmV0dXJuIHRva2VucztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFuVHJpcGxlU3RhY2hlKHRva2VuKSB7XG4gICAgaWYgKHRva2VuLm4uc3Vic3RyKHRva2VuLm4ubGVuZ3RoIC0gMSkgPT09ICd9Jykge1xuICAgICAgdG9rZW4ubiA9IHRva2VuLm4uc3Vic3RyaW5nKDAsIHRva2VuLm4ubGVuZ3RoIC0gMSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJpbShzKSB7XG4gICAgaWYgKHMudHJpbSkge1xuICAgICAgcmV0dXJuIHMudHJpbSgpO1xuICAgIH1cblxuICAgIHJldHVybiBzLnJlcGxhY2UoL15cXHMqfFxccyokL2csICcnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRhZ0NoYW5nZSh0YWcsIHRleHQsIGluZGV4KSB7XG4gICAgaWYgKHRleHQuY2hhckF0KGluZGV4KSAhPSB0YWcuY2hhckF0KDApKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDEsIGwgPSB0YWcubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAodGV4dC5jaGFyQXQoaW5kZXggKyBpKSAhPSB0YWcuY2hhckF0KGkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIHRoZSB0YWdzIGFsbG93ZWQgaW5zaWRlIHN1cGVyIHRlbXBsYXRlc1xuICB2YXIgYWxsb3dlZEluU3VwZXIgPSB7J190JzogdHJ1ZSwgJ1xcbic6IHRydWUsICckJzogdHJ1ZSwgJy8nOiB0cnVlfTtcblxuICBmdW5jdGlvbiBidWlsZFRyZWUodG9rZW5zLCBraW5kLCBzdGFjaywgY3VzdG9tVGFncykge1xuICAgIHZhciBpbnN0cnVjdGlvbnMgPSBbXSxcbiAgICAgICAgb3BlbmVyID0gbnVsbCxcbiAgICAgICAgdGFpbCA9IG51bGwsXG4gICAgICAgIHRva2VuID0gbnVsbDtcblxuICAgIHRhaWwgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcblxuICAgIHdoaWxlICh0b2tlbnMubGVuZ3RoID4gMCkge1xuICAgICAgdG9rZW4gPSB0b2tlbnMuc2hpZnQoKTtcblxuICAgICAgaWYgKHRhaWwgJiYgdGFpbC50YWcgPT0gJzwnICYmICEodG9rZW4udGFnIGluIGFsbG93ZWRJblN1cGVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgY29udGVudCBpbiA8IHN1cGVyIHRhZy4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKEhvZ2FuLnRhZ3NbdG9rZW4udGFnXSA8PSBIb2dhbi50YWdzWyckJ10gfHwgaXNPcGVuZXIodG9rZW4sIGN1c3RvbVRhZ3MpKSB7XG4gICAgICAgIHN0YWNrLnB1c2godG9rZW4pO1xuICAgICAgICB0b2tlbi5ub2RlcyA9IGJ1aWxkVHJlZSh0b2tlbnMsIHRva2VuLnRhZywgc3RhY2ssIGN1c3RvbVRhZ3MpO1xuICAgICAgfSBlbHNlIGlmICh0b2tlbi50YWcgPT0gJy8nKSB7XG4gICAgICAgIGlmIChzdGFjay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nsb3NpbmcgdGFnIHdpdGhvdXQgb3BlbmVyOiAvJyArIHRva2VuLm4pO1xuICAgICAgICB9XG4gICAgICAgIG9wZW5lciA9IHN0YWNrLnBvcCgpO1xuICAgICAgICBpZiAodG9rZW4ubiAhPSBvcGVuZXIubiAmJiAhaXNDbG9zZXIodG9rZW4ubiwgb3BlbmVyLm4sIGN1c3RvbVRhZ3MpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZXN0aW5nIGVycm9yOiAnICsgb3BlbmVyLm4gKyAnIHZzLiAnICsgdG9rZW4ubik7XG4gICAgICAgIH1cbiAgICAgICAgb3BlbmVyLmVuZCA9IHRva2VuLmk7XG4gICAgICAgIHJldHVybiBpbnN0cnVjdGlvbnM7XG4gICAgICB9IGVsc2UgaWYgKHRva2VuLnRhZyA9PSAnXFxuJykge1xuICAgICAgICB0b2tlbi5sYXN0ID0gKHRva2Vucy5sZW5ndGggPT0gMCkgfHwgKHRva2Vuc1swXS50YWcgPT0gJ1xcbicpO1xuICAgICAgfVxuXG4gICAgICBpbnN0cnVjdGlvbnMucHVzaCh0b2tlbik7XG4gICAgfVxuXG4gICAgaWYgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbWlzc2luZyBjbG9zaW5nIHRhZzogJyArIHN0YWNrLnBvcCgpLm4pO1xuICAgIH1cblxuICAgIHJldHVybiBpbnN0cnVjdGlvbnM7XG4gIH1cblxuICBmdW5jdGlvbiBpc09wZW5lcih0b2tlbiwgdGFncykge1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGFncy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmICh0YWdzW2ldLm8gPT0gdG9rZW4ubikge1xuICAgICAgICB0b2tlbi50YWcgPSAnIyc7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzQ2xvc2VyKGNsb3NlLCBvcGVuLCB0YWdzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0YWdzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKHRhZ3NbaV0uYyA9PSBjbG9zZSAmJiB0YWdzW2ldLm8gPT0gb3Blbikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdHJpbmdpZnlTdWJzdGl0dXRpb25zKG9iaikge1xuICAgIHZhciBpdGVtcyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGl0ZW1zLnB1c2goJ1wiJyArIGVzYyhrZXkpICsgJ1wiOiBmdW5jdGlvbihjLHAsdCxpKSB7JyArIG9ialtrZXldICsgJ30nKTtcbiAgICB9XG4gICAgcmV0dXJuIFwieyBcIiArIGl0ZW1zLmpvaW4oXCIsXCIpICsgXCIgfVwiO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RyaW5naWZ5UGFydGlhbHMoY29kZU9iaikge1xuICAgIHZhciBwYXJ0aWFscyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBjb2RlT2JqLnBhcnRpYWxzKSB7XG4gICAgICBwYXJ0aWFscy5wdXNoKCdcIicgKyBlc2Moa2V5KSArICdcIjp7bmFtZTpcIicgKyBlc2MoY29kZU9iai5wYXJ0aWFsc1trZXldLm5hbWUpICsgJ1wiLCAnICsgc3RyaW5naWZ5UGFydGlhbHMoY29kZU9iai5wYXJ0aWFsc1trZXldKSArIFwifVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIFwicGFydGlhbHM6IHtcIiArIHBhcnRpYWxzLmpvaW4oXCIsXCIpICsgXCJ9LCBzdWJzOiBcIiArIHN0cmluZ2lmeVN1YnN0aXR1dGlvbnMoY29kZU9iai5zdWJzKTtcbiAgfVxuXG4gIEhvZ2FuLnN0cmluZ2lmeSA9IGZ1bmN0aW9uKGNvZGVPYmosIHRleHQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gXCJ7Y29kZTogZnVuY3Rpb24gKGMscCxpKSB7IFwiICsgSG9nYW4ud3JhcE1haW4oY29kZU9iai5jb2RlKSArIFwiIH0sXCIgKyBzdHJpbmdpZnlQYXJ0aWFscyhjb2RlT2JqKSArICBcIn1cIjtcbiAgfVxuXG4gIHZhciBzZXJpYWxObyA9IDA7XG4gIEhvZ2FuLmdlbmVyYXRlID0gZnVuY3Rpb24odHJlZSwgdGV4dCwgb3B0aW9ucykge1xuICAgIHNlcmlhbE5vID0gMDtcbiAgICB2YXIgY29udGV4dCA9IHsgY29kZTogJycsIHN1YnM6IHt9LCBwYXJ0aWFsczoge30gfTtcbiAgICBIb2dhbi53YWxrKHRyZWUsIGNvbnRleHQpO1xuXG4gICAgaWYgKG9wdGlvbnMuYXNTdHJpbmcpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmluZ2lmeShjb250ZXh0LCB0ZXh0LCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5tYWtlVGVtcGxhdGUoY29udGV4dCwgdGV4dCwgb3B0aW9ucyk7XG4gIH1cblxuICBIb2dhbi53cmFwTWFpbiA9IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICByZXR1cm4gJ3ZhciB0PXRoaXM7dC5iKGk9aXx8XCJcIik7JyArIGNvZGUgKyAncmV0dXJuIHQuZmwoKTsnO1xuICB9XG5cbiAgSG9nYW4udGVtcGxhdGUgPSBIb2dhbi5UZW1wbGF0ZTtcblxuICBIb2dhbi5tYWtlVGVtcGxhdGUgPSBmdW5jdGlvbihjb2RlT2JqLCB0ZXh0LCBvcHRpb25zKSB7XG4gICAgdmFyIHRlbXBsYXRlID0gdGhpcy5tYWtlUGFydGlhbHMoY29kZU9iaik7XG4gICAgdGVtcGxhdGUuY29kZSA9IG5ldyBGdW5jdGlvbignYycsICdwJywgJ2knLCB0aGlzLndyYXBNYWluKGNvZGVPYmouY29kZSkpO1xuICAgIHJldHVybiBuZXcgdGhpcy50ZW1wbGF0ZSh0ZW1wbGF0ZSwgdGV4dCwgdGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICBIb2dhbi5tYWtlUGFydGlhbHMgPSBmdW5jdGlvbihjb2RlT2JqKSB7XG4gICAgdmFyIGtleSwgdGVtcGxhdGUgPSB7c3Viczoge30sIHBhcnRpYWxzOiBjb2RlT2JqLnBhcnRpYWxzLCBuYW1lOiBjb2RlT2JqLm5hbWV9O1xuICAgIGZvciAoa2V5IGluIHRlbXBsYXRlLnBhcnRpYWxzKSB7XG4gICAgICB0ZW1wbGF0ZS5wYXJ0aWFsc1trZXldID0gdGhpcy5tYWtlUGFydGlhbHModGVtcGxhdGUucGFydGlhbHNba2V5XSk7XG4gICAgfVxuICAgIGZvciAoa2V5IGluIGNvZGVPYmouc3Vicykge1xuICAgICAgdGVtcGxhdGUuc3Vic1trZXldID0gbmV3IEZ1bmN0aW9uKCdjJywgJ3AnLCAndCcsICdpJywgY29kZU9iai5zdWJzW2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH1cblxuICBmdW5jdGlvbiBlc2Mocykge1xuICAgIHJldHVybiBzLnJlcGxhY2UoclNsYXNoLCAnXFxcXFxcXFwnKVxuICAgICAgICAgICAgLnJlcGxhY2UoclF1b3QsICdcXFxcXFxcIicpXG4gICAgICAgICAgICAucmVwbGFjZShyTmV3bGluZSwgJ1xcXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKHJDciwgJ1xcXFxyJylcbiAgICAgICAgICAgIC5yZXBsYWNlKHJMaW5lU2VwLCAnXFxcXHUyMDI4JylcbiAgICAgICAgICAgIC5yZXBsYWNlKHJQYXJhZ3JhcGhTZXAsICdcXFxcdTIwMjknKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNob29zZU1ldGhvZChzKSB7XG4gICAgcmV0dXJuICh+cy5pbmRleE9mKCcuJykpID8gJ2QnIDogJ2YnO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUGFydGlhbChub2RlLCBjb250ZXh0KSB7XG4gICAgdmFyIHByZWZpeCA9IFwiPFwiICsgKGNvbnRleHQucHJlZml4IHx8IFwiXCIpO1xuICAgIHZhciBzeW0gPSBwcmVmaXggKyBub2RlLm4gKyBzZXJpYWxObysrO1xuICAgIGNvbnRleHQucGFydGlhbHNbc3ltXSA9IHtuYW1lOiBub2RlLm4sIHBhcnRpYWxzOiB7fX07XG4gICAgY29udGV4dC5jb2RlICs9ICd0LmIodC5ycChcIicgKyAgZXNjKHN5bSkgKyAnXCIsYyxwLFwiJyArIChub2RlLmluZGVudCB8fCAnJykgKyAnXCIpKTsnO1xuICAgIHJldHVybiBzeW07XG4gIH1cblxuICBIb2dhbi5jb2RlZ2VuID0ge1xuICAgICcjJzogZnVuY3Rpb24obm9kZSwgY29udGV4dCkge1xuICAgICAgY29udGV4dC5jb2RlICs9ICdpZih0LnModC4nICsgY2hvb3NlTWV0aG9kKG5vZGUubikgKyAnKFwiJyArIGVzYyhub2RlLm4pICsgJ1wiLGMscCwxKSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAnYyxwLDAsJyArIG5vZGUuaSArICcsJyArIG5vZGUuZW5kICsgJyxcIicgKyBub2RlLm90YWcgKyBcIiBcIiArIG5vZGUuY3RhZyArICdcIikpeycgK1xuICAgICAgICAgICAgICAgICAgICAgICd0LnJzKGMscCwnICsgJ2Z1bmN0aW9uKGMscCx0KXsnO1xuICAgICAgSG9nYW4ud2Fsayhub2RlLm5vZGVzLCBjb250ZXh0KTtcbiAgICAgIGNvbnRleHQuY29kZSArPSAnfSk7Yy5wb3AoKTt9JztcbiAgICB9LFxuXG4gICAgJ14nOiBmdW5jdGlvbihub2RlLCBjb250ZXh0KSB7XG4gICAgICBjb250ZXh0LmNvZGUgKz0gJ2lmKCF0LnModC4nICsgY2hvb3NlTWV0aG9kKG5vZGUubikgKyAnKFwiJyArIGVzYyhub2RlLm4pICsgJ1wiLGMscCwxKSxjLHAsMSwwLDAsXCJcIikpeyc7XG4gICAgICBIb2dhbi53YWxrKG5vZGUubm9kZXMsIGNvbnRleHQpO1xuICAgICAgY29udGV4dC5jb2RlICs9ICd9Oyc7XG4gICAgfSxcblxuICAgICc+JzogY3JlYXRlUGFydGlhbCxcbiAgICAnPCc6IGZ1bmN0aW9uKG5vZGUsIGNvbnRleHQpIHtcbiAgICAgIHZhciBjdHggPSB7cGFydGlhbHM6IHt9LCBjb2RlOiAnJywgc3Viczoge30sIGluUGFydGlhbDogdHJ1ZX07XG4gICAgICBIb2dhbi53YWxrKG5vZGUubm9kZXMsIGN0eCk7XG4gICAgICB2YXIgdGVtcGxhdGUgPSBjb250ZXh0LnBhcnRpYWxzW2NyZWF0ZVBhcnRpYWwobm9kZSwgY29udGV4dCldO1xuICAgICAgdGVtcGxhdGUuc3VicyA9IGN0eC5zdWJzO1xuICAgICAgdGVtcGxhdGUucGFydGlhbHMgPSBjdHgucGFydGlhbHM7XG4gICAgfSxcblxuICAgICckJzogZnVuY3Rpb24obm9kZSwgY29udGV4dCkge1xuICAgICAgdmFyIGN0eCA9IHtzdWJzOiB7fSwgY29kZTogJycsIHBhcnRpYWxzOiBjb250ZXh0LnBhcnRpYWxzLCBwcmVmaXg6IG5vZGUubn07XG4gICAgICBIb2dhbi53YWxrKG5vZGUubm9kZXMsIGN0eCk7XG4gICAgICBjb250ZXh0LnN1YnNbbm9kZS5uXSA9IGN0eC5jb2RlO1xuICAgICAgaWYgKCFjb250ZXh0LmluUGFydGlhbCkge1xuICAgICAgICBjb250ZXh0LmNvZGUgKz0gJ3Quc3ViKFwiJyArIGVzYyhub2RlLm4pICsgJ1wiLGMscCxpKTsnO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAnXFxuJzogZnVuY3Rpb24obm9kZSwgY29udGV4dCkge1xuICAgICAgY29udGV4dC5jb2RlICs9IHdyaXRlKCdcIlxcXFxuXCInICsgKG5vZGUubGFzdCA/ICcnIDogJyArIGknKSk7XG4gICAgfSxcblxuICAgICdfdic6IGZ1bmN0aW9uKG5vZGUsIGNvbnRleHQpIHtcbiAgICAgIGNvbnRleHQuY29kZSArPSAndC5iKHQudih0LicgKyBjaG9vc2VNZXRob2Qobm9kZS5uKSArICcoXCInICsgZXNjKG5vZGUubikgKyAnXCIsYyxwLDApKSk7JztcbiAgICB9LFxuXG4gICAgJ190JzogZnVuY3Rpb24obm9kZSwgY29udGV4dCkge1xuICAgICAgY29udGV4dC5jb2RlICs9IHdyaXRlKCdcIicgKyBlc2Mobm9kZS50ZXh0KSArICdcIicpO1xuICAgIH0sXG5cbiAgICAneyc6IHRyaXBsZVN0YWNoZSxcblxuICAgICcmJzogdHJpcGxlU3RhY2hlXG4gIH1cblxuICBmdW5jdGlvbiB0cmlwbGVTdGFjaGUobm9kZSwgY29udGV4dCkge1xuICAgIGNvbnRleHQuY29kZSArPSAndC5iKHQudCh0LicgKyBjaG9vc2VNZXRob2Qobm9kZS5uKSArICcoXCInICsgZXNjKG5vZGUubikgKyAnXCIsYyxwLDApKSk7JztcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyaXRlKHMpIHtcbiAgICByZXR1cm4gJ3QuYignICsgcyArICcpOyc7XG4gIH1cblxuICBIb2dhbi53YWxrID0gZnVuY3Rpb24obm9kZWxpc3QsIGNvbnRleHQpIHtcbiAgICB2YXIgZnVuYztcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG5vZGVsaXN0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZnVuYyA9IEhvZ2FuLmNvZGVnZW5bbm9kZWxpc3RbaV0udGFnXTtcbiAgICAgIGZ1bmMgJiYgZnVuYyhub2RlbGlzdFtpXSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0O1xuICB9XG5cbiAgSG9nYW4ucGFyc2UgPSBmdW5jdGlvbih0b2tlbnMsIHRleHQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICByZXR1cm4gYnVpbGRUcmVlKHRva2VucywgJycsIFtdLCBvcHRpb25zLnNlY3Rpb25UYWdzIHx8IFtdKTtcbiAgfVxuXG4gIEhvZ2FuLmNhY2hlID0ge307XG5cbiAgSG9nYW4uY2FjaGVLZXkgPSBmdW5jdGlvbih0ZXh0LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIFt0ZXh0LCAhIW9wdGlvbnMuYXNTdHJpbmcsICEhb3B0aW9ucy5kaXNhYmxlTGFtYmRhLCBvcHRpb25zLmRlbGltaXRlcnMsICEhb3B0aW9ucy5tb2RlbEdldF0uam9pbignfHwnKTtcbiAgfVxuXG4gIEhvZ2FuLmNvbXBpbGUgPSBmdW5jdGlvbih0ZXh0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIGtleSA9IEhvZ2FuLmNhY2hlS2V5KHRleHQsIG9wdGlvbnMpO1xuICAgIHZhciB0ZW1wbGF0ZSA9IHRoaXMuY2FjaGVba2V5XTtcblxuICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgdmFyIHBhcnRpYWxzID0gdGVtcGxhdGUucGFydGlhbHM7XG4gICAgICBmb3IgKHZhciBuYW1lIGluIHBhcnRpYWxzKSB7XG4gICAgICAgIGRlbGV0ZSBwYXJ0aWFsc1tuYW1lXS5pbnN0YW5jZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG5cbiAgICB0ZW1wbGF0ZSA9IHRoaXMuZ2VuZXJhdGUodGhpcy5wYXJzZSh0aGlzLnNjYW4odGV4dCwgb3B0aW9ucy5kZWxpbWl0ZXJzKSwgdGV4dCwgb3B0aW9ucyksIHRleHQsIG9wdGlvbnMpO1xuICAgIHJldHVybiB0aGlzLmNhY2hlW2tleV0gPSB0ZW1wbGF0ZTtcbiAgfVxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IEhvZ2FuKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9Vc2Vycy9wb2x5L3dzL1R3ZWVuVGltZS9+L2hvZ2FuLmpzL2xpYi9jb21waWxlci5qc1xuLy8gbW9kdWxlIGlkID0gMzJcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

	eval("/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\nvar Hogan = {};\n\n(function (Hogan) {\n  Hogan.Template = function (codeObj, text, compiler, options) {\n    codeObj = codeObj || {};\n    this.r = codeObj.code || this.r;\n    this.c = compiler;\n    this.options = options || {};\n    this.text = text || '';\n    this.partials = codeObj.partials || {};\n    this.subs = codeObj.subs || {};\n    this.buf = '';\n  }\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function (context, partials, indent) { return ''; },\n\n    // variable escaping\n    v: hoganEscape,\n\n    // triple stache\n    t: coerceToString,\n\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n\n    // render internal -- a hook for overrides that catches partials too\n    ri: function (context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n\n    // ensurePartial\n    ep: function(symbol, partials) {\n      var partial = this.partials[symbol];\n\n      // check to see that if we've instantiated this partial before\n      var template = partials[partial.name];\n      if (partial.instance && partial.base == template) {\n        return partial.instance;\n      }\n\n      if (typeof template == 'string') {\n        if (!this.c) {\n          throw new Error(\"No compiler available.\");\n        }\n        template = this.c.compile(template, this.options);\n      }\n\n      if (!template) {\n        return null;\n      }\n\n      // We use this to check whether the partials dictionary has changed\n      this.partials[symbol].base = template;\n\n      if (partial.subs) {\n        // Make sure we consider parent template now\n        if (!partials.stackText) partials.stackText = {};\n        for (key in partial.subs) {\n          if (!partials.stackText[key]) {\n            partials.stackText[key] = (this.activeSub !== undefined && partials.stackText[this.activeSub]) ? partials.stackText[this.activeSub] : this.text;\n          }\n        }\n        template = createSpecializedPartial(template, partial.subs, partial.partials,\n          this.stackSubs, this.stackPartials, partials.stackText);\n      }\n      this.partials[symbol].instance = template;\n\n      return template;\n    },\n\n    // tries to find a partial in the current scope and render it\n    rp: function(symbol, context, partials, indent) {\n      var partial = this.ep(symbol, partials);\n      if (!partial) {\n        return '';\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n\n    // render a section\n    rs: function(context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n\n    // maybe start a section\n    s: function(val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n\n    // find values with dotted names\n    d: function(key, ctx, partials, returnFound) {\n      var found,\n          names = key.split('.'),\n          val = this.f(names[0], ctx, partials, returnFound),\n          doModelGet = this.options.modelGet,\n          cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        val = ctx[ctx.length - 1];\n      } else {\n        for (var i = 1; i < names.length; i++) {\n          found = findInScope(names[i], val, doModelGet);\n          if (found !== undefined) {\n            cx = val;\n            val = found;\n          } else {\n            val = '';\n          }\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.mv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n\n    // find values with normal names\n    f: function(key, ctx, partials, returnFound) {\n      var val = false,\n          v = null,\n          found = false,\n          doModelGet = this.options.modelGet;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        val = findInScope(key, v, doModelGet);\n        if (val !== undefined) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return (returnFound) ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.mv(val, ctx, partials);\n      }\n\n      return val;\n    },\n\n    // higher order templates\n    ls: function(func, cx, partials, text, tags) {\n      var oldTags = this.options.delimiters;\n\n      this.options.delimiters = tags;\n      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n      this.options.delimiters = oldTags;\n\n      return false;\n    },\n\n    // compile text\n    ct: function(text, cx, partials) {\n      if (this.options.disableLambda) {\n        throw new Error('Lambda features disabled.');\n      }\n      return this.c.compile(text, this.options).render(cx, partials);\n    },\n\n    // template result buffering\n    b: function(s) { this.buf += s; },\n\n    fl: function() { var r = this.buf; this.buf = ''; return r; },\n\n    // method replace section\n    ms: function(func, ctx, partials, inverted, start, end, tags) {\n      var textSource,\n          cx = ctx[ctx.length - 1],\n          result = func.call(cx);\n\n      if (typeof result == 'function') {\n        if (inverted) {\n          return true;\n        } else {\n          textSource = (this.activeSub && this.subsText && this.subsText[this.activeSub]) ? this.subsText[this.activeSub] : this.text;\n          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n        }\n      }\n\n      return result;\n    },\n\n    // method replace variable\n    mv: function(func, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = func.call(cx);\n\n      if (typeof result == 'function') {\n        return this.ct(coerceToString(result.call(cx)), cx, partials);\n      }\n\n      return result;\n    },\n\n    sub: function(name, context, partials, indent) {\n      var f = this.subs[name];\n      if (f) {\n        this.activeSub = name;\n        f(context, partials, this, indent);\n        this.activeSub = false;\n      }\n    }\n\n  };\n\n  //Find a key in an object\n  function findInScope(key, scope, doModelGet) {\n    var val;\n\n    if (scope && typeof scope == 'object') {\n\n      if (scope[key] !== undefined) {\n        val = scope[key];\n\n      // try lookup with get for backbone or similar model data\n      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n        val = scope.get(key);\n      }\n    }\n\n    return val;\n  }\n\n  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n    function PartialTemplate() {};\n    PartialTemplate.prototype = instance;\n    function Substitutions() {};\n    Substitutions.prototype = instance.subs;\n    var key;\n    var partial = new PartialTemplate();\n    partial.subs = new Substitutions();\n    partial.subsText = {};  //hehe. substext.\n    partial.buf = '';\n\n    stackSubs = stackSubs || {};\n    partial.stackSubs = stackSubs;\n    partial.subsText = stackText;\n    for (key in subs) {\n      if (!stackSubs[key]) stackSubs[key] = subs[key];\n    }\n    for (key in stackSubs) {\n      partial.subs[key] = stackSubs[key];\n    }\n\n    stackPartials = stackPartials || {};\n    partial.stackPartials = stackPartials;\n    for (key in partials) {\n      if (!stackPartials[key]) stackPartials[key] = partials[key];\n    }\n    for (key in stackPartials) {\n      partial.partials[key] = stackPartials[key];\n    }\n\n    return partial;\n  }\n\n  var rAmp = /&/g,\n      rLt = /</g,\n      rGt = />/g,\n      rApos = /\\'/g,\n      rQuot = /\\\"/g,\n      hChars = /[&<>\\\"\\']/;\n\n  function coerceToString(val) {\n    return String((val === null || val === undefined) ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ?\n      str\n        .replace(rAmp, '&amp;')\n        .replace(rLt, '&lt;')\n        .replace(rGt, '&gt;')\n        .replace(rApos, '&#39;')\n        .replace(rQuot, '&quot;') :\n      str;\n  }\n\n  var isArray = Array.isArray || function(a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n\n})( true ? exports : Hogan);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL3BvbHkvd3MvVHdlZW5UaW1lL34vaG9nYW4uanMvbGliL3RlbXBsYXRlLmpzPzRlNWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw2Q0FBNkMsV0FBVyxFQUFFOztBQUUxRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSw4Q0FBOEM7QUFDOUMsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixpQkFBaUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUCx1QkFBdUIsa0JBQWtCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0NBQWtDLFFBQVE7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLG9CQUFvQixlQUFlLEVBQUU7O0FBRXJDLG9CQUFvQixrQkFBa0IsZUFBZSxVQUFVLEVBQUU7O0FBRWpFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsMkJBQTJCO0FBQzNCLDJCQUEyQjtBQUMzQiw4QkFBOEI7QUFDOUIsK0JBQStCO0FBQy9CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLENBQUMiLCJmaWxlIjoiMzMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogIENvcHlyaWdodCAyMDExIFR3aXR0ZXIsIEluYy5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbnZhciBIb2dhbiA9IHt9O1xuXG4oZnVuY3Rpb24gKEhvZ2FuKSB7XG4gIEhvZ2FuLlRlbXBsYXRlID0gZnVuY3Rpb24gKGNvZGVPYmosIHRleHQsIGNvbXBpbGVyLCBvcHRpb25zKSB7XG4gICAgY29kZU9iaiA9IGNvZGVPYmogfHwge307XG4gICAgdGhpcy5yID0gY29kZU9iai5jb2RlIHx8IHRoaXMucjtcbiAgICB0aGlzLmMgPSBjb21waWxlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHRoaXMudGV4dCA9IHRleHQgfHwgJyc7XG4gICAgdGhpcy5wYXJ0aWFscyA9IGNvZGVPYmoucGFydGlhbHMgfHwge307XG4gICAgdGhpcy5zdWJzID0gY29kZU9iai5zdWJzIHx8IHt9O1xuICAgIHRoaXMuYnVmID0gJyc7XG4gIH1cblxuICBIb2dhbi5UZW1wbGF0ZS5wcm90b3R5cGUgPSB7XG4gICAgLy8gcmVuZGVyOiByZXBsYWNlZCBieSBnZW5lcmF0ZWQgY29kZS5cbiAgICByOiBmdW5jdGlvbiAoY29udGV4dCwgcGFydGlhbHMsIGluZGVudCkgeyByZXR1cm4gJyc7IH0sXG5cbiAgICAvLyB2YXJpYWJsZSBlc2NhcGluZ1xuICAgIHY6IGhvZ2FuRXNjYXBlLFxuXG4gICAgLy8gdHJpcGxlIHN0YWNoZVxuICAgIHQ6IGNvZXJjZVRvU3RyaW5nLFxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoY29udGV4dCwgcGFydGlhbHMsIGluZGVudCkge1xuICAgICAgcmV0dXJuIHRoaXMucmkoW2NvbnRleHRdLCBwYXJ0aWFscyB8fCB7fSwgaW5kZW50KTtcbiAgICB9LFxuXG4gICAgLy8gcmVuZGVyIGludGVybmFsIC0tIGEgaG9vayBmb3Igb3ZlcnJpZGVzIHRoYXQgY2F0Y2hlcyBwYXJ0aWFscyB0b29cbiAgICByaTogZnVuY3Rpb24gKGNvbnRleHQsIHBhcnRpYWxzLCBpbmRlbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnIoY29udGV4dCwgcGFydGlhbHMsIGluZGVudCk7XG4gICAgfSxcblxuICAgIC8vIGVuc3VyZVBhcnRpYWxcbiAgICBlcDogZnVuY3Rpb24oc3ltYm9sLCBwYXJ0aWFscykge1xuICAgICAgdmFyIHBhcnRpYWwgPSB0aGlzLnBhcnRpYWxzW3N5bWJvbF07XG5cbiAgICAgIC8vIGNoZWNrIHRvIHNlZSB0aGF0IGlmIHdlJ3ZlIGluc3RhbnRpYXRlZCB0aGlzIHBhcnRpYWwgYmVmb3JlXG4gICAgICB2YXIgdGVtcGxhdGUgPSBwYXJ0aWFsc1twYXJ0aWFsLm5hbWVdO1xuICAgICAgaWYgKHBhcnRpYWwuaW5zdGFuY2UgJiYgcGFydGlhbC5iYXNlID09IHRlbXBsYXRlKSB7XG4gICAgICAgIHJldHVybiBwYXJ0aWFsLmluc3RhbmNlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHRlbXBsYXRlID09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICghdGhpcy5jKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gY29tcGlsZXIgYXZhaWxhYmxlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB0ZW1wbGF0ZSA9IHRoaXMuYy5jb21waWxlKHRlbXBsYXRlLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRlbXBsYXRlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyBXZSB1c2UgdGhpcyB0byBjaGVjayB3aGV0aGVyIHRoZSBwYXJ0aWFscyBkaWN0aW9uYXJ5IGhhcyBjaGFuZ2VkXG4gICAgICB0aGlzLnBhcnRpYWxzW3N5bWJvbF0uYmFzZSA9IHRlbXBsYXRlO1xuXG4gICAgICBpZiAocGFydGlhbC5zdWJzKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBjb25zaWRlciBwYXJlbnQgdGVtcGxhdGUgbm93XG4gICAgICAgIGlmICghcGFydGlhbHMuc3RhY2tUZXh0KSBwYXJ0aWFscy5zdGFja1RleHQgPSB7fTtcbiAgICAgICAgZm9yIChrZXkgaW4gcGFydGlhbC5zdWJzKSB7XG4gICAgICAgICAgaWYgKCFwYXJ0aWFscy5zdGFja1RleHRba2V5XSkge1xuICAgICAgICAgICAgcGFydGlhbHMuc3RhY2tUZXh0W2tleV0gPSAodGhpcy5hY3RpdmVTdWIgIT09IHVuZGVmaW5lZCAmJiBwYXJ0aWFscy5zdGFja1RleHRbdGhpcy5hY3RpdmVTdWJdKSA/IHBhcnRpYWxzLnN0YWNrVGV4dFt0aGlzLmFjdGl2ZVN1Yl0gOiB0aGlzLnRleHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlID0gY3JlYXRlU3BlY2lhbGl6ZWRQYXJ0aWFsKHRlbXBsYXRlLCBwYXJ0aWFsLnN1YnMsIHBhcnRpYWwucGFydGlhbHMsXG4gICAgICAgICAgdGhpcy5zdGFja1N1YnMsIHRoaXMuc3RhY2tQYXJ0aWFscywgcGFydGlhbHMuc3RhY2tUZXh0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGFydGlhbHNbc3ltYm9sXS5pbnN0YW5jZSA9IHRlbXBsYXRlO1xuXG4gICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfSxcblxuICAgIC8vIHRyaWVzIHRvIGZpbmQgYSBwYXJ0aWFsIGluIHRoZSBjdXJyZW50IHNjb3BlIGFuZCByZW5kZXIgaXRcbiAgICBycDogZnVuY3Rpb24oc3ltYm9sLCBjb250ZXh0LCBwYXJ0aWFscywgaW5kZW50KSB7XG4gICAgICB2YXIgcGFydGlhbCA9IHRoaXMuZXAoc3ltYm9sLCBwYXJ0aWFscyk7XG4gICAgICBpZiAoIXBhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFydGlhbC5yaShjb250ZXh0LCBwYXJ0aWFscywgaW5kZW50KTtcbiAgICB9LFxuXG4gICAgLy8gcmVuZGVyIGEgc2VjdGlvblxuICAgIHJzOiBmdW5jdGlvbihjb250ZXh0LCBwYXJ0aWFscywgc2VjdGlvbikge1xuICAgICAgdmFyIHRhaWwgPSBjb250ZXh0W2NvbnRleHQubGVuZ3RoIC0gMV07XG5cbiAgICAgIGlmICghaXNBcnJheSh0YWlsKSkge1xuICAgICAgICBzZWN0aW9uKGNvbnRleHQsIHBhcnRpYWxzLCB0aGlzKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhaWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29udGV4dC5wdXNoKHRhaWxbaV0pO1xuICAgICAgICBzZWN0aW9uKGNvbnRleHQsIHBhcnRpYWxzLCB0aGlzKTtcbiAgICAgICAgY29udGV4dC5wb3AoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gbWF5YmUgc3RhcnQgYSBzZWN0aW9uXG4gICAgczogZnVuY3Rpb24odmFsLCBjdHgsIHBhcnRpYWxzLCBpbnZlcnRlZCwgc3RhcnQsIGVuZCwgdGFncykge1xuICAgICAgdmFyIHBhc3M7XG5cbiAgICAgIGlmIChpc0FycmF5KHZhbCkgJiYgdmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdmFsID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsID0gdGhpcy5tcyh2YWwsIGN0eCwgcGFydGlhbHMsIGludmVydGVkLCBzdGFydCwgZW5kLCB0YWdzKTtcbiAgICAgIH1cblxuICAgICAgcGFzcyA9ICEhdmFsO1xuXG4gICAgICBpZiAoIWludmVydGVkICYmIHBhc3MgJiYgY3R4KSB7XG4gICAgICAgIGN0eC5wdXNoKCh0eXBlb2YgdmFsID09ICdvYmplY3QnKSA/IHZhbCA6IGN0eFtjdHgubGVuZ3RoIC0gMV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFzcztcbiAgICB9LFxuXG4gICAgLy8gZmluZCB2YWx1ZXMgd2l0aCBkb3R0ZWQgbmFtZXNcbiAgICBkOiBmdW5jdGlvbihrZXksIGN0eCwgcGFydGlhbHMsIHJldHVybkZvdW5kKSB7XG4gICAgICB2YXIgZm91bmQsXG4gICAgICAgICAgbmFtZXMgPSBrZXkuc3BsaXQoJy4nKSxcbiAgICAgICAgICB2YWwgPSB0aGlzLmYobmFtZXNbMF0sIGN0eCwgcGFydGlhbHMsIHJldHVybkZvdW5kKSxcbiAgICAgICAgICBkb01vZGVsR2V0ID0gdGhpcy5vcHRpb25zLm1vZGVsR2V0LFxuICAgICAgICAgIGN4ID0gbnVsbDtcblxuICAgICAgaWYgKGtleSA9PT0gJy4nICYmIGlzQXJyYXkoY3R4W2N0eC5sZW5ndGggLSAyXSkpIHtcbiAgICAgICAgdmFsID0gY3R4W2N0eC5sZW5ndGggLSAxXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBmb3VuZCA9IGZpbmRJblNjb3BlKG5hbWVzW2ldLCB2YWwsIGRvTW9kZWxHZXQpO1xuICAgICAgICAgIGlmIChmb3VuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjeCA9IHZhbDtcbiAgICAgICAgICAgIHZhbCA9IGZvdW5kO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWwgPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHJldHVybkZvdW5kICYmICF2YWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXJldHVybkZvdW5kICYmIHR5cGVvZiB2YWwgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjdHgucHVzaChjeCk7XG4gICAgICAgIHZhbCA9IHRoaXMubXYodmFsLCBjdHgsIHBhcnRpYWxzKTtcbiAgICAgICAgY3R4LnBvcCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG5cbiAgICAvLyBmaW5kIHZhbHVlcyB3aXRoIG5vcm1hbCBuYW1lc1xuICAgIGY6IGZ1bmN0aW9uKGtleSwgY3R4LCBwYXJ0aWFscywgcmV0dXJuRm91bmQpIHtcbiAgICAgIHZhciB2YWwgPSBmYWxzZSxcbiAgICAgICAgICB2ID0gbnVsbCxcbiAgICAgICAgICBmb3VuZCA9IGZhbHNlLFxuICAgICAgICAgIGRvTW9kZWxHZXQgPSB0aGlzLm9wdGlvbnMubW9kZWxHZXQ7XG5cbiAgICAgIGZvciAodmFyIGkgPSBjdHgubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdiA9IGN0eFtpXTtcbiAgICAgICAgdmFsID0gZmluZEluU2NvcGUoa2V5LCB2LCBkb01vZGVsR2V0KTtcbiAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgcmV0dXJuIChyZXR1cm5Gb3VuZCkgPyBmYWxzZSA6IFwiXCI7XG4gICAgICB9XG5cbiAgICAgIGlmICghcmV0dXJuRm91bmQgJiYgdHlwZW9mIHZhbCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbCA9IHRoaXMubXYodmFsLCBjdHgsIHBhcnRpYWxzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9LFxuXG4gICAgLy8gaGlnaGVyIG9yZGVyIHRlbXBsYXRlc1xuICAgIGxzOiBmdW5jdGlvbihmdW5jLCBjeCwgcGFydGlhbHMsIHRleHQsIHRhZ3MpIHtcbiAgICAgIHZhciBvbGRUYWdzID0gdGhpcy5vcHRpb25zLmRlbGltaXRlcnM7XG5cbiAgICAgIHRoaXMub3B0aW9ucy5kZWxpbWl0ZXJzID0gdGFncztcbiAgICAgIHRoaXMuYih0aGlzLmN0KGNvZXJjZVRvU3RyaW5nKGZ1bmMuY2FsbChjeCwgdGV4dCkpLCBjeCwgcGFydGlhbHMpKTtcbiAgICAgIHRoaXMub3B0aW9ucy5kZWxpbWl0ZXJzID0gb2xkVGFncztcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvLyBjb21waWxlIHRleHRcbiAgICBjdDogZnVuY3Rpb24odGV4dCwgY3gsIHBhcnRpYWxzKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmRpc2FibGVMYW1iZGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMYW1iZGEgZmVhdHVyZXMgZGlzYWJsZWQuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5jLmNvbXBpbGUodGV4dCwgdGhpcy5vcHRpb25zKS5yZW5kZXIoY3gsIHBhcnRpYWxzKTtcbiAgICB9LFxuXG4gICAgLy8gdGVtcGxhdGUgcmVzdWx0IGJ1ZmZlcmluZ1xuICAgIGI6IGZ1bmN0aW9uKHMpIHsgdGhpcy5idWYgKz0gczsgfSxcblxuICAgIGZsOiBmdW5jdGlvbigpIHsgdmFyIHIgPSB0aGlzLmJ1ZjsgdGhpcy5idWYgPSAnJzsgcmV0dXJuIHI7IH0sXG5cbiAgICAvLyBtZXRob2QgcmVwbGFjZSBzZWN0aW9uXG4gICAgbXM6IGZ1bmN0aW9uKGZ1bmMsIGN0eCwgcGFydGlhbHMsIGludmVydGVkLCBzdGFydCwgZW5kLCB0YWdzKSB7XG4gICAgICB2YXIgdGV4dFNvdXJjZSxcbiAgICAgICAgICBjeCA9IGN0eFtjdHgubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5jYWxsKGN4KTtcblxuICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAoaW52ZXJ0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZXh0U291cmNlID0gKHRoaXMuYWN0aXZlU3ViICYmIHRoaXMuc3Vic1RleHQgJiYgdGhpcy5zdWJzVGV4dFt0aGlzLmFjdGl2ZVN1Yl0pID8gdGhpcy5zdWJzVGV4dFt0aGlzLmFjdGl2ZVN1Yl0gOiB0aGlzLnRleHQ7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubHMocmVzdWx0LCBjeCwgcGFydGlhbHMsIHRleHRTb3VyY2Uuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpLCB0YWdzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICAvLyBtZXRob2QgcmVwbGFjZSB2YXJpYWJsZVxuICAgIG12OiBmdW5jdGlvbihmdW5jLCBjdHgsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgY3ggPSBjdHhbY3R4Lmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuY2FsbChjeCk7XG5cbiAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3QoY29lcmNlVG9TdHJpbmcocmVzdWx0LmNhbGwoY3gpKSwgY3gsIHBhcnRpYWxzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgc3ViOiBmdW5jdGlvbihuYW1lLCBjb250ZXh0LCBwYXJ0aWFscywgaW5kZW50KSB7XG4gICAgICB2YXIgZiA9IHRoaXMuc3Vic1tuYW1lXTtcbiAgICAgIGlmIChmKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlU3ViID0gbmFtZTtcbiAgICAgICAgZihjb250ZXh0LCBwYXJ0aWFscywgdGhpcywgaW5kZW50KTtcbiAgICAgICAgdGhpcy5hY3RpdmVTdWIgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfTtcblxuICAvL0ZpbmQgYSBrZXkgaW4gYW4gb2JqZWN0XG4gIGZ1bmN0aW9uIGZpbmRJblNjb3BlKGtleSwgc2NvcGUsIGRvTW9kZWxHZXQpIHtcbiAgICB2YXIgdmFsO1xuXG4gICAgaWYgKHNjb3BlICYmIHR5cGVvZiBzY29wZSA9PSAnb2JqZWN0Jykge1xuXG4gICAgICBpZiAoc2NvcGVba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbCA9IHNjb3BlW2tleV07XG5cbiAgICAgIC8vIHRyeSBsb29rdXAgd2l0aCBnZXQgZm9yIGJhY2tib25lIG9yIHNpbWlsYXIgbW9kZWwgZGF0YVxuICAgICAgfSBlbHNlIGlmIChkb01vZGVsR2V0ICYmIHNjb3BlLmdldCAmJiB0eXBlb2Ygc2NvcGUuZ2V0ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsID0gc2NvcGUuZ2V0KGtleSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVNwZWNpYWxpemVkUGFydGlhbChpbnN0YW5jZSwgc3VicywgcGFydGlhbHMsIHN0YWNrU3Vicywgc3RhY2tQYXJ0aWFscywgc3RhY2tUZXh0KSB7XG4gICAgZnVuY3Rpb24gUGFydGlhbFRlbXBsYXRlKCkge307XG4gICAgUGFydGlhbFRlbXBsYXRlLnByb3RvdHlwZSA9IGluc3RhbmNlO1xuICAgIGZ1bmN0aW9uIFN1YnN0aXR1dGlvbnMoKSB7fTtcbiAgICBTdWJzdGl0dXRpb25zLnByb3RvdHlwZSA9IGluc3RhbmNlLnN1YnM7XG4gICAgdmFyIGtleTtcbiAgICB2YXIgcGFydGlhbCA9IG5ldyBQYXJ0aWFsVGVtcGxhdGUoKTtcbiAgICBwYXJ0aWFsLnN1YnMgPSBuZXcgU3Vic3RpdHV0aW9ucygpO1xuICAgIHBhcnRpYWwuc3Vic1RleHQgPSB7fTsgIC8vaGVoZS4gc3Vic3RleHQuXG4gICAgcGFydGlhbC5idWYgPSAnJztcblxuICAgIHN0YWNrU3VicyA9IHN0YWNrU3VicyB8fCB7fTtcbiAgICBwYXJ0aWFsLnN0YWNrU3VicyA9IHN0YWNrU3VicztcbiAgICBwYXJ0aWFsLnN1YnNUZXh0ID0gc3RhY2tUZXh0O1xuICAgIGZvciAoa2V5IGluIHN1YnMpIHtcbiAgICAgIGlmICghc3RhY2tTdWJzW2tleV0pIHN0YWNrU3Vic1trZXldID0gc3Vic1trZXldO1xuICAgIH1cbiAgICBmb3IgKGtleSBpbiBzdGFja1N1YnMpIHtcbiAgICAgIHBhcnRpYWwuc3Vic1trZXldID0gc3RhY2tTdWJzW2tleV07XG4gICAgfVxuXG4gICAgc3RhY2tQYXJ0aWFscyA9IHN0YWNrUGFydGlhbHMgfHwge307XG4gICAgcGFydGlhbC5zdGFja1BhcnRpYWxzID0gc3RhY2tQYXJ0aWFscztcbiAgICBmb3IgKGtleSBpbiBwYXJ0aWFscykge1xuICAgICAgaWYgKCFzdGFja1BhcnRpYWxzW2tleV0pIHN0YWNrUGFydGlhbHNba2V5XSA9IHBhcnRpYWxzW2tleV07XG4gICAgfVxuICAgIGZvciAoa2V5IGluIHN0YWNrUGFydGlhbHMpIHtcbiAgICAgIHBhcnRpYWwucGFydGlhbHNba2V5XSA9IHN0YWNrUGFydGlhbHNba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFydGlhbDtcbiAgfVxuXG4gIHZhciByQW1wID0gLyYvZyxcbiAgICAgIHJMdCA9IC88L2csXG4gICAgICByR3QgPSAvPi9nLFxuICAgICAgckFwb3MgPSAvXFwnL2csXG4gICAgICByUXVvdCA9IC9cXFwiL2csXG4gICAgICBoQ2hhcnMgPSAvWyY8PlxcXCJcXCddLztcblxuICBmdW5jdGlvbiBjb2VyY2VUb1N0cmluZyh2YWwpIHtcbiAgICByZXR1cm4gU3RyaW5nKCh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpID8gJycgOiB2YWwpO1xuICB9XG5cbiAgZnVuY3Rpb24gaG9nYW5Fc2NhcGUoc3RyKSB7XG4gICAgc3RyID0gY29lcmNlVG9TdHJpbmcoc3RyKTtcbiAgICByZXR1cm4gaENoYXJzLnRlc3Qoc3RyKSA/XG4gICAgICBzdHJcbiAgICAgICAgLnJlcGxhY2UockFtcCwgJyZhbXA7JylcbiAgICAgICAgLnJlcGxhY2Uockx0LCAnJmx0OycpXG4gICAgICAgIC5yZXBsYWNlKHJHdCwgJyZndDsnKVxuICAgICAgICAucmVwbGFjZShyQXBvcywgJyYjMzk7JylcbiAgICAgICAgLnJlcGxhY2UoclF1b3QsICcmcXVvdDsnKSA6XG4gICAgICBzdHI7XG4gIH1cblxuICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24oYSkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH07XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiBIb2dhbik7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvVXNlcnMvcG9seS93cy9Ud2VlblRpbWUvfi9ob2dhbi5qcy9saWIvdGVtcGxhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n__webpack_require__(25);\n\nvar _PropertyBase2 = __webpack_require__(28);\n\nvar _PropertyBase3 = _interopRequireDefault(_PropertyBase2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n__webpack_require__(35);\n\n\nvar tpl_property = __webpack_require__(36);\n\nvar PropertyColor = function (_PropertyBase) {\n  _inherits(PropertyColor, _PropertyBase);\n\n  function PropertyColor(instance_property, lineData, editor) {\n    var key_val = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    _classCallCheck(this, PropertyColor);\n\n    var _this = _possibleConstructorReturn(this, (PropertyColor.__proto__ || Object.getPrototypeOf(PropertyColor)).call(this, instance_property, lineData, editor, key_val));\n\n    _this.onInputChange = _this.onInputChange.bind(_this);\n    _this.$input = _this.$el.find('input');\n    return _this;\n  }\n\n  _createClass(PropertyColor, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      _get(PropertyColor.prototype.__proto__ || Object.getPrototypeOf(PropertyColor.prototype), 'render', this).call(this);\n      // By default assign the property default value\n      var val = this.getCurrentVal();\n\n      var data = {\n        id: this.instance_property.name, // \"circleRadius\" instead of \"circle radius\"\n        label: this.instance_property.label || this.instance_property.name,\n        val: val\n      };\n\n      var view = tpl_property(data);\n      this.$el = $(view);\n      this.$el.find('.property__key').click(this.onKeyClick);\n\n      var $input = this.$el.find('input');\n\n      $input.spectrum({\n        allowEmpty: false,\n        showAlpha: true,\n        clickoutFiresChange: false,\n        preferredFormat: 'rgb',\n        change: function change() {\n          _this2.editor.undoManager.addState();\n        },\n        move: function move(color) {\n          if (color._a === 1) {\n            $input.val(color.toHexString());\n          } else {\n            $input.val(color.toRgbString());\n          }\n\n          _this2.onInputChange();\n        }\n      });\n\n      $input.change(this.onInputChange);\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      _get(PropertyColor.prototype.__proto__ || Object.getPrototypeOf(PropertyColor.prototype), 'remove', this).call(this);\n      this.$el.find('input').spectrum('destroy');\n      delete this.$el;\n      delete this.$input;\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      _get(PropertyColor.prototype.__proto__ || Object.getPrototypeOf(PropertyColor.prototype), 'update', this).call(this);\n      var val = this.getCurrentVal();\n      this.$input.val(val);\n      this.$input.spectrum('set', val);\n    }\n  }]);\n\n  return PropertyColor;\n}(_PropertyBase3.default);\n\nexports.default = PropertyColor;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvUHJvcGVydHlDb2xvci5qcz80ZmJmIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJ0cGxfcHJvcGVydHkiLCJQcm9wZXJ0eUNvbG9yIiwiaW5zdGFuY2VfcHJvcGVydHkiLCJsaW5lRGF0YSIsImVkaXRvciIsImtleV92YWwiLCJvbklucHV0Q2hhbmdlIiwiYmluZCIsIiRpbnB1dCIsIiRlbCIsImZpbmQiLCJ2YWwiLCJnZXRDdXJyZW50VmFsIiwiZGF0YSIsImlkIiwibmFtZSIsImxhYmVsIiwidmlldyIsIiQiLCJjbGljayIsIm9uS2V5Q2xpY2siLCJzcGVjdHJ1bSIsImFsbG93RW1wdHkiLCJzaG93QWxwaGEiLCJjbGlja291dEZpcmVzQ2hhbmdlIiwicHJlZmVycmVkRm9ybWF0IiwiY2hhbmdlIiwidW5kb01hbmFnZXIiLCJhZGRTdGF0ZSIsIm1vdmUiLCJjb2xvciIsIl9hIiwidG9IZXhTdHJpbmciLCJ0b1JnYlN0cmluZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOztBQUVBOzs7Ozs7Ozs7Ozs7QUFEQSxtQkFBQUEsQ0FBUSxFQUFSOzs7QUFHQSxJQUFJQyxlQUFlLG1CQUFBRCxDQUFRLEVBQVIsQ0FBbkI7O0lBRXFCRSxhOzs7QUFDbkIseUJBQVlDLGlCQUFaLEVBQStCQyxRQUEvQixFQUF5Q0MsTUFBekMsRUFBa0U7QUFBQSxRQUFqQkMsT0FBaUIsdUVBQVAsS0FBTzs7QUFBQTs7QUFBQSw4SEFDMURILGlCQUQwRCxFQUN2Q0MsUUFEdUMsRUFDN0JDLE1BRDZCLEVBQ3JCQyxPQURxQjs7QUFFaEUsVUFBS0MsYUFBTCxHQUFxQixNQUFLQSxhQUFMLENBQW1CQyxJQUFuQixPQUFyQjtBQUNBLFVBQUtDLE1BQUwsR0FBYyxNQUFLQyxHQUFMLENBQVNDLElBQVQsQ0FBYyxPQUFkLENBQWQ7QUFIZ0U7QUFJakU7Ozs7NkJBRVE7QUFBQTs7QUFDUDtBQUNBO0FBQ0EsVUFBSUMsTUFBTSxLQUFLQyxhQUFMLEVBQVY7O0FBRUEsVUFBSUMsT0FBTztBQUNUQyxZQUFJLEtBQUtaLGlCQUFMLENBQXVCYSxJQURsQixFQUN3QjtBQUNqQ0MsZUFBTyxLQUFLZCxpQkFBTCxDQUF1QmMsS0FBdkIsSUFBZ0MsS0FBS2QsaUJBQUwsQ0FBdUJhLElBRnJEO0FBR1RKLGFBQUtBO0FBSEksT0FBWDs7QUFNQSxVQUFJTSxPQUFPakIsYUFBYWEsSUFBYixDQUFYO0FBQ0EsV0FBS0osR0FBTCxHQUFXUyxFQUFFRCxJQUFGLENBQVg7QUFDQSxXQUFLUixHQUFMLENBQVNDLElBQVQsQ0FBYyxnQkFBZCxFQUFnQ1MsS0FBaEMsQ0FBc0MsS0FBS0MsVUFBM0M7O0FBRUEsVUFBSVosU0FBUyxLQUFLQyxHQUFMLENBQVNDLElBQVQsQ0FBYyxPQUFkLENBQWI7O0FBRUFGLGFBQU9hLFFBQVAsQ0FBZ0I7QUFDZEMsb0JBQVksS0FERTtBQUVkQyxtQkFBVyxJQUZHO0FBR2RDLDZCQUFxQixLQUhQO0FBSWRDLHlCQUFpQixLQUpIO0FBS2RDLGdCQUFRLGtCQUFNO0FBQ1osaUJBQUt0QixNQUFMLENBQVl1QixXQUFaLENBQXdCQyxRQUF4QjtBQUNELFNBUGE7QUFRZEMsY0FBTSxjQUFDQyxLQUFELEVBQVc7QUFDZixjQUFJQSxNQUFNQyxFQUFOLEtBQWEsQ0FBakIsRUFBb0I7QUFDbEJ2QixtQkFBT0csR0FBUCxDQUFXbUIsTUFBTUUsV0FBTixFQUFYO0FBQ0QsV0FGRCxNQUdLO0FBQ0h4QixtQkFBT0csR0FBUCxDQUFXbUIsTUFBTUcsV0FBTixFQUFYO0FBQ0Q7O0FBRUQsaUJBQUszQixhQUFMO0FBQ0Q7QUFqQmEsT0FBaEI7O0FBb0JBRSxhQUFPa0IsTUFBUCxDQUFjLEtBQUtwQixhQUFuQjtBQUNEOzs7NkJBRVE7QUFDUDtBQUNBLFdBQUtHLEdBQUwsQ0FBU0MsSUFBVCxDQUFjLE9BQWQsRUFBdUJXLFFBQXZCLENBQWdDLFNBQWhDO0FBQ0EsYUFBTyxLQUFLWixHQUFaO0FBQ0EsYUFBTyxLQUFLRCxNQUFaO0FBQ0Q7Ozs2QkFFUTtBQUNQO0FBQ0EsVUFBSUcsTUFBTSxLQUFLQyxhQUFMLEVBQVY7QUFDQSxXQUFLSixNQUFMLENBQVlHLEdBQVosQ0FBZ0JBLEdBQWhCO0FBQ0EsV0FBS0gsTUFBTCxDQUFZYSxRQUFaLENBQXFCLEtBQXJCLEVBQTRCVixHQUE1QjtBQUNEOzs7Ozs7a0JBM0RrQlYsYSIsImZpbGUiOiIzNC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnanF1ZXJ5JztcbnJlcXVpcmUoJ3NwZWN0cnVtJyk7XG5pbXBvcnQgUHJvcGVydHlCYXNlIGZyb20gJy4vUHJvcGVydHlCYXNlJztcblxubGV0IHRwbF9wcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL3RlbXBsYXRlcy9wcm9wZXJ0eUNvbG9yLnRwbC5odG1sJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3BlcnR5Q29sb3IgZXh0ZW5kcyBQcm9wZXJ0eUJhc2Uge1xuICBjb25zdHJ1Y3RvcihpbnN0YW5jZV9wcm9wZXJ0eSwgbGluZURhdGEsIGVkaXRvciwga2V5X3ZhbCA9IGZhbHNlKSB7XG4gICAgc3VwZXIoaW5zdGFuY2VfcHJvcGVydHksIGxpbmVEYXRhLCBlZGl0b3IsIGtleV92YWwpO1xuICAgIHRoaXMub25JbnB1dENoYW5nZSA9IHRoaXMub25JbnB1dENoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuJGlucHV0ID0gdGhpcy4kZWwuZmluZCgnaW5wdXQnKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBzdXBlci5yZW5kZXIoKTtcbiAgICAvLyBCeSBkZWZhdWx0IGFzc2lnbiB0aGUgcHJvcGVydHkgZGVmYXVsdCB2YWx1ZVxuICAgIHZhciB2YWwgPSB0aGlzLmdldEN1cnJlbnRWYWwoKTtcblxuICAgIHZhciBkYXRhID0ge1xuICAgICAgaWQ6IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkubmFtZSwgLy8gXCJjaXJjbGVSYWRpdXNcIiBpbnN0ZWFkIG9mIFwiY2lyY2xlIHJhZGl1c1wiXG4gICAgICBsYWJlbDogdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS5sYWJlbCB8fCB0aGlzLmluc3RhbmNlX3Byb3BlcnR5Lm5hbWUsXG4gICAgICB2YWw6IHZhbFxuICAgIH07XG5cbiAgICB2YXIgdmlldyA9IHRwbF9wcm9wZXJ0eShkYXRhKTtcbiAgICB0aGlzLiRlbCA9ICQodmlldyk7XG4gICAgdGhpcy4kZWwuZmluZCgnLnByb3BlcnR5X19rZXknKS5jbGljayh0aGlzLm9uS2V5Q2xpY2spO1xuXG4gICAgdmFyICRpbnB1dCA9IHRoaXMuJGVsLmZpbmQoJ2lucHV0Jyk7XG5cbiAgICAkaW5wdXQuc3BlY3RydW0oe1xuICAgICAgYWxsb3dFbXB0eTogZmFsc2UsXG4gICAgICBzaG93QWxwaGE6IHRydWUsXG4gICAgICBjbGlja291dEZpcmVzQ2hhbmdlOiBmYWxzZSxcbiAgICAgIHByZWZlcnJlZEZvcm1hdDogJ3JnYicsXG4gICAgICBjaGFuZ2U6ICgpID0+IHtcbiAgICAgICAgdGhpcy5lZGl0b3IudW5kb01hbmFnZXIuYWRkU3RhdGUoKTtcbiAgICAgIH0sXG4gICAgICBtb3ZlOiAoY29sb3IpID0+IHtcbiAgICAgICAgaWYgKGNvbG9yLl9hID09PSAxKSB7XG4gICAgICAgICAgJGlucHV0LnZhbChjb2xvci50b0hleFN0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAkaW5wdXQudmFsKGNvbG9yLnRvUmdiU3RyaW5nKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vbklucHV0Q2hhbmdlKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkaW5wdXQuY2hhbmdlKHRoaXMub25JbnB1dENoYW5nZSk7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgc3VwZXIucmVtb3ZlKCk7XG4gICAgdGhpcy4kZWwuZmluZCgnaW5wdXQnKS5zcGVjdHJ1bSgnZGVzdHJveScpO1xuICAgIGRlbGV0ZSB0aGlzLiRlbDtcbiAgICBkZWxldGUgdGhpcy4kaW5wdXQ7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgc3VwZXIudXBkYXRlKCk7XG4gICAgdmFyIHZhbCA9IHRoaXMuZ2V0Q3VycmVudFZhbCgpO1xuICAgIHRoaXMuJGlucHV0LnZhbCh2YWwpO1xuICAgIHRoaXMuJGlucHV0LnNwZWN0cnVtKCdzZXQnLCB2YWwpO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9lZGl0b3IvUHJvcGVydHlDb2xvci5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 35 */
/***/ (function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_35__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwic3BlY3RydW1cIixcImNvbW1vbmpzXCI6XCJzcGVjdHJ1bS1jb2xvcnBpY2tlclwiLFwiY29tbW9uanMyXCI6XCJzcGVjdHJ1bS1jb2xvcnBpY2tlclwiLFwiYW1kXCI6XCJzcGVjdHJ1bVwifT8wNTYxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjM1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzM1X187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wicm9vdFwiOlwic3BlY3RydW1cIixcImNvbW1vbmpzXCI6XCJzcGVjdHJ1bS1jb2xvcnBpY2tlclwiLFwiY29tbW9uanMyXCI6XCJzcGVjdHJ1bS1jb2xvcnBpY2tlclwiLFwiYW1kXCI6XCJzcGVjdHJ1bVwifVxuLy8gbW9kdWxlIGlkID0gMzVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

	eval("var H = __webpack_require__(31);\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">\");t.b(t.v(t.f(\"label\",c,p,0)));t.b(\"</label>\");t.b(\"\\n\" + i);t.b(\"  <input id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"val\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">{{label}}</label>\\n  <input id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{val}}\\\" />\\n</div>\\n\", H); return T.render.apply(T, arguments); };//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZW1wbGF0ZXMvcHJvcGVydHlDb2xvci50cGwuaHRtbD9hNzUyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsNkJBQTZCLHlCQUF5Qix3QkFBd0IsWUFBWSxhQUFhLGlEQUFpRCxjQUFjLG1EQUFtRCxjQUFjLHVCQUF1QiwwQkFBMEIscUNBQXFDLDZCQUE2QixnQkFBZ0IsY0FBYyxzQkFBc0IsMEJBQTBCLDZDQUE2QywyQkFBMkIsYUFBYSxjQUFjLGNBQWMsVUFBVSxjQUFjLEVBQUUsYUFBYSxTQUFTLElBQUksNEdBQTRHLElBQUksK0JBQStCLE9BQU8sMEJBQTBCLElBQUksdUNBQXVDLEtBQUsscUJBQXFCLHFDQUFxQyIsImZpbGUiOiIzNi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBIID0gcmVxdWlyZShcImhvZ2FuLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsgdmFyIFQgPSBuZXcgSC5UZW1wbGF0ZSh7Y29kZTogZnVuY3Rpb24gKGMscCxpKSB7IHZhciB0PXRoaXM7dC5iKGk9aXx8XCJcIik7dC5iKFwiPGRpdiBjbGFzcz1cXFwicHJvcGVydHkgcHJvcGVydHktLW51bWJlclxcXCI+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8YnV0dG9uIGNsYXNzPVxcXCJwcm9wZXJ0eV9fa2V5XFxcIj48L2J1dHRvbj5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgIDxsYWJlbCBmb3I9XFxcIlwiKTt0LmIodC52KHQuZihcImlkXCIsYyxwLDApKSk7dC5iKFwiXFxcIiBjbGFzcz1cXFwicHJvcGVydHlfX2xhYmVsXFxcIj5cIik7dC5iKHQudih0LmYoXCJsYWJlbFwiLGMscCwwKSkpO3QuYihcIjwvbGFiZWw+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8aW5wdXQgaWQ9XFxcIlwiKTt0LmIodC52KHQuZihcImlkXCIsYyxwLDApKSk7dC5iKFwiXFxcIiBjbGFzcz1cXFwicHJvcGVydHlfX2lucHV0XFxcIiB2YWx1ZT1cXFwiXCIpO3QuYih0LnYodC5mKFwidmFsXCIsYyxwLDApKSk7dC5iKFwiXFxcIiAvPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIjwvZGl2PlwiKTt0LmIoXCJcXG5cIik7cmV0dXJuIHQuZmwoKTsgfSxwYXJ0aWFsczoge30sIHN1YnM6IHsgIH19LCBcIjxkaXYgY2xhc3M9XFxcInByb3BlcnR5IHByb3BlcnR5LS1udW1iZXJcXFwiPlxcbiAgPGJ1dHRvbiBjbGFzcz1cXFwicHJvcGVydHlfX2tleVxcXCI+PC9idXR0b24+XFxuICA8bGFiZWwgZm9yPVxcXCJ7e2lkfX1cXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9fbGFiZWxcXFwiPnt7bGFiZWx9fTwvbGFiZWw+XFxuICA8aW5wdXQgaWQ9XFxcInt7aWR9fVxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19pbnB1dFxcXCIgdmFsdWU9XFxcInt7dmFsfX1cXFwiIC8+XFxuPC9kaXY+XFxuXCIsIEgpOyByZXR1cm4gVC5yZW5kZXIuYXBwbHkoVCwgYXJndW1lbnRzKTsgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3RlbXBsYXRlcy9wcm9wZXJ0eUNvbG9yLnRwbC5odG1sXG4vLyBtb2R1bGUgaWQgPSAzNlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(25);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar tpl_property = __webpack_require__(38);\n\nvar PropertyTween = function () {\n  // instance_property: The current property on the data object.\n  // lineData: The line data object.\n  function PropertyTween(instance_property, lineData, editor) {\n    var key_val = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    var timeline = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n    _classCallCheck(this, PropertyTween);\n\n    this.instance_property = instance_property;\n    this.lineData = lineData;\n    this.editor = editor;\n    this.key_val = key_val;\n    this.timeline = timeline;\n\n    this.onChange = this.onChange.bind(this);\n\n    this.timer = this.editor.timer;\n    this.$el = false;\n    this.render();\n  }\n\n  _createClass(PropertyTween, [{\n    key: 'remove',\n    value: function remove() {\n      delete this.$el;\n      delete this.instance_property;\n      delete this.lineData;\n      delete this.editor;\n      delete this.key_val;\n      delete this.timeline;\n\n      delete this.timer;\n    }\n  }, {\n    key: 'customLabel',\n    value: function customLabel(easeArray) {\n      var arrayFixed = easeArray.map(function (x) {\n        return parseFloat(x.toFixed(3));\n      });\n      return '[' + arrayFixed.join(', ') + ']';\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var self = this;\n      if (!this.key_val.ease) {\n        this.key_val.ease = 'Quad.easeOut';\n      }\n      var data = {\n        id: this.instance_property.name + '_tween',\n        val: this.key_val.ease,\n        options: ['Linear.easeNone'],\n        selected: function selected() {\n          if (this.toString() === self.key_val.ease) {\n            return 'selected';\n          }\n          if (Array.isArray(self.key_val.ease)) {\n            if (this === self.customLabel(self.key_val.ease)) {\n              return 'selected';\n            }\n          }\n          return '';\n        }\n      };\n\n      var tweens = ['Quad', 'Cubic', 'Quart', 'Quint'];\n      for (var i = 0; i < tweens.length; i++) {\n        var tween = tweens[i];\n        data.options.push(tween + '.easeOut');\n        data.options.push(tween + '.easeIn');\n        data.options.push(tween + '.easeInOut');\n      }\n\n      if (Array.isArray(this.key_val.ease)) {\n        var label = this.customLabel(this.key_val.ease);\n        data.options.push(label);\n      }\n\n      this.$el = $(tpl_property(data));\n      this.$el.find('select').change(this.onChange);\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange() {\n      var ease = this.$el.find('select').val();\n      this.key_val.ease = ease;\n      this.editor.undoManager.addState();\n      this.lineData._isDirty = true;\n      this.timeline._isDirty = true;\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      console.log('PropertyTween\\'s update method is not yet implemented.');\n    }\n  }]);\n\n  return PropertyTween;\n}();\n\nexports.default = PropertyTween;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvUHJvcGVydHlUd2Vlbi5qcz8xODZmIl0sIm5hbWVzIjpbInRwbF9wcm9wZXJ0eSIsInJlcXVpcmUiLCJQcm9wZXJ0eVR3ZWVuIiwiaW5zdGFuY2VfcHJvcGVydHkiLCJsaW5lRGF0YSIsImVkaXRvciIsImtleV92YWwiLCJ0aW1lbGluZSIsIm9uQ2hhbmdlIiwiYmluZCIsInRpbWVyIiwiJGVsIiwicmVuZGVyIiwiZWFzZUFycmF5IiwiYXJyYXlGaXhlZCIsIm1hcCIsIngiLCJwYXJzZUZsb2F0IiwidG9GaXhlZCIsImpvaW4iLCJzZWxmIiwiZWFzZSIsImRhdGEiLCJpZCIsIm5hbWUiLCJ2YWwiLCJvcHRpb25zIiwic2VsZWN0ZWQiLCJ0b1N0cmluZyIsIkFycmF5IiwiaXNBcnJheSIsImN1c3RvbUxhYmVsIiwidHdlZW5zIiwiaSIsImxlbmd0aCIsInR3ZWVuIiwicHVzaCIsImxhYmVsIiwiJCIsImZpbmQiLCJjaGFuZ2UiLCJ1bmRvTWFuYWdlciIsImFkZFN0YXRlIiwiX2lzRGlydHkiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7O0FBRUEsSUFBSUEsZUFBZSxtQkFBQUMsQ0FBUSxFQUFSLENBQW5COztJQUVxQkMsYTtBQUNuQjtBQUNBO0FBQ0EseUJBQVlDLGlCQUFaLEVBQStCQyxRQUEvQixFQUF5Q0MsTUFBekMsRUFBb0Y7QUFBQSxRQUFuQ0MsT0FBbUMsdUVBQXpCLEtBQXlCO0FBQUEsUUFBbEJDLFFBQWtCLHVFQUFQLEtBQU87O0FBQUE7O0FBQ2xGLFNBQUtKLGlCQUFMLEdBQXlCQSxpQkFBekI7QUFDQSxTQUFLQyxRQUFMLEdBQWdCQSxRQUFoQjtBQUNBLFNBQUtDLE1BQUwsR0FBY0EsTUFBZDtBQUNBLFNBQUtDLE9BQUwsR0FBZUEsT0FBZjtBQUNBLFNBQUtDLFFBQUwsR0FBZ0JBLFFBQWhCOztBQUVBLFNBQUtDLFFBQUwsR0FBZ0IsS0FBS0EsUUFBTCxDQUFjQyxJQUFk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QUtwQyxRQUFMLENBQWNvQyxRQUFkLEdBQXlCLElBQXpCO0FBQ0Q7Ozs2QkFFUTtBQUNQQyxjQUFRQyxHQUFSLENBQVksd0RBQVo7QUFDRDs7Ozs7O2tCQWxGa0IzQyxhIiwiZmlsZSI6IjM3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdqcXVlcnknO1xuXG5sZXQgdHBsX3Byb3BlcnR5ID0gcmVxdWlyZSgnLi4vdGVtcGxhdGVzL3Byb3BlcnR5VHdlZW4udHBsLmh0bWwnKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvcGVydHlUd2VlbiB7XG4gIC8vIGluc3RhbmNlX3Byb3BlcnR5OiBUaGUgY3VycmVudCBwcm9wZXJ0eSBvbiB0aGUgZGF0YSBvYmplY3QuXG4gIC8vIGxpbmVEYXRhOiBUaGUgbGluZSBkYXRhIG9iamVjdC5cbiAgY29uc3RydWN0b3IoaW5zdGFuY2VfcHJvcGVydHksIGxpbmVEYXRhLCBlZGl0b3IsIGtleV92YWwgPSBmYWxzZSwgdGltZWxpbmUgPSBmYWxzZSkge1xuICAgIHRoaXMuaW5zdGFuY2VfcHJvcGVydHkgPSBpbnN0YW5jZV9wcm9wZXJ0eTtcbiAgICB0aGlzLmxpbmVEYXRhID0gbGluZURhdGE7XG4gICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgdGhpcy5rZXlfdmFsID0ga2V5X3ZhbDtcbiAgICB0aGlzLnRpbWVsaW5lID0gdGltZWxpbmU7XG5cbiAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy50aW1lciA9IHRoaXMuZWRpdG9yLnRpbWVyO1xuICAgIHRoaXMuJGVsID0gZmFsc2U7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICBkZWxldGUgdGhpcy4kZWw7XG4gICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VfcHJvcGVydHk7XG4gICAgZGVsZXRlIHRoaXMubGluZURhdGE7XG4gICAgZGVsZXRlIHRoaXMuZWRpdG9yO1xuICAgIGRlbGV0ZSB0aGlzLmtleV92YWw7XG4gICAgZGVsZXRlIHRoaXMudGltZWxpbmU7XG5cbiAgICBkZWxldGUgdGhpcy50aW1lcjtcbiAgfVxuXG4gIGN1c3RvbUxhYmVsKGVhc2VBcnJheSkge1xuICAgIGNvbnN0IGFycmF5Rml4ZWQgPSBlYXNlQXJyYXkubWFwKCh4KSA9PiBwYXJzZUZsb2F0KHgudG9GaXhlZCgzKSkpO1xuICAgIHJldHVybiBgWyR7YXJyYXlGaXhlZC5qb2luKCcsICcpfV1gO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoIXRoaXMua2V5X3ZhbC5lYXNlKSB7XG4gICAgICB0aGlzLmtleV92YWwuZWFzZSA9ICdRdWFkLmVhc2VPdXQnO1xuICAgIH1cbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIGlkOiB0aGlzLmluc3RhbmNlX3Byb3BlcnR5Lm5hbWUgKyAnX3R3ZWVuJyxcbiAgICAgIHZhbDogdGhpcy5rZXlfdmFsLmVhc2UsXG4gICAgICBvcHRpb25zOiBbJ0xpbmVhci5lYXNlTm9uZSddLFxuICAgICAgc2VsZWN0ZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy50b1N0cmluZygpID09PSBzZWxmLmtleV92YWwuZWFzZSkge1xuICAgICAgICAgIHJldHVybiAnc2VsZWN0ZWQnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNlbGYua2V5X3ZhbC5lYXNlKSkge1xuICAgICAgICAgIGlmICh0aGlzID09PSBzZWxmLmN1c3RvbUxhYmVsKHNlbGYua2V5X3ZhbC5lYXNlKSkge1xuICAgICAgICAgICAgcmV0dXJuICdzZWxlY3RlZCc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHR3ZWVucyA9IFsnUXVhZCcsICdDdWJpYycsICdRdWFydCcsICdRdWludCddO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHdlZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdHdlZW4gPSB0d2VlbnNbaV07XG4gICAgICBkYXRhLm9wdGlvbnMucHVzaCh0d2VlbiArICcuZWFzZU91dCcpO1xuICAgICAgZGF0YS5vcHRpb25zLnB1c2godHdlZW4gKyAnLmVhc2VJbicpO1xuICAgICAgZGF0YS5vcHRpb25zLnB1c2godHdlZW4gKyAnLmVhc2VJbk91dCcpO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMua2V5X3ZhbC5lYXNlKSkge1xuICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLmN1c3RvbUxhYmVsKHRoaXMua2V5X3ZhbC5lYXNlKTtcbiAgICAgIGRhdGEub3B0aW9ucy5wdXNoKGxhYmVsKTtcbiAgICB9XG5cbiAgICB0aGlzLiRlbCA9ICQodHBsX3Byb3BlcnR5KGRhdGEpKTtcbiAgICB0aGlzLiRlbC5maW5kKCdzZWxlY3QnKS5jaGFuZ2UodGhpcy5vbkNoYW5nZSk7XG4gIH1cblxuICBvbkNoYW5nZSgpIHtcbiAgICB2YXIgZWFzZSA9IHRoaXMuJGVsLmZpbmQoJ3NlbGVjdCcpLnZhbCgpO1xuICAgIHRoaXMua2V5X3ZhbC5lYXNlID0gZWFzZTtcbiAgICB0aGlzLmVkaXRvci51bmRvTWFuYWdlci5hZGRTdGF0ZSgpO1xuICAgIHRoaXMubGluZURhdGEuX2lzRGlydHkgPSB0cnVlO1xuICAgIHRoaXMudGltZWxpbmUuX2lzRGlydHkgPSB0cnVlO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnNvbGUubG9nKCdQcm9wZXJ0eVR3ZWVuXFwncyB1cGRhdGUgbWV0aG9kIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQuJyk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2VkaXRvci9Qcm9wZXJ0eVR3ZWVuLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

	eval("var H = __webpack_require__(31);\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"property property--tween\\\">\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">easing</label>\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"property__select\\\">\");t.b(\"\\n\" + i);t.b(\"    <div class=\\\"custom-select\\\">\");t.b(\"\\n\" + i);t.b(\"      <select id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\">\");t.b(\"\\n\" + i);if(t.s(t.f(\"options\",c,p,1),c,p,0,212,279,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"        <option value=\\\"\");t.b(t.v(t.d(\".\",c,p,0)));t.b(\"\\\" \");t.b(t.v(t.f(\"selected\",c,p,0)));t.b(\">\");t.b(t.v(t.d(\".\",c,p,0)));t.b(\"</option>\");t.b(\"\\n\" + i);});c.pop();}t.b(\"      </select>\");t.b(\"\\n\" + i);t.b(\"    </div>\");t.b(\"\\n\" + i);t.b(\"  </div>\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"property property--tween\\\">\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">easing</label>\\n  <div class=\\\"property__select\\\">\\n    <div class=\\\"custom-select\\\">\\n      <select id=\\\"{{id}}\\\">\\n        {{#options}}\\n        <option value=\\\"{{.}}\\\" {{selected}}>{{.}}</option>\\n        {{/options}}\\n      </select>\\n    </div>\\n  </div>\\n</div>\\n\", H); return T.render.apply(T, arguments); };//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZW1wbGF0ZXMvcHJvcGVydHlUd2Vlbi50cGwuaHRtbD9hOWZjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsNkJBQTZCLHlCQUF5Qix3QkFBd0IsWUFBWSxhQUFhLGdEQUFnRCxjQUFjLHVCQUF1QiwwQkFBMEIsbURBQW1ELGNBQWMsMENBQTBDLGNBQWMseUNBQXlDLGNBQWMsMkJBQTJCLDBCQUEwQixXQUFXLGNBQWMsNkNBQTZDLEdBQUcsSUFBSSx5QkFBeUIsZ0NBQWdDLHlCQUF5QixXQUFXLGdDQUFnQyxTQUFTLHlCQUF5QixpQkFBaUIsZUFBZSxFQUFFLFNBQVMsdUJBQXVCLGNBQWMsa0JBQWtCLGNBQWMsZ0JBQWdCLGNBQWMsY0FBYyxVQUFVLGNBQWMsRUFBRSxhQUFhLFNBQVMsSUFBSSw4REFBOEQsSUFBSSx5SUFBeUksSUFBSSxlQUFlLFVBQVUsNEJBQTRCLEdBQUcsS0FBSyxVQUFVLEdBQUcsR0FBRyxxQkFBcUIsVUFBVSx1REFBdUQscUNBQXFDIiwiZmlsZSI6IjM4LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEggPSByZXF1aXJlKFwiaG9nYW4uanNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgeyB2YXIgVCA9IG5ldyBILlRlbXBsYXRlKHtjb2RlOiBmdW5jdGlvbiAoYyxwLGkpIHsgdmFyIHQ9dGhpczt0LmIoaT1pfHxcIlwiKTt0LmIoXCI8ZGl2IGNsYXNzPVxcXCJwcm9wZXJ0eSBwcm9wZXJ0eS0tdHdlZW5cXFwiPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgPGxhYmVsIGZvcj1cXFwiXCIpO3QuYih0LnYodC5mKFwiaWRcIixjLHAsMCkpKTt0LmIoXCJcXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9fbGFiZWxcXFwiPmVhc2luZzwvbGFiZWw+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8ZGl2IGNsYXNzPVxcXCJwcm9wZXJ0eV9fc2VsZWN0XFxcIj5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgPGRpdiBjbGFzcz1cXFwiY3VzdG9tLXNlbGVjdFxcXCI+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgICAgPHNlbGVjdCBpZD1cXFwiXCIpO3QuYih0LnYodC5mKFwiaWRcIixjLHAsMCkpKTt0LmIoXCJcXFwiPlwiKTt0LmIoXCJcXG5cIiArIGkpO2lmKHQucyh0LmYoXCJvcHRpb25zXCIsYyxwLDEpLGMscCwwLDIxMiwyNzksXCJ7eyB9fVwiKSl7dC5ycyhjLHAsZnVuY3Rpb24oYyxwLHQpe3QuYihcIiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiXCIpO3QuYih0LnYodC5kKFwiLlwiLGMscCwwKSkpO3QuYihcIlxcXCIgXCIpO3QuYih0LnYodC5mKFwic2VsZWN0ZWRcIixjLHAsMCkpKTt0LmIoXCI+XCIpO3QuYih0LnYodC5kKFwiLlwiLGMscCwwKSkpO3QuYihcIjwvb3B0aW9uPlwiKTt0LmIoXCJcXG5cIiArIGkpO30pO2MucG9wKCk7fXQuYihcIiAgICAgIDwvc2VsZWN0PlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICA8L2Rpdj5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgIDwvZGl2PlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIjwvZGl2PlwiKTt0LmIoXCJcXG5cIik7cmV0dXJuIHQuZmwoKTsgfSxwYXJ0aWFsczoge30sIHN1YnM6IHsgIH19LCBcIjxkaXYgY2xhc3M9XFxcInByb3BlcnR5IHByb3BlcnR5LS10d2VlblxcXCI+XFxuICA8bGFiZWwgZm9yPVxcXCJ7e2lkfX1cXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9fbGFiZWxcXFwiPmVhc2luZzwvbGFiZWw+XFxuICA8ZGl2IGNsYXNzPVxcXCJwcm9wZXJ0eV9fc2VsZWN0XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY3VzdG9tLXNlbGVjdFxcXCI+XFxuICAgICAgPHNlbGVjdCBpZD1cXFwie3tpZH19XFxcIj5cXG4gICAgICAgIHt7I29wdGlvbnN9fVxcbiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwie3sufX1cXFwiIHt7c2VsZWN0ZWR9fT57ey59fTwvb3B0aW9uPlxcbiAgICAgICAge3svb3B0aW9uc319XFxuICAgICAgPC9zZWxlY3Q+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIsIEgpOyByZXR1cm4gVC5yZW5kZXIuYXBwbHkoVCwgYXJndW1lbnRzKTsgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3RlbXBsYXRlcy9wcm9wZXJ0eVR3ZWVuLnRwbC5odG1sXG4vLyBtb2R1bGUgaWQgPSAzOFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n__webpack_require__(25);\n\nvar _PropertyBase2 = __webpack_require__(28);\n\nvar _PropertyBase3 = _interopRequireDefault(_PropertyBase2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar tpl_property = __webpack_require__(40);\n\nvar PropertyEvent = function (_PropertyBase) {\n  _inherits(PropertyEvent, _PropertyBase);\n\n  // instance_property: The current property on the data object.\n  // lineData: The line data object.\n  function PropertyEvent(instance_property, lineData, editor) {\n    var key_val = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    _classCallCheck(this, PropertyEvent);\n\n    var _this = _possibleConstructorReturn(this, (PropertyEvent.__proto__ || Object.getPrototypeOf(PropertyEvent)).call(this, instance_property, lineData, editor, key_val));\n\n    _this.onInputChange = _this.onInputChange.bind(_this);\n    _this.$input = _this.$el.find('input');\n    return _this;\n  }\n\n  _createClass(PropertyEvent, [{\n    key: 'render',\n    value: function render() {\n      _get(PropertyEvent.prototype.__proto__ || Object.getPrototypeOf(PropertyEvent.prototype), 'render', this).call(this);\n\n      var val = this.getCurrentVal();\n\n      var data = {\n        id: this.instance_property.name, // \"circleRadius\" instead of \"circle radius\"\n        label: this.instance_property.label || this.instance_property.name,\n        val: val\n      };\n\n      var view = tpl_property(data);\n      this.$el = $(view);\n\n      var $input = this.$el.find('input');\n\n      $input.change(this.onInputChange);\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      _get(PropertyEvent.prototype.__proto__ || Object.getPrototypeOf(PropertyEvent.prototype), 'remove', this).call(this);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      _get(PropertyEvent.prototype.__proto__ || Object.getPrototypeOf(PropertyEvent.prototype), 'update', this).call(this);\n      var val = this.getCurrentVal();\n      this.$input.val(val);\n    }\n  }]);\n\n  return PropertyEvent;\n}(_PropertyBase3.default);\n\nexports.default = PropertyEvent;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvUHJvcGVydHlFdmVudC5qcz9kZWZjIl0sIm5hbWVzIjpbInRwbF9wcm9wZXJ0eSIsInJlcXVpcmUiLCJQcm9wZXJ0eUV2ZW50IiwiaW5zdGFuY2VfcHJvcGVydHkiLCJsaW5lRGF0YSIsImVkaXRvciIsImtleV92YWwiLCJvbklucHV0Q2hhbmdlIiwiYmluZCIsIiRpbnB1dCIsIiRlbCIsImZpbmQiLCJ2YWwiLCJnZXRDdXJyZW50VmFsIiwiZGF0YSIsImlkIiwibmFtZSIsImxhYmVsIiwidmlldyIsIiQiLCJjaGFuZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7Ozs7Ozs7Ozs7O0FBRUEsSUFBSUEsZUFBZSxtQkFBQUMsQ0FBUSxFQUFSLENBQW5COztJQUVxQkMsYTs7O0FBQ25CO0FBQ0E7QUFDQSx5QkFBWUMsaUJBQVosRUFBK0JDLFFBQS9CLEVBQXlDQyxNQUF6QyxFQUFrRTtBQUFBLFFBQWpCQyxPQUFpQix1RUFBUCxLQUFPOztBQUFBOztBQUFBLDhIQUMxREgsaUJBRDBELEVBQ3ZDQyxRQUR1QyxFQUM3QkMsTUFENkIsRUFDckJDLE9BRHFCOztBQUVoRSxVQUFLQyxhQUFMLEdBQXFCLE1BQUtBLGFBQUwsQ0FBbUJDLElBQW5CLE9BQXJCO0FBQ0EsVUFBS0MsTUFBTCxHQUFjLE1BQUtDLEdBQUwsQ0FBU0MsSUFBVCxDQUFjLE9BQWQsQ0FBZDtBQUhnRTtBQUlqRTs7Ozs2QkFFUTtBQUNQOztBQUVBLFVBQUlDLE1BQU0sS0FBS0MsYUFBTCxFQUFWOztBQUVBLFVBQUlDLE9BQU87QUFDVEMsWUFBSSxLQUFLWixpQkFBTCxDQUF1QmEsSUFEbEIsRUFDd0I7QUFDakNDLGVBQU8sS0FBS2QsaUJBQUwsQ0FBdUJjLEtBQXZCLElBQWdDLEtBQUtkLGlCQUFMLENBQXVCYSxJQUZyRDtBQUdUSixhQUFLQTtBQUhJLE9BQVg7O0FBTUEsVUFBSU0sT0FBT2xCLGFBQWFjLElBQWIsQ0FBWDtBQUNBLFdBQUtKLEdBQUwsR0FBV1MsRUFBRUQsSUFBRixDQUFYOztBQUVBLFVBQUlULFNBQVMsS0FBS0MsR0FBTCxDQUFTQyxJQUFULENBQWMsT0FBZCxDQUFiOztBQUVBRixhQUFPVyxNQUFQLENBQWMsS0FBS2IsYUFBbkI7QUFDRDs7OzZCQUVRO0FBQ1A7QUFDRDs7OzZCQUVRO0FBQ1A7QUFDQSxVQUFJSyxNQUFNLEtBQUtDLGFBQUwsRUFBVjtBQUNBLFdBQUtKLE1BQUwsQ0FBWUcsR0FBWixDQUFnQkEsR0FBaEI7QUFDRDs7Ozs7O2tCQXBDa0JWLGEiLCJmaWxlIjoiMzkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ2pxdWVyeSc7XG5pbXBvcnQgUHJvcGVydHlCYXNlIGZyb20gJy4vUHJvcGVydHlCYXNlJztcblxubGV0IHRwbF9wcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL3RlbXBsYXRlcy9wcm9wZXJ0eUV2ZW50LnRwbC5odG1sJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3BlcnR5RXZlbnQgZXh0ZW5kcyBQcm9wZXJ0eUJhc2Uge1xuICAvLyBpbnN0YW5jZV9wcm9wZXJ0eTogVGhlIGN1cnJlbnQgcHJvcGVydHkgb24gdGhlIGRhdGEgb2JqZWN0LlxuICAvLyBsaW5lRGF0YTogVGhlIGxpbmUgZGF0YSBvYmplY3QuXG4gIGNvbnN0cnVjdG9yKGluc3RhbmNlX3Byb3BlcnR5LCBsaW5lRGF0YSwgZWRpdG9yLCBrZXlfdmFsID0gZmFsc2UpIHtcbiAgICBzdXBlcihpbnN0YW5jZV9wcm9wZXJ0eSwgbGluZURhdGEsIGVkaXRvciwga2V5X3ZhbCk7XG4gICAgdGhpcy5vbklucHV0Q2hhbmdlID0gdGhpcy5vbklucHV0Q2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy4kaW5wdXQgPSB0aGlzLiRlbC5maW5kKCdpbnB1dCcpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHN1cGVyLnJlbmRlcigpO1xuXG4gICAgbGV0IHZhbCA9IHRoaXMuZ2V0Q3VycmVudFZhbCgpO1xuXG4gICAgbGV0IGRhdGEgPSB7XG4gICAgICBpZDogdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS5uYW1lLCAvLyBcImNpcmNsZVJhZGl1c1wiIGluc3RlYWQgb2YgXCJjaXJjbGUgcmFkaXVzXCJcbiAgICAgIGxhYmVsOiB0aGlzLmluc3RhbmNlX3Byb3BlcnR5LmxhYmVsIHx8IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkubmFtZSxcbiAgICAgIHZhbDogdmFsXG4gICAgfTtcblxuICAgIGxldCB2aWV3ID0gdHBsX3Byb3BlcnR5KGRhdGEpO1xuICAgIHRoaXMuJGVsID0gJCh2aWV3KTtcblxuICAgIHZhciAkaW5wdXQgPSB0aGlzLiRlbC5maW5kKCdpbnB1dCcpO1xuXG4gICAgJGlucHV0LmNoYW5nZSh0aGlzLm9uSW5wdXRDaGFuZ2UpO1xuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIHN1cGVyLnJlbW92ZSgpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIHN1cGVyLnVwZGF0ZSgpO1xuICAgIHZhciB2YWwgPSB0aGlzLmdldEN1cnJlbnRWYWwoKTtcbiAgICB0aGlzLiRpbnB1dC52YWwodmFsKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZWRpdG9yL1Byb3BlcnR5RXZlbnQuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

	eval("var H = __webpack_require__(31);\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">\");t.b(t.v(t.f(\"label\",c,p,0)));t.b(\"</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"text\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"val\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">{{label}}</label>\\n  <input type=\\\"text\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{val}}\\\" />\\n</div>\\n\", H); return T.render.apply(T, arguments); };//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZW1wbGF0ZXMvcHJvcGVydHlFdmVudC50cGwuaHRtbD82YTc2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsNkJBQTZCLHlCQUF5Qix3QkFBd0IsWUFBWSxhQUFhLGlEQUFpRCxjQUFjLG1EQUFtRCxjQUFjLHVCQUF1QiwwQkFBMEIscUNBQXFDLDZCQUE2QixnQkFBZ0IsY0FBYyxvQ0FBb0MsMEJBQTBCLDZDQUE2QywyQkFBMkIsYUFBYSxjQUFjLGNBQWMsVUFBVSxjQUFjLEVBQUUsYUFBYSxTQUFTLElBQUksNEdBQTRHLElBQUksK0JBQStCLE9BQU8sd0NBQXdDLElBQUksdUNBQXVDLEtBQUsscUJBQXFCLHFDQUFxQyIsImZpbGUiOiI0MC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBIID0gcmVxdWlyZShcImhvZ2FuLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsgdmFyIFQgPSBuZXcgSC5UZW1wbGF0ZSh7Y29kZTogZnVuY3Rpb24gKGMscCxpKSB7IHZhciB0PXRoaXM7dC5iKGk9aXx8XCJcIik7dC5iKFwiPGRpdiBjbGFzcz1cXFwicHJvcGVydHkgcHJvcGVydHktLW51bWJlclxcXCI+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8YnV0dG9uIGNsYXNzPVxcXCJwcm9wZXJ0eV9fa2V5XFxcIj48L2J1dHRvbj5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgIDxsYWJlbCBmb3I9XFxcIlwiKTt0LmIodC52KHQuZihcImlkXCIsYyxwLDApKSk7dC5iKFwiXFxcIiBjbGFzcz1cXFwicHJvcGVydHlfX2xhYmVsXFxcIj5cIik7dC5iKHQudih0LmYoXCJsYWJlbFwiLGMscCwwKSkpO3QuYihcIjwvbGFiZWw+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgaWQ9XFxcIlwiKTt0LmIodC52KHQuZihcImlkXCIsYyxwLDApKSk7dC5iKFwiXFxcIiBjbGFzcz1cXFwicHJvcGVydHlfX2lucHV0XFxcIiB2YWx1ZT1cXFwiXCIpO3QuYih0LnYodC5mKFwidmFsXCIsYyxwLDApKSk7dC5iKFwiXFxcIiAvPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIjwvZGl2PlwiKTt0LmIoXCJcXG5cIik7cmV0dXJuIHQuZmwoKTsgfSxwYXJ0aWFsczoge30sIHN1YnM6IHsgIH19LCBcIjxkaXYgY2xhc3M9XFxcInByb3BlcnR5IHByb3BlcnR5LS1udW1iZXJcXFwiPlxcbiAgPGJ1dHRvbiBjbGFzcz1cXFwicHJvcGVydHlfX2tleVxcXCI+PC9idXR0b24+XFxuICA8bGFiZWwgZm9yPVxcXCJ7e2lkfX1cXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9fbGFiZWxcXFwiPnt7bGFiZWx9fTwvbGFiZWw+XFxuICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgaWQ9XFxcInt7aWR9fVxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19pbnB1dFxcXCIgdmFsdWU9XFxcInt7dmFsfX1cXFwiIC8+XFxuPC9kaXY+XFxuXCIsIEgpOyByZXR1cm4gVC5yZW5kZXIuYXBwbHkoVCwgYXJndW1lbnRzKTsgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3RlbXBsYXRlcy9wcm9wZXJ0eUV2ZW50LnRwbC5odG1sXG4vLyBtb2R1bGUgaWQgPSA0MFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(25);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar tpl_property = __webpack_require__(42);\n\nvar PropertyFooter = function () {\n  // instance_property: The current property on the data object.\n  // lineData: The line data object.\n  function PropertyFooter(instance_property, lineData, editor) {\n    var key_val = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    var timeline = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n    _classCallCheck(this, PropertyFooter);\n\n    this.instance_property = instance_property;\n    this.lineData = lineData;\n    this.editor = editor;\n    this.key_val = key_val;\n    this.timeline = timeline;\n\n    this.timer = this.editor.timer;\n    this.$time = false;\n    this.$el = false;\n    this.render();\n  }\n\n  _createClass(PropertyFooter, [{\n    key: 'remove',\n    value: function remove() {\n      delete this.$el;\n      delete this.instance_property;\n      delete this.lineData;\n      delete this.editor;\n      delete this.key_val;\n      delete this.timeline;\n\n      delete this.timer;\n      delete this.$time;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this = this;\n\n      var data = {\n        time: this.key_val.time.toFixed(3)\n      };\n\n      this.$el = $(tpl_property(data));\n      this.$time = this.$el.find('.property__key-time strong');\n      this.$time.keypress(function (e) {\n        if (e.charCode === 13) {\n          // Enter\n          e.preventDefault();\n          _this.$time.blur();\n          _this.updateKeyTime(_this.$time.text());\n        }\n      });\n\n      this.$time.on('click', function () {\n        return document.execCommand('selectAll', false, null);\n      });\n    }\n  }, {\n    key: 'updateKeyTime',\n    value: function updateKeyTime(time) {\n      var time2 = parseFloat(time);\n      if (isNaN(time2)) {\n        time2 = this.key_val.time;\n      }\n      this.$time.text(time2);\n      this.key_val.time = time2;\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      // todo: use mustache instead...\n      this.$time.html(this.key_val.time.toFixed(3));\n    }\n  }]);\n\n  return PropertyFooter;\n}();\n\nexports.default = PropertyFooter;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvUHJvcGVydHlGb290ZXIuanM/YTFlZSJdLCJuYW1lcyI6WyJ0cGxfcHJvcGVydHkiLCJyZXF1aXJlIiwiUHJvcGVydHlGb290ZXIiLCJpbnN0YW5jZV9wcm9wZXJ0eSIsImxpbmVEYXRhIiwiZWRpdG9yIiwia2V5X3ZhbCIsInRpbWVsaW5lIiwidGltZXIiLCIkdGltZSIsIiRlbCIsInJlbmRlciIsImRhdGEiLCJ0aW1lIiwidG9GaXhlZCIsIiQiLCJmaW5kIiwia2V5cHJlc3MiLCJlIiwiY2hhckNvZGUiLCJwcmV2ZW50RGVmYXVsdCIsImJsdXIiLCJ1cGRhdGVLZXlUaW1lIiwidGV4dCIsIm9uIiwiZG9jdW1lbnQiLCJleGVjQ29tbWFuZCIsInRpbWUyIiwicGFyc2VGbG9hdCIsImlzTmFOIiwiaHRtbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7OztBQUVBLElBQUlBLGVBQWUsbUJBQUFDLENBQVEsRUFBUixDQUFuQjs7SUFFcUJDLGM7QUFDbkI7QUFDQTtBQUNBLDBCQUFZQyxpQkFBWixFQUErQkMsUUFBL0IsRUFBeUNDLE1BQXpDLEVBQW9GO0FBQUEsUUFBbkNDLE9BQW1DLHVFQUF6QixLQUF5QjtBQUFBLFFBQWxCQyxRQUFrQix1RUFBUCxLQUFPOztBQUFBOztBQUNsRixTQUFLSixpQkFBTCxHQUF5QkEsaUJBQXpCO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQkEsUUFBaEI7QUFDQSxTQUFLQyxNQUFMLEdBQWNBLE1BQWQ7QUFDQSxTQUFLQyxPQUFMLEdBQWVBLE9BQWY7QUFDQSxTQUFLQyxRQUFMLEdBQWdCQSxRQUFoQjs7QUFFQSxTQUFLQyxLQUFMLEdBQWEsS0FBS0gsTUFBTCxDQUFZRyxLQUF6QjtBQUNBLFNBQUtDLEtBQUwsR0FBYSxLQUFiO0FBQ0EsU0FBS0MsR0FBTCxHQUFXLEtBQVg7QUFDQSxTQUFLQyxNQUFMO0FBQ0Q7Ozs7NkJBRVE7QUFDUCxhQUFPLEtBQUtELEdBQVo7QUFDQSxhQUFPLEtBQUtQLGlCQUFaO0FBQ0EsYUFBTyxLQUFLQyxRQUFaO0FBQ0EsYUFBTyxLQUFLQyxNQUFaO0FBQ0EsYUFBTyxLQUFLQyxPQUFaO0FBQ0EsYUFBTyxLQUFLQyxRQUFaOztBQUVBLGFBQU8sS0FBS0MsS0FBWjtBQUNBLGFBQU8sS0FBS0MsS0FBWjtBQUNEOzs7NkJBRVE7QUFBQTs7QUFDUCxVQUFJRyxPQUFPO0FBQ1RDLGNBQU0sS0FBS1AsT0FBTCxDQUFhTyxJQUFiLENBQWtCQyxPQUFsQixDQUEwQixDQUExQjtBQURHLE9BQVg7O0FBSUEsV0FBS0osR0FBTCxHQUFXSyxFQUFFZixhQUFhWSxJQUFiLENBQUYsQ0FBWDtBQUNBLFdBQUtILEtBQUwsR0FBYSxLQUFLQyxHQUFMLENBQVNNLElBQVQsQ0FBYyw0QkFBZCxDQUFiO0FBQ0EsV0FBS1AsS0FBTCxDQUFXUSxRQUFYLENBQW9CLFVBQUNDLENBQUQsRUFBTztBQUN6QixZQUFJQSxFQUFFQyxRQUFGLEtBQWUsRUFBbkIsRUFBdUI7QUFDckI7QUFDQUQsWUFBRUUsY0FBRjtBQUNBLGdCQUFLWCxLQUFMLENBQVdZLElBQVg7QUFDQSxnQkFBS0MsYUFBTCxDQUFtQixNQUFLYixLQUFMLENBQVdjLElBQVgsRUFBbkI7QUFDRDtBQUNGLE9BUEQ7O0FBU0EsV0FBS2QsS0FBTCxDQUFXZSxFQUFYLENBQWMsT0FBZCxFQUF1QjtBQUFBLGVBQU1DLFNBQVNDLFdBQVQsQ0FBcUIsV0FBckIsRUFBa0MsS0FBbEMsRUFBeUMsSUFBekMsQ0FBTjtBQUFBLE9BQXZCO0FBQ0Q7OztrQ0FFYWIsSSxFQUFNO0FBQ2xCLFVBQUljLFFBQVFDLFdBQVdmLElBQVgsQ0FBWjtBQUNBLFVBQUlnQixNQUFNRixLQUFOLENBQUosRUFBa0I7QUFDaEJBLGdCQUFRLEtBQUtyQixPQUFMLENBQWFPLElBQXJCO0FBQ0Q7QUFDRCxXQUFLSixLQUFMLENBQVdjLElBQVgsQ0FBZ0JJLEtBQWhCO0FBQ0EsV0FBS3JCLE9BQUwsQ0FBYU8sSUFBYixHQUFvQmMsS0FBcEI7QUFDRDs7OzZCQUVRO0FBQ1A7QUFDQSxXQUFLbEIsS0FBTCxDQUFXcUIsSUFBWCxDQUFnQixLQUFLeEIsT0FBTCxDQUFhTyxJQUFiLENBQWtCQyxPQUFsQixDQUEwQixDQUExQixDQUFoQjtBQUNEOzs7Ozs7a0JBM0RrQlosYyIsImZpbGUiOiI0MS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnanF1ZXJ5JztcblxubGV0IHRwbF9wcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL3RlbXBsYXRlcy9wcm9wZXJ0eUZvb3Rlci50cGwuaHRtbCcpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9wZXJ0eUZvb3RlciB7XG4gIC8vIGluc3RhbmNlX3Byb3BlcnR5OiBUaGUgY3VycmVudCBwcm9wZXJ0eSBvbiB0aGUgZGF0YSBvYmplY3QuXG4gIC8vIGxpbmVEYXRhOiBUaGUgbGluZSBkYXRhIG9iamVjdC5cbiAgY29uc3RydWN0b3IoaW5zdGFuY2VfcHJvcGVydHksIGxpbmVEYXRhLCBlZGl0b3IsIGtleV92YWwgPSBmYWxzZSwgdGltZWxpbmUgPSBmYWxzZSkge1xuICAgIHRoaXMuaW5zdGFuY2VfcHJvcGVydHkgPSBpbnN0YW5jZV9wcm9wZXJ0eTtcbiAgICB0aGlzLmxpbmVEYXRhID0gbGluZURhdGE7XG4gICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgdGhpcy5rZXlfdmFsID0ga2V5X3ZhbDtcbiAgICB0aGlzLnRpbWVsaW5lID0gdGltZWxpbmU7XG5cbiAgICB0aGlzLnRpbWVyID0gdGhpcy5lZGl0b3IudGltZXI7XG4gICAgdGhpcy4kdGltZSA9IGZhbHNlO1xuICAgIHRoaXMuJGVsID0gZmFsc2U7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICBkZWxldGUgdGhpcy4kZWw7XG4gICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VfcHJvcGVydHk7XG4gICAgZGVsZXRlIHRoaXMubGluZURhdGE7XG4gICAgZGVsZXRlIHRoaXMuZWRpdG9yO1xuICAgIGRlbGV0ZSB0aGlzLmtleV92YWw7XG4gICAgZGVsZXRlIHRoaXMudGltZWxpbmU7XG5cbiAgICBkZWxldGUgdGhpcy50aW1lcjtcbiAgICBkZWxldGUgdGhpcy4kdGltZTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIHRpbWU6IHRoaXMua2V5X3ZhbC50aW1lLnRvRml4ZWQoMylcbiAgICB9O1xuXG4gICAgdGhpcy4kZWwgPSAkKHRwbF9wcm9wZXJ0eShkYXRhKSk7XG4gICAgdGhpcy4kdGltZSA9IHRoaXMuJGVsLmZpbmQoJy5wcm9wZXJ0eV9fa2V5LXRpbWUgc3Ryb25nJyk7XG4gICAgdGhpcy4kdGltZS5rZXlwcmVzcygoZSkgPT4ge1xuICAgICAgaWYgKGUuY2hhckNvZGUgPT09IDEzKSB7XG4gICAgICAgIC8vIEVudGVyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy4kdGltZS5ibHVyKCk7XG4gICAgICAgIHRoaXMudXBkYXRlS2V5VGltZSh0aGlzLiR0aW1lLnRleHQoKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLiR0aW1lLm9uKCdjbGljaycsICgpID0+IGRvY3VtZW50LmV4ZWNDb21tYW5kKCdzZWxlY3RBbGwnLCBmYWxzZSwgbnVsbCkpO1xuICB9XG5cbiAgdXBkYXRlS2V5VGltZSh0aW1lKSB7XG4gICAgbGV0IHRpbWUyID0gcGFyc2VGbG9hdCh0aW1lKTtcbiAgICBpZiAoaXNOYU4odGltZTIpKSB7XG4gICAgICB0aW1lMiA9IHRoaXMua2V5X3ZhbC50aW1lO1xuICAgIH1cbiAgICB0aGlzLiR0aW1lLnRleHQodGltZTIpO1xuICAgIHRoaXMua2V5X3ZhbC50aW1lID0gdGltZTI7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgLy8gdG9kbzogdXNlIG11c3RhY2hlIGluc3RlYWQuLi5cbiAgICB0aGlzLiR0aW1lLmh0bWwodGhpcy5rZXlfdmFsLnRpbWUudG9GaXhlZCgzKSk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2VkaXRvci9Qcm9wZXJ0eUZvb3Rlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

	eval("var H = __webpack_require__(31);\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"properties-editor__actions actions\\\">\");t.b(\"\\n\" + i);t.b(\"  <span class=\\\"property__key-time\\\">key at <strong class=\\\"property__key-input\\\" contenteditable=\\\"true\\\">\");t.b(t.v(t.f(\"time\",c,p,0)));t.b(\"</strong> seconds</span>\");t.b(\"\\n\" + i);t.b(\"  <a href=\\\"#\\\" class=\\\"actions__item\\\" data-action-remove>Remove key</a>\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"properties-editor__actions actions\\\">\\n  <span class=\\\"property__key-time\\\">key at <strong class=\\\"property__key-input\\\" contenteditable=\\\"true\\\">{{time}}</strong> seconds</span>\\n  <a href=\\\"#\\\" class=\\\"actions__item\\\" data-action-remove>Remove key</a>\\n</div>\\n\", H); return T.render.apply(T, arguments); };//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZW1wbGF0ZXMvcHJvcGVydHlGb290ZXIudHBsLmh0bWw/NWFiMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLDZCQUE2Qix5QkFBeUIsd0JBQXdCLFlBQVksYUFBYSwwREFBMEQsY0FBYyxtSEFBbUgsNEJBQTRCLGdDQUFnQyxjQUFjLGlGQUFpRixjQUFjLGNBQWMsVUFBVSxjQUFjLEVBQUUsYUFBYSxTQUFTLElBQUksb0tBQW9LLE1BQU0sbUhBQW1ILHFDQUFxQyIsImZpbGUiOiI0Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBIID0gcmVxdWlyZShcImhvZ2FuLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsgdmFyIFQgPSBuZXcgSC5UZW1wbGF0ZSh7Y29kZTogZnVuY3Rpb24gKGMscCxpKSB7IHZhciB0PXRoaXM7dC5iKGk9aXx8XCJcIik7dC5iKFwiPGRpdiBjbGFzcz1cXFwicHJvcGVydGllcy1lZGl0b3JfX2FjdGlvbnMgYWN0aW9uc1xcXCI+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8c3BhbiBjbGFzcz1cXFwicHJvcGVydHlfX2tleS10aW1lXFxcIj5rZXkgYXQgPHN0cm9uZyBjbGFzcz1cXFwicHJvcGVydHlfX2tleS1pbnB1dFxcXCIgY29udGVudGVkaXRhYmxlPVxcXCJ0cnVlXFxcIj5cIik7dC5iKHQudih0LmYoXCJ0aW1lXCIsYyxwLDApKSk7dC5iKFwiPC9zdHJvbmc+IHNlY29uZHM8L3NwYW4+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8YSBocmVmPVxcXCIjXFxcIiBjbGFzcz1cXFwiYWN0aW9uc19faXRlbVxcXCIgZGF0YS1hY3Rpb24tcmVtb3ZlPlJlbW92ZSBrZXk8L2E+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiPC9kaXY+XCIpO3QuYihcIlxcblwiKTtyZXR1cm4gdC5mbCgpOyB9LHBhcnRpYWxzOiB7fSwgc3ViczogeyAgfX0sIFwiPGRpdiBjbGFzcz1cXFwicHJvcGVydGllcy1lZGl0b3JfX2FjdGlvbnMgYWN0aW9uc1xcXCI+XFxuICA8c3BhbiBjbGFzcz1cXFwicHJvcGVydHlfX2tleS10aW1lXFxcIj5rZXkgYXQgPHN0cm9uZyBjbGFzcz1cXFwicHJvcGVydHlfX2tleS1pbnB1dFxcXCIgY29udGVudGVkaXRhYmxlPVxcXCJ0cnVlXFxcIj57e3RpbWV9fTwvc3Ryb25nPiBzZWNvbmRzPC9zcGFuPlxcbiAgPGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcImFjdGlvbnNfX2l0ZW1cXFwiIGRhdGEtYWN0aW9uLXJlbW92ZT5SZW1vdmUga2V5PC9hPlxcbjwvZGl2PlxcblwiLCBIKTsgcmV0dXJuIFQucmVuZGVyLmFwcGx5KFQsIGFyZ3VtZW50cyk7IH07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi90ZW1wbGF0ZXMvcHJvcGVydHlGb290ZXIudHBsLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDQyXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

	eval("var H = __webpack_require__(31);\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"properties-editor\\\">\");t.b(\"\\n\" + i);t.b(\"  <a href=\\\"#\\\" class=\\\"menu-item menu-item--toggle-side\\\" data-action=\\\"toggle\\\"><i class=\\\"icon-toggle\\\"></i></a>\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"properties-editor__main\\\"></div>\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"properties-editor\\\">\\n  <a href=\\\"#\\\" class=\\\"menu-item menu-item--toggle-side\\\" data-action=\\\"toggle\\\"><i class=\\\"icon-toggle\\\"></i></a>\\n  <div class=\\\"properties-editor__main\\\"></div>\\n</div>\\n\", H); return T.render.apply(T, arguments); };//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZW1wbGF0ZXMvcHJvcGVydGllc0VkaXRvci50cGwuaHRtbD9iYTk2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsNkJBQTZCLHlCQUF5Qix3QkFBd0IsWUFBWSxhQUFhLHlDQUF5QyxjQUFjLDJIQUEySCxjQUFjLHVEQUF1RCxjQUFjLGNBQWMsVUFBVSxjQUFjLEVBQUUsYUFBYSxTQUFTLElBQUksME5BQTBOLHFDQUFxQyIsImZpbGUiOiI0My5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBIID0gcmVxdWlyZShcImhvZ2FuLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsgdmFyIFQgPSBuZXcgSC5UZW1wbGF0ZSh7Y29kZTogZnVuY3Rpb24gKGMscCxpKSB7IHZhciB0PXRoaXM7dC5iKGk9aXx8XCJcIik7dC5iKFwiPGRpdiBjbGFzcz1cXFwicHJvcGVydGllcy1lZGl0b3JcXFwiPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgPGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcIm1lbnUtaXRlbSBtZW51LWl0ZW0tLXRvZ2dsZS1zaWRlXFxcIiBkYXRhLWFjdGlvbj1cXFwidG9nZ2xlXFxcIj48aSBjbGFzcz1cXFwiaWNvbi10b2dnbGVcXFwiPjwvaT48L2E+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8ZGl2IGNsYXNzPVxcXCJwcm9wZXJ0aWVzLWVkaXRvcl9fbWFpblxcXCI+PC9kaXY+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiPC9kaXY+XCIpO3QuYihcIlxcblwiKTtyZXR1cm4gdC5mbCgpOyB9LHBhcnRpYWxzOiB7fSwgc3ViczogeyAgfX0sIFwiPGRpdiBjbGFzcz1cXFwicHJvcGVydGllcy1lZGl0b3JcXFwiPlxcbiAgPGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcIm1lbnUtaXRlbSBtZW51LWl0ZW0tLXRvZ2dsZS1zaWRlXFxcIiBkYXRhLWFjdGlvbj1cXFwidG9nZ2xlXFxcIj48aSBjbGFzcz1cXFwiaWNvbi10b2dnbGVcXFwiPjwvaT48L2E+XFxuICA8ZGl2IGNsYXNzPVxcXCJwcm9wZXJ0aWVzLWVkaXRvcl9fbWFpblxcXCI+PC9kaXY+XFxuPC9kaXY+XFxuXCIsIEgpOyByZXR1cm4gVC5yZW5kZXIuYXBwbHkoVCwgYXJndW1lbnRzKTsgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3RlbXBsYXRlcy9wcm9wZXJ0aWVzRWRpdG9yLnRwbC5odG1sXG4vLyBtb2R1bGUgaWQgPSA0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar saveAs = __webpack_require__(45).saveAs || __webpack_require__(45);\n\nvar EditorMenu = function () {\n  function EditorMenu(tweenTime, $timeline, editor) {\n    _classCallCheck(this, EditorMenu);\n\n    this.tweenTime = tweenTime;\n    this.$timeline = $timeline;\n    this.editor = editor;\n    this.timer = this.tweenTime.timer;\n    this.initExport();\n    this.initToggle();\n    this.initCurveToggle();\n  }\n\n  _createClass(EditorMenu, [{\n    key: 'initToggle',\n    value: function initToggle() {\n      var parentElement = this.editor.el;\n      var timelineClosed = false;\n      var $toggleLink = this.$timeline.find('[data-action=\"toggle\"]');\n      $toggleLink.click(function (e) {\n        e.preventDefault();\n        timelineClosed = !timelineClosed;\n        $toggleLink.toggleClass('menu-item--toggle-up', timelineClosed);\n        parentElement.toggleClass('timeline-is-closed', timelineClosed);\n        return window.dispatchEvent(new Event('resize'));\n      });\n      var $toggleLinkSide = $('.properties-editor', parentElement).find('[data-action=\"toggle\"]');\n      $toggleLinkSide.click(function (e) {\n        var propertiesClosed;\n        e.preventDefault();\n        propertiesClosed = !parentElement.hasClass('properties-is-closed');\n        parentElement.toggleClass('properties-is-closed', propertiesClosed);\n        return window.dispatchEvent(new Event('resize'));\n      });\n    }\n  }, {\n    key: 'initExport',\n    value: function initExport() {\n      var exporter = this.editor.exporter;\n      this.$timeline.find('[data-action=\"export\"]').click(function (e) {\n        e.preventDefault();\n        var data = exporter.getJSON();\n        var blob = new Blob([data], {\n          type: 'text/json;charset=utf-8'\n        });\n        saveAs(blob, 'data.json');\n      });\n    }\n  }, {\n    key: 'initCurveToggle',\n    value: function initCurveToggle() {\n      var _this = this;\n\n      this.$timeline.find('[data-action=\"switch-curve\"]').click(function (e) {\n        e.preventDefault();\n        _this.editor.curveEditEnabled = !_this.editor.curveEditEnabled;\n        _this.editor.render(false, false, true);\n      });\n    }\n  }]);\n\n  return EditorMenu;\n}();\n\nexports.default = EditorMenu;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvRWRpdG9yTWVudS5qcz81MDU5Il0sIm5hbWVzIjpbInNhdmVBcyIsInJlcXVpcmUiLCJFZGl0b3JNZW51IiwidHdlZW5UaW1lIiwiJHRpbWVsaW5lIiwiZWRpdG9yIiwidGltZXIiLCJpbml0RXhwb3J0IiwiaW5pdFRvZ2dsZSIsImluaXRDdXJ2ZVRvZ2dsZSIsInBhcmVudEVsZW1lbnQiLCJlbCIsInRpbWVsaW5lQ2xvc2VkIiwiJHRvZ2dsZUxpbmsiLCJmaW5kIiwiY2xpY2siLCJlIiwicHJldmVudERlZmF1bHQiLCJ0b2dnbGVDbGFzcyIsIndpbmRvdyIsImRpc3BhdGNoRXZlbnQiLCJFdmVudCIsIiR0b2dnbGVMaW5rU2lkZSIsIiQiLCJwcm9wZXJ0aWVzQ2xvc2VkIiwiaGFzQ2xhc3MiLCJleHBvcnRlciIsImRhdGEiLCJnZXRKU09OIiwiYmxvYiIsIkJsb2IiLCJ0eXBlIiwiY3VydmVFZGl0RW5hYmxlZCIsInJlbmRlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLElBQUlBLFNBQVMsbUJBQUFDLENBQVEsRUFBUixFQUFzQkQsTUFBdEIsSUFBZ0MsbUJBQUFDLENBQVEsRUFBUixDQUE3Qzs7SUFFcUJDLFU7QUFDbkIsc0JBQVlDLFNBQVosRUFBdUJDLFNBQXZCLEVBQWtDQyxNQUFsQyxFQUEwQztBQUFBOztBQUN4QyxTQUFLRixTQUFMLEdBQWlCQSxTQUFqQjtBQUNBLFNBQUtDLFNBQUwsR0FBaUJBLFNBQWpCO0FBQ0EsU0FBS0MsTUFBTCxHQUFjQSxNQUFkO0FBQ0EsU0FBS0MsS0FBTCxHQUFhLEtBQUtILFNBQUwsQ0FBZUcsS0FBNUI7QUFDQSxTQUFLQyxVQUFMO0FBQ0EsU0FBS0MsVUFBTDtBQUNBLFNBQUtDLGVBQUw7QUFDRDs7OztpQ0FFWTtBQUNYLFVBQUlDLGdCQUFnQixLQUFLTCxNQUFMLENBQVlNLEVBQWhDO0FBQ0EsVUFBSUMsaUJBQWlCLEtBQXJCO0FBQ0EsVUFBSUMsY0FBYyxLQUFLVCxTQUFMLENBQWVVLElBQWYsQ0FBb0Isd0JBQXBCLENBQWxCO0FBQ0FELGtCQUFZRSxLQUFaLENBQWtCLFVBQUNDLENBQUQsRUFBTztBQUN2QkEsVUFBRUMsY0FBRjtBQUNBTCx5QkFBaUIsQ0FBQ0EsY0FBbEI7QUFDQUMsb0JBQVlLLFdBQVosQ0FBd0Isc0JBQXhCLEVBQWdETixjQUFoRDtBQUNBRixzQkFBY1EsV0FBZCxDQUEwQixvQkFBMUIsRUFBZ0ROLGNBQWhEO0FBQ0EsZUFBT08sT0FBT0MsYUFBUCxDQUFxQixJQUFJQyxLQUFKLENBQVUsUUFBVixDQUFyQixDQUFQO0FBQ0QsT0FORDtBQU9BLFVBQUlDLGtCQUFrQkMsRUFBRSxvQkFBRixFQUF3QmIsYUFBeEIsRUFBdUNJLElBQXZDLENBQTRDLHdCQUE1QyxDQUF0QjtBQUNBUSxzQkFBZ0JQLEtBQWhCLENBQXNCLFVBQUNDLENBQUQsRUFBTztBQUMzQixZQUFJUSxnQkFBSjtBQUNBUixVQUFFQyxjQUFGO0FBQ0FPLDJCQUFtQixDQUFDZCxjQUFjZSxRQUFkLENBQXVCLHNCQUF2QixDQUFwQjtBQUNBZixzQkFBY1EsV0FBZCxDQUEwQixzQkFBMUIsRUFBa0RNLGdCQUFsRDtBQUNBLGVBQU9MLE9BQU9DLGFBQVAsQ0FBcUIsSUFBSUMsS0FBSixDQUFVLFFBQVYsQ0FBckIsQ0FBUDtBQUNELE9BTkQ7QUFPRDs7O2lDQUVZO0FBQ1gsVUFBSUssV0FBVyxLQUFLckIsTUFBTCxDQUFZcUIsUUFBM0I7QUFDQSxXQUFLdEIsU0FBTCxDQUFlVSxJQUFmLENBQW9CLHdCQUFwQixFQUE4Q0MsS0FBOUMsQ0FBb0QsVUFBU0MsQ0FBVCxFQUFZO0FBQzlEQSxVQUFFQyxjQUFGO0FBQ0EsWUFBSVUsT0FBT0QsU0FBU0UsT0FBVCxFQUFYO0FBQ0EsWUFBSUMsT0FBTyxJQUFJQyxJQUFKLENBQVMsQ0FBQ0gsSUFBRCxDQUFULEVBQWlCO0FBQzFCSSxnQkFBTTtBQURvQixTQUFqQixDQUFYO0FBR0EvQixlQUFPNkIsSUFBUCxFQUFhLFdBQWI7QUFDRCxPQVBEO0FBUUQ7OztzQ0FFaUI7QUFBQTs7QUFDaEIsV0FBS3pCLFNBQUwsQ0FBZVUsSUFBZixDQUFvQiw4QkFBcEIsRUFBb0RDLEtBQXBELENBQTBELFVBQUNDLENBQUQsRUFBTztBQUMvREEsVUFBRUMsY0FBRjtBQUNBLGNBQUtaLE1BQUwsQ0FBWTJCLGdCQUFaLEdBQStCLENBQUMsTUFBSzNCLE1BQUwsQ0FBWTJCLGdCQUE1QztBQUNBLGNBQUszQixNQUFMLENBQVk0QixNQUFaLENBQW1CLEtBQW5CLEVBQTBCLEtBQTFCLEVBQWlDLElBQWpDO0FBQ0QsT0FKRDtBQUtEOzs7Ozs7a0JBbERrQi9CLFUiLCJmaWxlIjoiNDQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgc2F2ZUFzID0gcmVxdWlyZSgnZmlsZS1zYXZlcicpLnNhdmVBcyB8fCByZXF1aXJlKCdmaWxlLXNhdmVyJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkaXRvck1lbnUge1xuICBjb25zdHJ1Y3Rvcih0d2VlblRpbWUsICR0aW1lbGluZSwgZWRpdG9yKSB7XG4gICAgdGhpcy50d2VlblRpbWUgPSB0d2VlblRpbWU7XG4gICAgdGhpcy4kdGltZWxpbmUgPSAkdGltZWxpbmU7XG4gICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgdGhpcy50aW1lciA9IHRoaXMudHdlZW5UaW1lLnRpbWVyO1xuICAgIHRoaXMuaW5pdEV4cG9ydCgpO1xuICAgIHRoaXMuaW5pdFRvZ2dsZSgpO1xuICAgIHRoaXMuaW5pdEN1cnZlVG9nZ2xlKCk7XG4gIH1cblxuICBpbml0VG9nZ2xlKCkge1xuICAgIHZhciBwYXJlbnRFbGVtZW50ID0gdGhpcy5lZGl0b3IuZWw7XG4gICAgdmFyIHRpbWVsaW5lQ2xvc2VkID0gZmFsc2U7XG4gICAgdmFyICR0b2dnbGVMaW5rID0gdGhpcy4kdGltZWxpbmUuZmluZCgnW2RhdGEtYWN0aW9uPVwidG9nZ2xlXCJdJyk7XG4gICAgJHRvZ2dsZUxpbmsuY2xpY2soKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRpbWVsaW5lQ2xvc2VkID0gIXRpbWVsaW5lQ2xvc2VkO1xuICAgICAgJHRvZ2dsZUxpbmsudG9nZ2xlQ2xhc3MoJ21lbnUtaXRlbS0tdG9nZ2xlLXVwJywgdGltZWxpbmVDbG9zZWQpO1xuICAgICAgcGFyZW50RWxlbWVudC50b2dnbGVDbGFzcygndGltZWxpbmUtaXMtY2xvc2VkJywgdGltZWxpbmVDbG9zZWQpO1xuICAgICAgcmV0dXJuIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgncmVzaXplJykpO1xuICAgIH0pO1xuICAgIHZhciAkdG9nZ2xlTGlua1NpZGUgPSAkKCcucHJvcGVydGllcy1lZGl0b3InLCBwYXJlbnRFbGVtZW50KS5maW5kKCdbZGF0YS1hY3Rpb249XCJ0b2dnbGVcIl0nKTtcbiAgICAkdG9nZ2xlTGlua1NpZGUuY2xpY2soKGUpID0+IHtcbiAgICAgIHZhciBwcm9wZXJ0aWVzQ2xvc2VkO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcHJvcGVydGllc0Nsb3NlZCA9ICFwYXJlbnRFbGVtZW50Lmhhc0NsYXNzKCdwcm9wZXJ0aWVzLWlzLWNsb3NlZCcpO1xuICAgICAgcGFyZW50RWxlbWVudC50b2dnbGVDbGFzcygncHJvcGVydGllcy1pcy1jbG9zZWQnLCBwcm9wZXJ0aWVzQ2xvc2VkKTtcbiAgICAgIHJldHVybiB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3Jlc2l6ZScpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGluaXRFeHBvcnQoKSB7XG4gICAgdmFyIGV4cG9ydGVyID0gdGhpcy5lZGl0b3IuZXhwb3J0ZXI7XG4gICAgdGhpcy4kdGltZWxpbmUuZmluZCgnW2RhdGEtYWN0aW9uPVwiZXhwb3J0XCJdJykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIGRhdGEgPSBleHBvcnRlci5nZXRKU09OKCk7XG4gICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtkYXRhXSwge1xuICAgICAgICB0eXBlOiAndGV4dC9qc29uO2NoYXJzZXQ9dXRmLTgnXG4gICAgICB9KTtcbiAgICAgIHNhdmVBcyhibG9iLCAnZGF0YS5qc29uJyk7XG4gICAgfSk7XG4gIH1cblxuICBpbml0Q3VydmVUb2dnbGUoKSB7XG4gICAgdGhpcy4kdGltZWxpbmUuZmluZCgnW2RhdGEtYWN0aW9uPVwic3dpdGNoLWN1cnZlXCJdJykuY2xpY2soKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuZWRpdG9yLmN1cnZlRWRpdEVuYWJsZWQgPSAhdGhpcy5lZGl0b3IuY3VydmVFZGl0RW5hYmxlZDtcbiAgICAgIHRoaXMuZWRpdG9yLnJlbmRlcihmYWxzZSwgZmFsc2UsIHRydWUpO1xuICAgIH0pO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9lZGl0b3IvRWRpdG9yTWVudS5qcyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 45 */
/***/ (function(module, exports) {

	eval("module.exports = __WEBPACK_EXTERNAL_MODULE_45__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwic2F2ZUFzXCIsXCJjb21tb25qc1wiOlwiZmlsZS1zYXZlclwiLFwiY29tbW9uanMyXCI6XCJmaWxlLXNhdmVyXCIsXCJhbWRcIjpcImZpbGUtc2F2ZXJcIn0/Y2UwZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI0NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV80NV9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcInJvb3RcIjpcInNhdmVBc1wiLFwiY29tbW9uanNcIjpcImZpbGUtc2F2ZXJcIixcImNvbW1vbmpzMlwiOlwiZmlsZS1zYXZlclwiLFwiYW1kXCI6XCJmaWxlLXNhdmVyXCJ9XG4vLyBtb2R1bGUgaWQgPSA0NVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 46 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EditorControls = function () {\n  function EditorControls(tweenTime, $timeline) {\n    var _this = this;\n\n    _classCallCheck(this, EditorControls);\n\n    this.tweenTime = tweenTime;\n    this.$timeline = $timeline;\n    this.timer = this.tweenTime.timer;\n    this.$time = this.$timeline.find('.control--time');\n    this.$time_end = this.$timeline.find('.control--time-end');\n    this.initControls();\n    this.$time_end.val(this.tweenTime.timer.getDuration());\n\n    $(document).keypress(function (e) {\n      if (e.charCode === 32) {\n        // Space\n        _this.playPause();\n      }\n    });\n  }\n\n  _createClass(EditorControls, [{\n    key: 'playPause',\n    value: function playPause() {\n      var $play_pause;\n      this.timer.toggle();\n      $play_pause = this.$timeline.find('.control--play-pause');\n      $play_pause.toggleClass('icon-pause', !this.timer.is_playing);\n      $play_pause.toggleClass('icon-play', this.timer.is_playing);\n    }\n  }, {\n    key: 'initControls',\n    value: function initControls() {\n      var _this2 = this;\n\n      var $play_pause = this.$timeline.find('.control--play-pause');\n      $play_pause.click(function (e) {\n        e.preventDefault();\n        _this2.playPause();\n      });\n      var $bt_first = this.$timeline.find('.control--first');\n      $bt_first.click(function (e) {\n        e.preventDefault();\n        _this2.timer.seek([0]);\n      });\n      var $bt_last = this.$timeline.find('.control--last');\n      $bt_last.click(function (e) {\n        e.preventDefault();\n        var total = _this2.tweenTime.getTotalDuration();\n        _this2.timer.seek([total * 1000]);\n      });\n      this.$time.change(function () {\n        var seconds = parseFloat(_this2.$time.val(), 10) * 1000;\n        _this2.timer.seek([seconds]);\n      });\n      this.$time_end.change(function () {\n        var seconds = parseFloat(_this2.$time_end.val(), 10);\n        _this2.timer.setDuration(seconds);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render(time, time_changed) {\n      if (time_changed) {\n        var seconds = time / 1000;\n        this.$time.val(seconds.toFixed(3));\n      }\n    }\n  }]);\n\n  return EditorControls;\n}();\n\nexports.default = EditorControls;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvRWRpdG9yQ29udHJvbHMuanM/NTFiZiJdLCJuYW1lcyI6WyJFZGl0b3JDb250cm9scyIsInR3ZWVuVGltZSIsIiR0aW1lbGluZSIsInRpbWVyIiwiJHRpbWUiLCJmaW5kIiwiJHRpbWVfZW5kIiwiaW5pdENvbnRyb2xzIiwidmFsIiwiZ2V0RHVyYXRpb24iLCIkIiwiZG9jdW1lbnQiLCJrZXlwcmVzcyIsImUiLCJjaGFyQ29kZSIsInBsYXlQYXVzZSIsIiRwbGF5X3BhdXNlIiwidG9nZ2xlIiwidG9nZ2xlQ2xhc3MiLCJpc19wbGF5aW5nIiwiY2xpY2siLCJwcmV2ZW50RGVmYXVsdCIsIiRidF9maXJzdCIsInNlZWsiLCIkYnRfbGFzdCIsInRvdGFsIiwiZ2V0VG90YWxEdXJhdGlvbiIsImNoYW5nZSIsInNlY29uZHMiLCJwYXJzZUZsb2F0Iiwic2V0RHVyYXRpb24iLCJ0aW1lIiwidGltZV9jaGFuZ2VkIiwidG9GaXhlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFxQkEsYztBQUNuQiwwQkFBWUMsU0FBWixFQUF1QkMsU0FBdkIsRUFBa0M7QUFBQTs7QUFBQTs7QUFDaEMsU0FBS0QsU0FBTCxHQUFpQkEsU0FBakI7QUFDQSxTQUFLQyxTQUFMLEdBQWlCQSxTQUFqQjtBQUNBLFNBQUtDLEtBQUwsR0FBYSxLQUFLRixTQUFMLENBQWVFLEtBQTVCO0FBQ0EsU0FBS0MsS0FBTCxHQUFhLEtBQUtGLFNBQUwsQ0FBZUcsSUFBZixDQUFvQixnQkFBcEIsQ0FBYjtBQUNBLFNBQUtDLFNBQUwsR0FBaUIsS0FBS0osU0FBTCxDQUFlRyxJQUFmLENBQW9CLG9CQUFwQixDQUFqQjtBQUNBLFNBQUtFLFlBQUw7QUFDQSxTQUFLRCxTQUFMLENBQWVFLEdBQWYsQ0FBbUIsS0FBS1AsU0FBTCxDQUFlRSxLQUFmLENBQXFCTSxXQUFyQixFQUFuQjs7QUFFQUMsTUFBRUMsUUFBRixFQUFZQyxRQUFaLENBQXFCLFVBQUNDLENBQUQsRUFBTztBQUMxQixVQUFJQSxFQUFFQyxRQUFGLEtBQWUsRUFBbkIsRUFBdUI7QUFDckI7QUFDQSxjQUFLQyxTQUFMO0FBQ0Q7QUFDRixLQUxEO0FBTUQ7Ozs7Z0NBRVc7QUFDVixVQUFJQyxXQUFKO0FBQ0EsV0FBS2IsS0FBTCxDQUFXYyxNQUFYO0FBQ0FELG9CQUFjLEtBQUtkLFNBQUwsQ0FBZUcsSUFBZixDQUFvQixzQkFBcEIsQ0FBZDtBQUNBVyxrQkFBWUUsV0FBWixDQUF3QixZQUF4QixFQUFzQyxDQUFDLEtBQUtmLEtBQUwsQ0FBV2dCLFVBQWxEO0FBQ0FILGtCQUFZRSxXQUFaLENBQXdCLFdBQXhCLEVBQXFDLEtBQUtmLEtBQUwsQ0FBV2dCLFVBQWhEO0FBQ0Q7OzttQ0FFYztBQUFBOztBQUNiLFVBQUlILGNBQWMsS0FBS2QsU0FBTCxDQUFlRyxJQUFmLENBQW9CLHNCQUFwQixDQUFsQjtBQUNBVyxrQkFBWUksS0FBWixDQUFrQixVQUFDUCxDQUFELEVBQU87QUFDdkJBLFVBQUVRLGNBQUY7QUFDQSxlQUFLTixTQUFMO0FBQ0QsT0FIRDtBQUlBLFVBQUlPLFlBQVksS0FBS3BCLFNBQUwsQ0FBZUcsSUFBZixDQUFvQixpQkFBcEIsQ0FBaEI7QUFDQWlCLGdCQUFVRixLQUFWLENBQWdCLFVBQUNQLENBQUQsRUFBTztBQUNyQkEsVUFBRVEsY0FBRjtBQUNBLGVBQUtsQixLQUFMLENBQVdvQixJQUFYLENBQWdCLENBQUMsQ0FBRCxDQUFoQjtBQUNELE9BSEQ7QUFJQSxVQUFJQyxXQUFXLEtBQUt0QixTQUFMLENBQWVHLElBQWYsQ0FBb0IsZ0JBQXBCLENBQWY7QUFDQW1CLGVBQVNKLEtBQVQsQ0FBZSxVQUFDUCxDQUFELEVBQU87QUFDcEJBLFVBQUVRLGNBQUY7QUFDQSxZQUFJSSxRQUFRLE9BQUt4QixTQUFMLENBQWV5QixnQkFBZixFQUFaO0FBQ0EsZUFBS3ZCLEtBQUwsQ0FBV29CLElBQVgsQ0FBZ0IsQ0FBQ0UsUUFBUSxJQUFULENBQWhCO0FBQ0QsT0FKRDtBQUtBLFdBQUtyQixLQUFMLENBQVd1QixNQUFYLENBQWtCLFlBQU07QUFDdEIsWUFBSUMsVUFBVUMsV0FBVyxPQUFLekIsS0FBTCxDQUFXSSxHQUFYLEVBQVgsRUFBNkIsRUFBN0IsSUFBbUMsSUFBakQ7QUFDQSxlQUFLTCxLQUFMLENBQVdvQixJQUFYLENBQWdCLENBQUNLLE9BQUQsQ0FBaEI7QUFDRCxPQUhEO0FBSUEsV0FBS3RCLFNBQUwsQ0FBZXFCLE1BQWYsQ0FBc0IsWUFBTTtBQUMxQixZQUFJQyxVQUFVQyxXQUFXLE9BQUt2QixTQUFMLENBQWVFLEdBQWYsRUFBWCxFQUFpQyxFQUFqQyxDQUFkO0FBQ0EsZUFBS0wsS0FBTCxDQUFXMkIsV0FBWCxDQUF1QkYsT0FBdkI7QUFDRCxPQUhEO0FBSUQ7OzsyQkFFTUcsSSxFQUFNQyxZLEVBQWM7QUFDekIsVUFBSUEsWUFBSixFQUFrQjtBQUNoQixZQUFJSixVQUFVRyxPQUFPLElBQXJCO0FBQ0EsYUFBSzNCLEtBQUwsQ0FBV0ksR0FBWCxDQUFlb0IsUUFBUUssT0FBUixDQUFnQixDQUFoQixDQUFmO0FBQ0Q7QUFDRjs7Ozs7O2tCQTFEa0JqQyxjIiwiZmlsZSI6IjQ2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWRpdG9yQ29udHJvbHMge1xuICBjb25zdHJ1Y3Rvcih0d2VlblRpbWUsICR0aW1lbGluZSkge1xuICAgIHRoaXMudHdlZW5UaW1lID0gdHdlZW5UaW1lO1xuICAgIHRoaXMuJHRpbWVsaW5lID0gJHRpbWVsaW5lO1xuICAgIHRoaXMudGltZXIgPSB0aGlzLnR3ZWVuVGltZS50aW1lcjtcbiAgICB0aGlzLiR0aW1lID0gdGhpcy4kdGltZWxpbmUuZmluZCgnLmNvbnRyb2wtLXRpbWUnKTtcbiAgICB0aGlzLiR0aW1lX2VuZCA9IHRoaXMuJHRpbWVsaW5lLmZpbmQoJy5jb250cm9sLS10aW1lLWVuZCcpO1xuICAgIHRoaXMuaW5pdENvbnRyb2xzKCk7XG4gICAgdGhpcy4kdGltZV9lbmQudmFsKHRoaXMudHdlZW5UaW1lLnRpbWVyLmdldER1cmF0aW9uKCkpO1xuXG4gICAgJChkb2N1bWVudCkua2V5cHJlc3MoKGUpID0+IHtcbiAgICAgIGlmIChlLmNoYXJDb2RlID09PSAzMikge1xuICAgICAgICAvLyBTcGFjZVxuICAgICAgICB0aGlzLnBsYXlQYXVzZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcGxheVBhdXNlKCkge1xuICAgIHZhciAkcGxheV9wYXVzZTtcbiAgICB0aGlzLnRpbWVyLnRvZ2dsZSgpO1xuICAgICRwbGF5X3BhdXNlID0gdGhpcy4kdGltZWxpbmUuZmluZCgnLmNvbnRyb2wtLXBsYXktcGF1c2UnKTtcbiAgICAkcGxheV9wYXVzZS50b2dnbGVDbGFzcygnaWNvbi1wYXVzZScsICF0aGlzLnRpbWVyLmlzX3BsYXlpbmcpO1xuICAgICRwbGF5X3BhdXNlLnRvZ2dsZUNsYXNzKCdpY29uLXBsYXknLCB0aGlzLnRpbWVyLmlzX3BsYXlpbmcpO1xuICB9XG5cbiAgaW5pdENvbnRyb2xzKCkge1xuICAgIHZhciAkcGxheV9wYXVzZSA9IHRoaXMuJHRpbWVsaW5lLmZpbmQoJy5jb250cm9sLS1wbGF5LXBhdXNlJyk7XG4gICAgJHBsYXlfcGF1c2UuY2xpY2soKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMucGxheVBhdXNlKCk7XG4gICAgfSk7XG4gICAgdmFyICRidF9maXJzdCA9IHRoaXMuJHRpbWVsaW5lLmZpbmQoJy5jb250cm9sLS1maXJzdCcpO1xuICAgICRidF9maXJzdC5jbGljaygoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy50aW1lci5zZWVrKFswXSk7XG4gICAgfSk7XG4gICAgdmFyICRidF9sYXN0ID0gdGhpcy4kdGltZWxpbmUuZmluZCgnLmNvbnRyb2wtLWxhc3QnKTtcbiAgICAkYnRfbGFzdC5jbGljaygoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIHRvdGFsID0gdGhpcy50d2VlblRpbWUuZ2V0VG90YWxEdXJhdGlvbigpO1xuICAgICAgdGhpcy50aW1lci5zZWVrKFt0b3RhbCAqIDEwMDBdKTtcbiAgICB9KTtcbiAgICB0aGlzLiR0aW1lLmNoYW5nZSgoKSA9PiB7XG4gICAgICB2YXIgc2Vjb25kcyA9IHBhcnNlRmxvYXQodGhpcy4kdGltZS52YWwoKSwgMTApICogMTAwMDtcbiAgICAgIHRoaXMudGltZXIuc2Vlayhbc2Vjb25kc10pO1xuICAgIH0pO1xuICAgIHRoaXMuJHRpbWVfZW5kLmNoYW5nZSgoKSA9PiB7XG4gICAgICB2YXIgc2Vjb25kcyA9IHBhcnNlRmxvYXQodGhpcy4kdGltZV9lbmQudmFsKCksIDEwKTtcbiAgICAgIHRoaXMudGltZXIuc2V0RHVyYXRpb24oc2Vjb25kcyk7XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIodGltZSwgdGltZV9jaGFuZ2VkKSB7XG4gICAgaWYgKHRpbWVfY2hhbmdlZCkge1xuICAgICAgdmFyIHNlY29uZHMgPSB0aW1lIC8gMTAwMDtcbiAgICAgIHRoaXMuJHRpbWUudmFsKHNlY29uZHMudG9GaXhlZCgzKSk7XG4gICAgfVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9lZGl0b3IvRWRpdG9yQ29udHJvbHMuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar d3 = __webpack_require__(15);\nvar Signals = __webpack_require__(6);\nvar _ = __webpack_require__(12);\n\nvar SelectionManager = function () {\n  function SelectionManager(tweenTime) {\n    _classCallCheck(this, SelectionManager);\n\n    this.tweenTime = tweenTime;\n    this.selection = [];\n    this.onSelect = new Signals.Signal();\n  }\n\n  _createClass(SelectionManager, [{\n    key: 'select',\n    value: function select(item) {\n      var addToSelection = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!addToSelection) {\n        this.selection = [];\n      }\n      if (item instanceof Array) {\n        for (var i = 0; i < item.length; i++) {\n          var el = item[i];\n          this.selection.push(el);\n        }\n      } else {\n        this.selection.push(item);\n      }\n\n      this.removeDuplicates();\n      this.highlightItems();\n      this.sortSelection();\n      this.onSelect.dispatch(this.selection, addToSelection);\n    }\n  }, {\n    key: 'getSelection',\n    value: function getSelection() {\n      return this.selection;\n    }\n  }, {\n    key: 'removeDuplicates',\n    value: function removeDuplicates() {\n      var result = [];\n      for (var i = 0; i < this.selection.length; i++) {\n        var item = this.selection[i];\n        var found = false;\n        for (var j = 0; j < result.length; j++) {\n          var item2 = result[j];\n          if (_.isEqual(item, item2)) {\n            found = true;\n            break;\n          }\n        }\n        if (found === false) {\n          result.push(item);\n        }\n      }\n      this.selection = result;\n    }\n  }, {\n    key: 'removeItem',\n    value: function removeItem(item) {\n      // If we pass an _id then search for the item and remove it.\n      if (typeof item === 'string') {\n        var itemObj = _.find(this.selection, function (el) {\n          return el._id === item;\n        });\n        if (itemObj) {\n          return this.removeItem(itemObj);\n        }\n      }\n\n      // Remove the object if it exists in the selection.\n      var index = this.selection.indexOf(item);\n      if (index > -1) {\n        this.selection.splice(index, 1);\n      }\n      this.triggerSelect();\n    }\n  }, {\n    key: 'sortSelection',\n    value: function sortSelection() {\n      var compare = function compare(a, b) {\n        if (!a.time || !b.time) {\n          return 0;\n        }\n        if (a.time < b.time) {\n          return -1;\n        }\n        if (a.time > b.time) {\n          return 1;\n        }\n        return 0;\n      };\n      this.selection = this.selection.sort(compare);\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.selection = [];\n      this.highlightItems();\n      this.onSelect.dispatch(this.selection, false);\n    }\n  }, {\n    key: 'triggerSelect',\n    value: function triggerSelect() {\n      this.onSelect.dispatch(this.selection, false);\n    }\n  }, {\n    key: 'highlightItems',\n    value: function highlightItems() {\n      d3.selectAll('.bar--selected').classed('bar--selected', false);\n      d3.selectAll('.key--selected').classed('key--selected', false);\n\n      for (var i = 0; i < this.selection.length; i++) {\n        var data = this.selection[i];\n        if (data._dom) {\n          var d3item = d3.select(data._dom);\n          if (d3item.classed('bar')) {\n            d3item.classed('bar--selected', true);\n          } else if (d3item.classed('key')) {\n            d3item.classed('key--selected', true);\n          }\n        }\n      }\n    }\n  }]);\n\n  return SelectionManager;\n}();\n\nexports.default = SelectionManager;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvU2VsZWN0aW9uTWFuYWdlci5qcz8zNjIzIl0sIm5hbWVzIjpbImQzIiwicmVxdWlyZSIsIlNpZ25hbHMiLCJfIiwiU2VsZWN0aW9uTWFuYWdlciIsInR3ZWVuVGltZSIsInNlbGVjdGlvbiIsIm9uU2VsZWN0IiwiU2lnbmFsIiwiaXRlbSIsImFkZFRvU2VsZWN0aW9uIiwiQXJyYXkiLCJpIiwibGVuZ3RoIiwiZWwiLCJwdXNoIiwicmVtb3ZlRHVwbGljYXRlcyIsImhpZ2hsaWdodEl0ZW1zIiwic29ydFNlbGVjdGlvbiIsImRpc3BhdGNoIiwicmVzdWx0IiwiZm91bmQiLCJqIiwiaXRlbTIiLCJpc0VxdWFsIiwiaXRlbU9iaiIsImZpbmQiLCJfaWQiLCJyZW1vdmVJdGVtIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwidHJpZ2dlclNlbGVjdCIsImNvbXBhcmUiLCJhIiwiYiIsInRpbWUiLCJzb3J0Iiwic2VsZWN0QWxsIiwiY2xhc3NlZCIsImRhdGEiLCJfZG9tIiwiZDNpdGVtIiwic2VsZWN0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsSUFBSUEsS0FBSyxtQkFBQUMsQ0FBUSxFQUFSLENBQVQ7QUFDQSxJQUFJQyxVQUFVLG1CQUFBRCxDQUFRLENBQVIsQ0FBZDtBQUNBLElBQUlFLElBQUksbUJBQUFGLENBQVEsRUFBUixDQUFSOztJQUVxQkcsZ0I7QUFDbkIsNEJBQVlDLFNBQVosRUFBdUI7QUFBQTs7QUFDckIsU0FBS0EsU0FBTCxHQUFpQkEsU0FBakI7QUFDQSxTQUFLQyxTQUFMLEdBQWlCLEVBQWpCO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQixJQUFJTCxRQUFRTSxNQUFaLEVBQWhCO0FBQ0Q7Ozs7MkJBRU1DLEksRUFBOEI7QUFBQSxVQUF4QkMsY0FBd0IsdUVBQVAsS0FBTzs7QUFDbkMsVUFBSSxDQUFDQSxjQUFMLEVBQXFCO0FBQ25CLGFBQUtKLFNBQUwsR0FBaUIsRUFBakI7QUFDRDtBQUNELFVB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LENBQWNZLFFBQWQsQ0FBdUIsS0FBS2IsU0FBNUIsRUFBdUMsS0FBdkM7QUFDRDs7O3FDQUVnQjtBQUNmTixTQUFHc0MsU0FBSCxDQUFhLGdCQUFiLEVBQStCQyxPQUEvQixDQUF1QyxlQUF2QyxFQUF3RCxLQUF4RDtBQUNBdkMsU0FBR3NDLFNBQUgsQ0FBYSxnQkFBYixFQUErQkMsT0FBL0IsQ0FBdUMsZUFBdkMsRUFBd0QsS0FBeEQ7O0FBRUEsV0FBSyxJQUFJM0IsSUFBSSxDQUFiLEVBQWdCQSxJQUFJLEtBQUtOLFNBQUwsQ0FBZU8sTUFBbkMsRUFBMkNELEdBQTNDLEVBQWdEO0FBQzlDLFlBQUk0QixPQUFPLEtBQUtsQyxTQUFMLENBQWVNLENBQWYsQ0FBWDtBQUNBLFlBQUk0QixLQUFLQyxJQUFULEVBQWU7QUFDYixjQUFJQyxTQUFTMUMsR0FBRzJDLE1BQUgsQ0FBVUgsS0FBS0MsSUFBZixDQUFiO0FBQ0EsY0FBSUMsT0FBT0gsT0FBUCxDQUFlLEtBQWYsQ0FBSixFQUEyQjtBQUN6QkcsbUJBQU9ILE9BQVAsQ0FBZSxlQUFmLEVBQWdDLElBQWhDO0FBQ0QsV0FGRCxNQUdLLElBQUlHLE9BQU9ILE9BQVAsQ0FBZSxLQUFmLENBQUosRUFBMkI7QUFDOUJHLG1CQUFPSCxPQUFQLENBQWUsZUFBZixFQUFnQyxJQUFoQztBQUNEO0FBQ0Y7QUFDRjtBQUNGOzs7Ozs7a0JBL0drQm5DLGdCIiwiZmlsZSI6IjQ3LmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IGQzID0gcmVxdWlyZSgnZDMnKTtcbmxldCBTaWduYWxzID0gcmVxdWlyZSgnanMtc2lnbmFscycpO1xubGV0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VsZWN0aW9uTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKHR3ZWVuVGltZSkge1xuICAgIHRoaXMudHdlZW5UaW1lID0gdHdlZW5UaW1lO1xuICAgIHRoaXMuc2VsZWN0aW9uID0gW107XG4gICAgdGhpcy5vblNlbGVjdCA9IG5ldyBTaWduYWxzLlNpZ25hbCgpO1xuICB9XG5cbiAgc2VsZWN0KGl0ZW0sIGFkZFRvU2VsZWN0aW9uID0gZmFsc2UpIHtcbiAgICBpZiAoIWFkZFRvU2VsZWN0aW9uKSB7XG4gICAgICB0aGlzLnNlbGVjdGlvbiA9IFtdO1xuICAgIH1cbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGVsID0gaXRlbVtpXTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ucHVzaChlbCk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3Rpb24ucHVzaChpdGVtKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlbW92ZUR1cGxpY2F0ZXMoKTtcbiAgICB0aGlzLmhpZ2hsaWdodEl0ZW1zKCk7XG4gICAgdGhpcy5zb3J0U2VsZWN0aW9uKCk7XG4gICAgdGhpcy5vblNlbGVjdC5kaXNwYXRjaCh0aGlzLnNlbGVjdGlvbiwgYWRkVG9TZWxlY3Rpb24pO1xuICB9XG5cbiAgZ2V0U2VsZWN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbjtcbiAgfVxuXG4gIHJlbW92ZUR1cGxpY2F0ZXMoKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zZWxlY3Rpb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gdGhpcy5zZWxlY3Rpb25baV07XG4gICAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcmVzdWx0Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBpdGVtMiA9IHJlc3VsdFtqXTtcbiAgICAgICAgaWYgKF8uaXNFcXVhbChpdGVtLCBpdGVtMikpIHtcbiAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc2VsZWN0aW9uID0gcmVzdWx0O1xuICB9XG5cbiAgcmVtb3ZlSXRlbShpdGVtKSB7XG4gICAgLy8gSWYgd2UgcGFzcyBhbiBfaWQgdGhlbiBzZWFyY2ggZm9yIHRoZSBpdGVtIGFuZCByZW1vdmUgaXQuXG4gICAgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xuICAgICAgbGV0IGl0ZW1PYmogPSBfLmZpbmQodGhpcy5zZWxlY3Rpb24sIGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIHJldHVybiBlbC5faWQgPT09IGl0ZW07XG4gICAgICB9KTtcbiAgICAgIGlmIChpdGVtT2JqKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW92ZUl0ZW0oaXRlbU9iaik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIHRoZSBvYmplY3QgaWYgaXQgZXhpc3RzIGluIHRoZSBzZWxlY3Rpb24uXG4gICAgdmFyIGluZGV4ID0gdGhpcy5zZWxlY3Rpb24uaW5kZXhPZihpdGVtKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5zZWxlY3Rpb24uc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgdGhpcy50cmlnZ2VyU2VsZWN0KCk7XG4gIH1cblxuICBzb3J0U2VsZWN0aW9uKCkge1xuICAgIHZhciBjb21wYXJlID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgaWYgKCFhLnRpbWUgfHwgIWIudGltZSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmIChhLnRpbWUgPCBiLnRpbWUpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgaWYgKGEudGltZSA+IGIudGltZSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGlvbi5zb3J0KGNvbXBhcmUpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5zZWxlY3Rpb24gPSBbXTtcbiAgICB0aGlzLmhpZ2hsaWdodEl0ZW1zKCk7XG4gICAgdGhpcy5vblNlbGVjdC5kaXNwYXRjaCh0aGlzLnNlbGVjdGlvbiwgZmFsc2UpO1xuICB9XG5cbiAgdHJpZ2dlclNlbGVjdCgpIHtcbiAgICB0aGlzLm9uU2VsZWN0LmRpc3BhdGNoKHRoaXMuc2VsZWN0aW9uLCBmYWxzZSk7XG4gIH1cblxuICBoaWdobGlnaHRJdGVtcygpIHtcbiAgICBkMy5zZWxlY3RBbGwoJy5iYXItLXNlbGVjdGVkJykuY2xhc3NlZCgnYmFyLS1zZWxlY3RlZCcsIGZhbHNlKTtcbiAgICBkMy5zZWxlY3RBbGwoJy5rZXktLXNlbGVjdGVkJykuY2xhc3NlZCgna2V5LS1zZWxlY3RlZCcsIGZhbHNlKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zZWxlY3Rpb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5zZWxlY3Rpb25baV07XG4gICAgICBpZiAoZGF0YS5fZG9tKSB7XG4gICAgICAgIHZhciBkM2l0ZW0gPSBkMy5zZWxlY3QoZGF0YS5fZG9tKTtcbiAgICAgICAgaWYgKGQzaXRlbS5jbGFzc2VkKCdiYXInKSkge1xuICAgICAgICAgIGQzaXRlbS5jbGFzc2VkKCdiYXItLXNlbGVjdGVkJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZDNpdGVtLmNsYXNzZWQoJ2tleScpKSB7XG4gICAgICAgICAgZDNpdGVtLmNsYXNzZWQoJ2tleS0tc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZWRpdG9yL1NlbGVjdGlvbk1hbmFnZXIuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 48 */
/***/ (function(module, exports) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Exporter = function () {\n  function Exporter(editor) {\n    _classCallCheck(this, Exporter);\n\n    this.editor = editor;\n  }\n\n  _createClass(Exporter, [{\n    key: 'getData',\n    value: function getData() {\n      var tweenTime = this.editor.tweenTime;\n      var domain = this.editor.timeline.x.domain();\n      var domain_start = domain[0];\n      var domain_end = domain[1];\n      return {\n        settings: {\n          time: tweenTime.timer.getCurrentTime(),\n          duration: tweenTime.timer.getDuration(),\n          domain: [domain_start.getTime(), domain_end.getTime()]\n        },\n        data: tweenTime.data\n      };\n    }\n  }, {\n    key: 'getJSON',\n    value: function getJSON() {\n      var options = this.editor.options;\n      var json_replacer = function json_replacer(key, val) {\n        // Disable all private properies from TweenMax/TimelineMax\n        if (key.indexOf('_') === 0) {\n          return undefined;\n        }\n        if (options.json_replacer !== undefined) {\n          return options.json_replacer(key, val);\n        }\n        return val;\n      };\n\n      var data = this.getData();\n      // Give the possibility to add your own data in the export.\n      // ex: new Editor({getJSON: function(data) {data.test = 42; return data;} })\n      if (typeof this.editor.options.getJSON !== 'undefined') {\n        data = this.editor.options.getJSON(data);\n      }\n      return JSON.stringify(data, json_replacer, 2);\n    }\n  }]);\n\n  return Exporter;\n}();\n\nexports.default = Exporter;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvRXhwb3J0ZXIuanM/YjE3YyJdLCJuYW1lcyI6WyJFeHBvcnRlciIsImVkaXRvciIsInR3ZWVuVGltZSIsImRvbWFpbiIsInRpbWVsaW5lIiwieCIsImRvbWFpbl9zdGFydCIsImRvbWFpbl9lbmQiLCJzZXR0aW5ncyIsInRpbWUiLCJ0aW1lciIsImdldEN1cnJlbnRUaW1lIiwiZHVyYXRpb24iLCJnZXREdXJhdGlvbiIsImdldFRpbWUiLCJkYXRhIiwib3B0aW9ucyIsImpzb25fcmVwbGFjZXIiLCJrZXkiLCJ2YWwiLCJpbmRleE9mIiwidW5kZWZpbmVkIiwiZ2V0RGF0YSIsImdldEpTT04iLCJKU09OIiwic3RyaW5naWZ5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0lBQXFCQSxRO0FBQ25CLG9CQUFZQyxNQUFaLEVBQW9CO0FBQUE7O0FBQ2xCLFNBQUtBLE1BQUwsR0FBY0EsTUFBZDtBQUNEOzs7OzhCQUVTO0FBQ1IsVUFBSUMsWUFBWSxLQUFLRCxNQUFMLENBQVlDLFNBQTVCO0FBQ0EsVUFBSUMsU0FBUyxLQUFLRixNQUFMLENBQVlHLFFBQVosQ0FBcUJDLENBQXJCLENBQXVCRixNQUF2QixFQUFiO0FBQ0EsVUFBSUcsZUFBZUgsT0FBTyxDQUFQLENBQW5CO0FBQ0EsVUFBSUksYUFBYUosT0FBTyxDQUFQLENBQWpCO0FBQ0EsYUFBTztBQUNMSyxrQkFBVTtBQUNSQyxnQkFBTVAsVUFBVVEsS0FBVixDQUFnQkMsY0FBaEIsRUFERTtBQUVSQyxvQkFBVVYsVUFBVVEsS0FBVixDQUFnQkcsV0FBaEIsRUFGRjtBQUdSVixrQkFBUSxDQUFDRyxhQUFhUSxPQUFiLEVBQUQsRUFBeUJQLFdBQVdPLE9BQVgsRUFBekI7QUFIQSxTQURMO0FBTUxDLGNBQU1iLFVBQVVhO0FBTlgsT0FBUDtBQVFEOzs7OEJBRVM7QUFDUixVQUFJQyxVQUFVLEtBQUtmLE1BQUwsQ0FBWWUsT0FBMUI7QUFDQSxVQUFJQyxnQkFBZ0IsU0FBaEJBLGFBQWdCLENBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUNyQztBQUNBLFlBQUlELElBQUlFLE9BQUosQ0FBWSxHQUFaLE1BQXFCLENBQXpCLEVBQTRCO0FBQzFCLGlCQUFPQyxTQUFQO0FBQ0Q7QUFDRCxZQUFJTCxRQUFRQyxhQUFSLEtBQTBCSSxTQUE5QixFQUF5QztBQUN2QyxpQkFBT0wsUUFBUUMsYUFBUixDQUFzQkMsR0FBdEIsRUFBMkJDLEdBQTNCLENBQVA7QUFDRDtBQUNELGVBQU9BLEdBQVA7QUFDRCxPQVREOztBQVdBLFVBQUlKLE9BQU8sS0FBS08sT0FBTCxFQUFYO0FBQ0E7QUFDQTtBQUNBLFVBQUksT0FBTyxLQUFLckIsTUFBTCxDQUFZZSxPQUFaLENBQW9CTyxPQUEzQixLQUF1QyxXQUEzQyxFQUF3RDtBQUN0RFIsZUFBTyxLQUFLZCxNQUFMLENBQVllLE9BQVosQ0FBb0JPLE9BQXBCLENBQTRCUixJQUE1QixDQUFQO0FBQ0Q7QUFDRCxhQUFPUyxLQUFLQyxTQUFMLENBQWVWLElBQWYsRUFBcUJFLGFBQXJCLEVBQW9DLENBQXBDLENBQVA7QUFDRDs7Ozs7O2tCQXhDa0JqQixRIiwiZmlsZSI6IjQ4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXhwb3J0ZXIge1xuICBjb25zdHJ1Y3RvcihlZGl0b3IpIHtcbiAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgfVxuXG4gIGdldERhdGEoKSB7XG4gICAgdmFyIHR3ZWVuVGltZSA9IHRoaXMuZWRpdG9yLnR3ZWVuVGltZTtcbiAgICB2YXIgZG9tYWluID0gdGhpcy5lZGl0b3IudGltZWxpbmUueC5kb21haW4oKTtcbiAgICB2YXIgZG9tYWluX3N0YXJ0ID0gZG9tYWluWzBdO1xuICAgIHZhciBkb21haW5fZW5kID0gZG9tYWluWzFdO1xuICAgIHJldHVybiB7XG4gICAgICBzZXR0aW5nczoge1xuICAgICAgICB0aW1lOiB0d2VlblRpbWUudGltZXIuZ2V0Q3VycmVudFRpbWUoKSxcbiAgICAgICAgZHVyYXRpb246IHR3ZWVuVGltZS50aW1lci5nZXREdXJhdGlvbigpLFxuICAgICAgICBkb21haW46IFtkb21haW5fc3RhcnQuZ2V0VGltZSgpLCBkb21haW5fZW5kLmdldFRpbWUoKV1cbiAgICAgIH0sXG4gICAgICBkYXRhOiB0d2VlblRpbWUuZGF0YVxuICAgIH07XG4gIH1cblxuICBnZXRKU09OKCkge1xuICAgIHZhciBvcHRpb25zID0gdGhpcy5lZGl0b3Iub3B0aW9ucztcbiAgICB2YXIganNvbl9yZXBsYWNlciA9IGZ1bmN0aW9uKGtleSwgdmFsKSB7XG4gICAgICAvLyBEaXNhYmxlIGFsbCBwcml2YXRlIHByb3BlcmllcyBmcm9tIFR3ZWVuTWF4L1RpbWVsaW5lTWF4XG4gICAgICBpZiAoa2V5LmluZGV4T2YoJ18nKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuanNvbl9yZXBsYWNlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmpzb25fcmVwbGFjZXIoa2V5LCB2YWwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9O1xuXG4gICAgdmFyIGRhdGEgPSB0aGlzLmdldERhdGEoKTtcbiAgICAvLyBHaXZlIHRoZSBwb3NzaWJpbGl0eSB0byBhZGQgeW91ciBvd24gZGF0YSBpbiB0aGUgZXhwb3J0LlxuICAgIC8vIGV4OiBuZXcgRWRpdG9yKHtnZXRKU09OOiBmdW5jdGlvbihkYXRhKSB7ZGF0YS50ZXN0ID0gNDI7IHJldHVybiBkYXRhO30gfSlcbiAgICBpZiAodHlwZW9mIHRoaXMuZWRpdG9yLm9wdGlvbnMuZ2V0SlNPTiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRhdGEgPSB0aGlzLmVkaXRvci5vcHRpb25zLmdldEpTT04oZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhLCBqc29uX3JlcGxhY2VyLCAyKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZWRpdG9yL0V4cG9ydGVyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(25);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar UndoManager = function () {\n  function UndoManager(editor) {\n    var _this = this;\n\n    _classCallCheck(this, UndoManager);\n\n    this.editor = editor;\n    this.history_max = 100;\n    this.history = [];\n    this.current_index = 0;\n\n    // Add the initial state\n    this.addState();\n\n    $(document).keydown(function (e) {\n      if (e.keyCode === 90) {\n        if (e.metaKey || e.ctrlKey) {\n          if (!e.shiftKey) {\n            // (command | ctrl) Z\n            _this.undo();\n          } else {\n            // (command | ctrl) shift Z\n            _this.redo();\n          }\n        }\n      }\n    });\n  }\n\n  _createClass(UndoManager, [{\n    key: 'undo',\n    value: function undo() {\n      // If there is no more history return\n      if (this.current_index <= 0) {\n        return false;\n      }\n      this.current_index -= 1;\n      this.setState(this.current_index);\n    }\n  }, {\n    key: 'redo',\n    value: function redo() {\n      // Stop if there is no more things.\n      if (this.current_index >= this.history.length - 1) {\n        return false;\n      }\n      this.current_index += 1;\n      this.setState(this.current_index);\n    }\n  }, {\n    key: 'addState',\n    value: function addState() {\n      var data = JSON.parse(this.editor.exporter.getJSON());\n\n      // if we did some undo before and then edit something,\n      // we want to remove all actions past the current index first.\n      if (this.current_index + 1 < this.history.length) {\n        this.history.splice(this.current_index + 1, this.history.length - 1);\n      }\n\n      this.history.push(data);\n\n      // Keep history to a max size by removing the first element if needed.\n      if (this.history.length > this.history_max) {\n        this.history.shift();\n      }\n\n      // Set the current index\n      this.current_index = this.history.length - 1;\n    }\n  }, {\n    key: 'setState',\n    value: function setState(index) {\n      var state = this.history[index];\n      var data = state.data;\n      var tweenTime = this.editor.tweenTime;\n\n      // naively copy keys and values from previous state\n      for (var item_key = 0; item_key < data.length; item_key++) {\n        var item = data[item_key];\n        // if item is not defined copy it\n        if (!tweenTime.data[item_key]) {\n          tweenTime.data[item_key] = item;\n        } else {\n          for (var prop_key = 0; prop_key < item.properties.length; prop_key++) {\n            var prop = item.properties[prop_key];\n            // if property is not defined copy it\n            if (!tweenTime.data[item_key].properties[prop_key]) {\n              tweenTime.data[item_key].properties[prop_key] = prop;\n            } else {\n              // set property keys\n              var keys = tweenTime.data[item_key].properties[prop_key].keys;\n              for (var key_key = 0; key_key < prop.keys.length; key_key++) {\n                var key = prop.keys[key_key];\n                if (!keys[key_key]) {\n                  keys[key_key] = key;\n                } else {\n                  keys[key_key].time = key.time;\n                  keys[key_key].val = key.val;\n                  keys[key_key].ease = key.ease;\n                }\n              }\n            }\n          }\n        }\n\n        tweenTime.data[item_key]._isDirty = true;\n      }\n      this.editor.render(false, true);\n    }\n  }]);\n\n  return UndoManager;\n}();\n\nexports.default = UndoManager;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvVW5kb01hbmFnZXIuanM/YzZiNyJdLCJuYW1lcyI6WyJVbmRvTWFuYWdlciIsImVkaXRvciIsImhpc3RvcnlfbWF4IiwiaGlzdG9yeSIsImN1cnJlbnRfaW5kZXgiLCJhZGRTdGF0ZSIsIiQiLCJkb2N1bWVudCIsImtleWRvd24iLCJlIiwia2V5Q29kZSIsIm1ldGFLZXkiLCJjdHJsS2V5Iiwic2hpZnRLZXkiLCJ1bmRvIiwicmVkbyIsInNldFN0YXRlIiwibGVuZ3RoIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsImV4cG9ydGVyIiwiZ2V0SlNPTiIsInNwbGljZSIsInB1c2giLCJzaGlmdCIsImluZGV4Iiwic3RhdGUiLCJ0d2VlblRpbWUiLCJpdGVtX2tleSIsIml0ZW0iLCJwcm9wX2tleSIsInByb3BlcnRpZXMiLCJwcm9wIiwia2V5cyIsImtleV9rZXkiLCJrZXkiLCJ0aW1lIiwidmFsIiwiZWFzZSIsIl9pc0RpcnR5IiwicmVuZGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7O0lBRXFCQSxXO0FBQ25CLHVCQUFZQyxNQUFaLEVBQW9CO0FBQUE7O0FBQUE7O0FBQ2xCLFNBQUtBLE1BQUwsR0FBY0EsTUFBZDtBQUNBLFNBQUtDLFdBQUwsR0FBbUIsR0FBbkI7QUFDQSxTQUFLQyxPQUFMLEdBQWUsRUFBZjtBQUNBLFNBQUtDLGFBQUwsR0FBcUIsQ0FBckI7O0FBRUE7QUFDQSxTQUFLQyxRQUFMOztBQUVBQyxNQUFFQyxRQUFGLEVBQVlDLE9BQVosQ0FBb0IsVUFBQ0MsQ0FBRCxFQUFPO0FBQ3pCLFVBQUlBLEVBQUVDLE9BQUYsS0FBYyxFQUFsQixFQUFzQjtBQUNwQixZQUFJRCxFQUFFRSxPQUFGLElBQWFGLEVBQUVHLE9BQW5CLEVBQTRCO0FBQzFCLGNBQUksQ0FBQ0gsRUFBRUksUUFBUCxFQUFpQjtBQUNmO0FBQ0Esa0JBQUtDLElBQUw7QUFDRCxXQUhELE1BSUs7QUFDSDtBQUNBLGtCQUFLQyxJQUFMO0FB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LElBQUlDLElBQXpCO0FBQ0FILHVCQUFLQyxPQUFMLEVBQWNHLEdBQWQsR0FBb0JGLElBQUlFLEdBQXhCO0FBQ0FKLHVCQUFLQyxPQUFMLEVBQWNJLElBQWQsR0FBcUJILElBQUlHLElBQXpCO0FBQ0Q7QUFDRjtBQUNGO0FBQ0Y7QUFDRjs7QUFFRFgsa0JBQVVWLElBQVYsQ0FBZVcsUUFBZixFQUF5QlcsUUFBekIsR0FBb0MsSUFBcEM7QUFDRDtBQUNELFdBQUt2QyxNQUFMLENBQVl3QyxNQUFaLENBQW1CLEtBQW5CLEVBQTBCLElBQTFCO0FBQ0Q7Ozs7OztrQkF4R2tCekMsVyIsImZpbGUiOiI0OS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnanF1ZXJ5JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVW5kb01hbmFnZXIge1xuICBjb25zdHJ1Y3RvcihlZGl0b3IpIHtcbiAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgICB0aGlzLmhpc3RvcnlfbWF4ID0gMTAwO1xuICAgIHRoaXMuaGlzdG9yeSA9IFtdO1xuICAgIHRoaXMuY3VycmVudF9pbmRleCA9IDA7XG5cbiAgICAvLyBBZGQgdGhlIGluaXRpYWwgc3RhdGVcbiAgICB0aGlzLmFkZFN0YXRlKCk7XG5cbiAgICAkKGRvY3VtZW50KS5rZXlkb3duKChlKSA9PiB7XG4gICAgICBpZiAoZS5rZXlDb2RlID09PSA5MCkge1xuICAgICAgICBpZiAoZS5tZXRhS2V5IHx8IGUuY3RybEtleSkge1xuICAgICAgICAgIGlmICghZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgLy8gKGNvbW1hbmQgfCBjdHJsKSBaXG4gICAgICAgICAgICB0aGlzLnVuZG8oKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyAoY29tbWFuZCB8IGN0cmwpIHNoaWZ0IFpcbiAgICAgICAgICAgIHRoaXMucmVkbygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdW5kbygpIHtcbiAgICAvLyBJZiB0aGVyZSBpcyBubyBtb3JlIGhpc3RvcnkgcmV0dXJuXG4gICAgaWYgKHRoaXMuY3VycmVudF9pbmRleCA8PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudF9pbmRleCAtPSAxO1xuICAgIHRoaXMuc2V0U3RhdGUodGhpcy5jdXJyZW50X2luZGV4KTtcbiAgfVxuXG4gIHJlZG8oKSB7XG4gICAgLy8gU3RvcCBpZiB0aGVyZSBpcyBubyBtb3JlIHRoaW5ncy5cbiAgICBpZiAodGhpcy5jdXJyZW50X2luZGV4ID49IHRoaXMuaGlzdG9yeS5sZW5ndGggLSAxKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudF9pbmRleCArPSAxO1xuICAgIHRoaXMuc2V0U3RhdGUodGhpcy5jdXJyZW50X2luZGV4KTtcbiAgfVxuXG4gIGFkZFN0YXRlKCkge1xuICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZSh0aGlzLmVkaXRvci5leHBvcnRlci5nZXRKU09OKCkpO1xuXG4gICAgLy8gaWYgd2UgZGlkIHNvbWUgdW5kbyBiZWZvcmUgYW5kIHRoZW4gZWRpdCBzb21ldGhpbmcsXG4gICAgLy8gd2Ugd2FudCB0byByZW1vdmUgYWxsIGFjdGlvbnMgcGFzdCB0aGUgY3VycmVudCBpbmRleCBmaXJzdC5cbiAgICBpZiAodGhpcy5jdXJyZW50X2luZGV4ICsgMSA8IHRoaXMuaGlzdG9yeS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuaGlzdG9yeS5zcGxpY2UodGhpcy5jdXJyZW50X2luZGV4ICsgMSwgdGhpcy5oaXN0b3J5Lmxlbmd0aCAtIDEpO1xuICAgIH1cblxuICAgIHRoaXMuaGlzdG9yeS5wdXNoKGRhdGEpO1xuXG4gICAgLy8gS2VlcCBoaXN0b3J5IHRvIGEgbWF4IHNpemUgYnkgcmVtb3ZpbmcgdGhlIGZpcnN0IGVsZW1lbnQgaWYgbmVlZGVkLlxuICAgIGlmICh0aGlzLmhpc3RvcnkubGVuZ3RoID4gdGhpcy5oaXN0b3J5X21heCkge1xuICAgICAgdGhpcy5oaXN0b3J5LnNoaWZ0KCk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBjdXJyZW50IGluZGV4XG4gICAgdGhpcy5jdXJyZW50X2luZGV4ID0gdGhpcy5oaXN0b3J5Lmxlbmd0aCAtIDE7XG4gIH1cblxuICBzZXRTdGF0ZShpbmRleCkge1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuaGlzdG9yeVtpbmRleF07XG4gICAgdmFyIGRhdGEgPSBzdGF0ZS5kYXRhO1xuICAgIHZhciB0d2VlblRpbWUgPSB0aGlzLmVkaXRvci50d2VlblRpbWU7XG5cbiAgICAvLyBuYWl2ZWx5IGNvcHkga2V5cyBhbmQgdmFsdWVzIGZyb20gcHJldmlvdXMgc3RhdGVcbiAgICBmb3IgKHZhciBpdGVtX2tleSA9IDA7IGl0ZW1fa2V5IDwgZGF0YS5sZW5ndGg7IGl0ZW1fa2V5KyspIHtcbiAgICAgIHZhciBpdGVtID0gZGF0YVtpdGVtX2tleV07XG4gICAgICAvLyBpZiBpdGVtIGlzIG5vdCBkZWZpbmVkIGNvcHkgaXRcbiAgICAgIGlmICghdHdlZW5UaW1lLmRhdGFbaXRlbV9rZXldKSB7XG4gICAgICAgIHR3ZWVuVGltZS5kYXRhW2l0ZW1fa2V5XSA9IGl0ZW07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcF9rZXkgPSAwOyBwcm9wX2tleSA8IGl0ZW0ucHJvcGVydGllcy5sZW5ndGg7IHByb3Bfa2V5KyspIHtcbiAgICAgICAgICB2YXIgcHJvcCA9IGl0ZW0ucHJvcGVydGllc1twcm9wX2tleV07XG4gICAgICAgICAgLy8gaWYgcHJvcGVydHkgaXMgbm90IGRlZmluZWQgY29weSBpdFxuICAgICAgICAgIGlmICghdHdlZW5UaW1lLmRhdGFbaXRlbV9rZXldLnByb3BlcnRpZXNbcHJvcF9rZXldKSB7XG4gICAgICAgICAgICB0d2VlblRpbWUuZGF0YVtpdGVtX2tleV0ucHJvcGVydGllc1twcm9wX2tleV0gPSBwcm9wO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNldCBwcm9wZXJ0eSBrZXlzXG4gICAgICAgICAgICB2YXIga2V5cyA9IHR3ZWVuVGltZS5kYXRhW2l0ZW1fa2V5XS5wcm9wZXJ0aWVzW3Byb3Bfa2V5XS5rZXlzO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5X2tleSA9IDA7IGtleV9rZXkgPCBwcm9wLmtleXMubGVuZ3RoOyBrZXlfa2V5KyspIHtcbiAgICAgICAgICAgICAgdmFyIGtleSA9IHByb3Aua2V5c1trZXlfa2V5XTtcbiAgICAgICAgICAgICAgaWYgKCFrZXlzW2tleV9rZXldKSB7XG4gICAgICAgICAgICAgICAga2V5c1trZXlfa2V5XSA9IGtleTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBrZXlzW2tleV9rZXldLnRpbWUgPSBrZXkudGltZTtcbiAgICAgICAgICAgICAgICBrZXlzW2tleV9rZXldLnZhbCA9IGtleS52YWw7XG4gICAgICAgICAgICAgICAga2V5c1trZXlfa2V5XS5lYXNlID0ga2V5LmVhc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdHdlZW5UaW1lLmRhdGFbaXRlbV9rZXldLl9pc0RpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5lZGl0b3IucmVuZGVyKGZhbHNlLCB0cnVlKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZWRpdG9yL1VuZG9NYW5hZ2VyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

	eval("var H = __webpack_require__(31);\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"timeline\\\">\");t.b(\"\\n\" + i);t.b(\"  <nav class=\\\"timeline__menu\\\">\");t.b(\"\\n\" + i);t.b(\"    <a href=\\\"#\\\" class=\\\"menu-item\\\" data-action=\\\"export\\\">Export</a>\");t.b(\"\\n\" + i);t.b(\"    <a href=\\\"#\\\" class=\\\"menu-item\\\" data-action=\\\"switch-curve\\\">Switch curve editor</a>\");t.b(\"\\n\" + i);t.b(\"    <a href=\\\"#\\\" class=\\\"menu-item menu-item--toggle\\\" data-action=\\\"toggle\\\"><i class=\\\"icon-toggle\\\"></i></a>\");t.b(\"\\n\" + i);t.b(\"  </nav>\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"timeline__controls controls\\\">\");t.b(\"\\n\" + i);t.b(\"    <a href=\\\"#\\\" class=\\\"control control--first icon-backward\\\"></a>\");t.b(\"\\n\" + i);t.b(\"    <a href=\\\"#\\\" class=\\\"control control--play-pause icon-play\\\"></a>\");t.b(\"\\n\" + i);t.b(\"    <a href=\\\"#\\\" class=\\\"control control--last icon-forward\\\"></a>\");t.b(\"\\n\" + i);t.b(\"    <input type=\\\"text\\\" class=\\\"control control--input control--time\\\" /> <span class=\\\"control__time-separator\\\">/</span> <input type=\\\"text\\\" class=\\\"control control--input control--time-end\\\" />\");t.b(\"\\n\" + i);t.b(\"  </div>\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"timeline__header\\\">\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"  </div>\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"timeline__main\\\">\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"  </div>\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"timeline\\\">\\n  <nav class=\\\"timeline__menu\\\">\\n    <a href=\\\"#\\\" class=\\\"menu-item\\\" data-action=\\\"export\\\">Export</a>\\n    <a href=\\\"#\\\" class=\\\"menu-item\\\" data-action=\\\"switch-curve\\\">Switch curve editor</a>\\n    <a href=\\\"#\\\" class=\\\"menu-item menu-item--toggle\\\" data-action=\\\"toggle\\\"><i class=\\\"icon-toggle\\\"></i></a>\\n  </nav>\\n  <div class=\\\"timeline__controls controls\\\">\\n    <a href=\\\"#\\\" class=\\\"control control--first icon-backward\\\"></a>\\n    <a href=\\\"#\\\" class=\\\"control control--play-pause icon-play\\\"></a>\\n    <a href=\\\"#\\\" class=\\\"control control--last icon-forward\\\"></a>\\n    <input type=\\\"text\\\" class=\\\"control control--input control--time\\\" /> <span class=\\\"control__time-separator\\\">/</span> <input type=\\\"text\\\" class=\\\"control control--input control--time-end\\\" />\\n  </div>\\n  <div class=\\\"timeline__header\\\">\\n\\n  </div>\\n  <div class=\\\"timeline__main\\\">\\n\\n  </div>\\n</div>\\n\", H); return T.render.apply(T, arguments); };//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZW1wbGF0ZXMvdGltZWxpbmUudHBsLmh0bWw/ZjgzMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLDZCQUE2Qix5QkFBeUIsd0JBQXdCLFlBQVksYUFBYSxnQ0FBZ0MsY0FBYyx3Q0FBd0MsY0FBYywrRUFBK0UsY0FBYyxrR0FBa0csY0FBYyx3SEFBd0gsY0FBYyxnQkFBZ0IsY0FBYyxxREFBcUQsY0FBYyw2RUFBNkUsY0FBYyw4RUFBOEUsY0FBYywyRUFBMkUsY0FBYyw4TUFBOE0sY0FBYyxnQkFBZ0IsY0FBYywwQ0FBMEMsVUFBVSxjQUFjLGdCQUFnQixjQUFjLHdDQUF3QyxVQUFVLGNBQWMsZ0JBQWdCLGNBQWMsY0FBYyxVQUFVLGNBQWMsRUFBRSxhQUFhLFNBQVMsSUFBSSxpNkJBQWk2QixxQ0FBcUMiLCJmaWxlIjoiNTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSCA9IHJlcXVpcmUoXCJob2dhbi5qc1wiKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7IHZhciBUID0gbmV3IEguVGVtcGxhdGUoe2NvZGU6IGZ1bmN0aW9uIChjLHAsaSkgeyB2YXIgdD10aGlzO3QuYihpPWl8fFwiXCIpO3QuYihcIjxkaXYgY2xhc3M9XFxcInRpbWVsaW5lXFxcIj5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgIDxuYXYgY2xhc3M9XFxcInRpbWVsaW5lX19tZW51XFxcIj5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgPGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcIm1lbnUtaXRlbVxcXCIgZGF0YS1hY3Rpb249XFxcImV4cG9ydFxcXCI+RXhwb3J0PC9hPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICA8YSBocmVmPVxcXCIjXFxcIiBjbGFzcz1cXFwibWVudS1pdGVtXFxcIiBkYXRhLWFjdGlvbj1cXFwic3dpdGNoLWN1cnZlXFxcIj5Td2l0Y2ggY3VydmUgZWRpdG9yPC9hPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICA8YSBocmVmPVxcXCIjXFxcIiBjbGFzcz1cXFwibWVudS1pdGVtIG1lbnUtaXRlbS0tdG9nZ2xlXFxcIiBkYXRhLWFjdGlvbj1cXFwidG9nZ2xlXFxcIj48aSBjbGFzcz1cXFwiaWNvbi10b2dnbGVcXFwiPjwvaT48L2E+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8L25hdj5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgIDxkaXYgY2xhc3M9XFxcInRpbWVsaW5lX19jb250cm9scyBjb250cm9sc1xcXCI+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgIDxhIGhyZWY9XFxcIiNcXFwiIGNsYXNzPVxcXCJjb250cm9sIGNvbnRyb2wtLWZpcnN0IGljb24tYmFja3dhcmRcXFwiPjwvYT5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgPGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcImNvbnRyb2wgY29udHJvbC0tcGxheS1wYXVzZSBpY29uLXBsYXlcXFwiPjwvYT5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgPGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcImNvbnRyb2wgY29udHJvbC0tbGFzdCBpY29uLWZvcndhcmRcXFwiPjwvYT5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJjb250cm9sIGNvbnRyb2wtLWlucHV0IGNvbnRyb2wtLXRpbWVcXFwiIC8+IDxzcGFuIGNsYXNzPVxcXCJjb250cm9sX190aW1lLXNlcGFyYXRvclxcXCI+Lzwvc3Bhbj4gPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJjb250cm9sIGNvbnRyb2wtLWlucHV0IGNvbnRyb2wtLXRpbWUtZW5kXFxcIiAvPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgPC9kaXY+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8ZGl2IGNsYXNzPVxcXCJ0aW1lbGluZV9faGVhZGVyXFxcIj5cIik7dC5iKFwiXFxuXCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8L2Rpdj5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgIDxkaXYgY2xhc3M9XFxcInRpbWVsaW5lX19tYWluXFxcIj5cIik7dC5iKFwiXFxuXCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8L2Rpdj5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCI8L2Rpdj5cIik7dC5iKFwiXFxuXCIpO3JldHVybiB0LmZsKCk7IH0scGFydGlhbHM6IHt9LCBzdWJzOiB7ICB9fSwgXCI8ZGl2IGNsYXNzPVxcXCJ0aW1lbGluZVxcXCI+XFxuICA8bmF2IGNsYXNzPVxcXCJ0aW1lbGluZV9fbWVudVxcXCI+XFxuICAgIDxhIGhyZWY9XFxcIiNcXFwiIGNsYXNzPVxcXCJtZW51LWl0ZW1cXFwiIGRhdGEtYWN0aW9uPVxcXCJleHBvcnRcXFwiPkV4cG9ydDwvYT5cXG4gICAgPGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcIm1lbnUtaXRlbVxcXCIgZGF0YS1hY3Rpb249XFxcInN3aXRjaC1jdXJ2ZVxcXCI+U3dpdGNoIGN1cnZlIGVkaXRvcjwvYT5cXG4gICAgPGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcIm1lbnUtaXRlbSBtZW51LWl0ZW0tLXRvZ2dsZVxcXCIgZGF0YS1hY3Rpb249XFxcInRvZ2dsZVxcXCI+PGkgY2xhc3M9XFxcImljb24tdG9nZ2xlXFxcIj48L2k+PC9hPlxcbiAgPC9uYXY+XFxuICA8ZGl2IGNsYXNzPVxcXCJ0aW1lbGluZV9fY29udHJvbHMgY29udHJvbHNcXFwiPlxcbiAgICA8YSBocmVmPVxcXCIjXFxcIiBjbGFzcz1cXFwiY29udHJvbCBjb250cm9sLS1maXJzdCBpY29uLWJhY2t3YXJkXFxcIj48L2E+XFxuICAgIDxhIGhyZWY9XFxcIiNcXFwiIGNsYXNzPVxcXCJjb250cm9sIGNvbnRyb2wtLXBsYXktcGF1c2UgaWNvbi1wbGF5XFxcIj48L2E+XFxuICAgIDxhIGhyZWY9XFxcIiNcXFwiIGNsYXNzPVxcXCJjb250cm9sIGNvbnRyb2wtLWxhc3QgaWNvbi1mb3J3YXJkXFxcIj48L2E+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiY29udHJvbCBjb250cm9sLS1pbnB1dCBjb250cm9sLS10aW1lXFxcIiAvPiA8c3BhbiBjbGFzcz1cXFwiY29udHJvbF9fdGltZS1zZXBhcmF0b3JcXFwiPi88L3NwYW4+IDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiY29udHJvbCBjb250cm9sLS1pbnB1dCBjb250cm9sLS10aW1lLWVuZFxcXCIgLz5cXG4gIDwvZGl2PlxcbiAgPGRpdiBjbGFzcz1cXFwidGltZWxpbmVfX2hlYWRlclxcXCI+XFxuXFxuICA8L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XFxcInRpbWVsaW5lX19tYWluXFxcIj5cXG5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblwiLCBIKTsgcmV0dXJuIFQucmVuZGVyLmFwcGx5KFQsIGFyZ3VtZW50cyk7IH07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi90ZW1wbGF0ZXMvdGltZWxpbmUudHBsLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDUwXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ })
/******/ ])
});
;